# coding=utf-8
#         Copyright (C) 2024  lanyangyin
#
#         This program is free software: you can redistribute it and/or modify
#         it under the terms of the GNU General Public License as published by
#         the Free Software Foundation, either version 3 of the License, or
#         (at your option) any later version.
#
#         This program is distributed in the hope that it will be useful,
#         but WITHOUT ANY WARRANTY; without even the implied warranty of
#         MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#         GNU General Public License for more details.
#
#         You should have received a copy of the GNU General Public License
#         along with this program.  If not, see <https://www.gnu.org/licenses/>.
#         2436725966@qq.com

import asyncio
# 兼容 Python 3.6 的 asyncio 一些新接口
if not hasattr(asyncio, "create_task"):
    def _asyncio_create_task(*args, **kwargs):
        """
        兼容 Python 3.6：接受 name 等关键字参数但忽略，
        只取第一个位置参数作为 coroutine。
        """
        # 先处理 loop 参数（可能是关键字传进来的）
        loop = kwargs.pop("loop", None)
        if loop is None:
            loop = asyncio.get_event_loop()

        if not args:
            raise TypeError("_asyncio_create_task expected at least 1 positional argument (the coroutine)")

        coro = args[0]
        # 不把 kwargs 往下传，避免旧版 loop.create_task 不认识 name 等参数
        return loop.create_task(coro)
    asyncio.create_task = _asyncio_create_task  # type: ignore

if not hasattr(asyncio, "get_running_loop"):
    def _asyncio_get_running_loop():
        # Python 3.6 中没有 get_running_loop，退化为 get_event_loop 的行为
        loop = asyncio.get_event_loop()
        if loop is None:
            raise RuntimeError("No running event loop")
        return loop
    asyncio.get_running_loop = _asyncio_get_running_loop  # type: ignore

if not hasattr(asyncio, "run"):
    def _asyncio_run(coro):
        loop = asyncio.new_event_loop()
        try:
            asyncio.set_event_loop(loop)
            return loop.run_until_complete(coro)
        finally:
            asyncio.set_event_loop(None)
            loop.close()
    asyncio.run = _asyncio_run  # type: ignore

import base64
import hashlib
import io
import json
import os
import pathlib
import random
import re
import socket
import ssl
import string
import struct
import sys
import threading
import time
import types
import urllib
import urllib.request
import zlib
from dataclasses import dataclass, field
from datetime import datetime, timedelta
from functools import lru_cache, reduce
from pathlib import Path
from typing import Optional, Dict, Union, List, Any, Callable, Iterator, Set, Tuple

try:
    # Python 3.8+ 提供 Literal 和 TypedDict
    from typing import Literal, TypedDict
except ImportError:  # Python 3.6 兼容
    from typing_extensions import Literal, TypedDict

from collections import OrderedDict
from urllib.error import URLError
from urllib.parse import quote, unquote, parse_qs, urlparse
import webbrowser

import pyperclip as cb
import qrcode.main  # 必须这样，不能只 import qrcode
import requests
import urllib3
import websockets
from PIL import Image, ImageOps
from requests.exceptions import SSLError
from werkzeug.serving import make_server

import obspython as obs

# ================= OBS 27 compatibility shim =====================
# Some constants and enums used by this script only exist in newer
# OBS versions. Define them here when missing so that the script
# can also run on OBS 27's Python API.
try:
    _obs = obs
except Exception:
    _obs = None

if _obs is not None:
    # Text info types
    if not hasattr(obs, "OBS_TEXT_INFO_NORMAL"):
        obs.OBS_TEXT_INFO_NORMAL = 0
    if not hasattr(obs, "OBS_TEXT_INFO_WARNING"):
        obs.OBS_TEXT_INFO_WARNING = 1
    if not hasattr(obs, "OBS_TEXT_INFO_ERROR"):
        obs.OBS_TEXT_INFO_ERROR = 2

    # OBS_TEXT_INFO property type (fallback to MULTILINE / DEFAULT)
    if not hasattr(obs, "OBS_TEXT_INFO"):
        if hasattr(obs, "OBS_TEXT_MULTILINE"):
            obs.OBS_TEXT_INFO = obs.OBS_TEXT_MULTILINE
        elif hasattr(obs, "OBS_TEXT_DEFAULT"):
            obs.OBS_TEXT_INFO = obs.OBS_TEXT_DEFAULT
        else:
            obs.OBS_TEXT_INFO = 0

    # Combo box types and formats
    if not hasattr(obs, "OBS_COMBO_TYPE_EDITABLE"):
        obs.OBS_COMBO_TYPE_EDITABLE = 0
    if not hasattr(obs, "OBS_COMBO_TYPE_LIST"):
        obs.OBS_COMBO_TYPE_LIST = 1
    if not hasattr(obs, "OBS_COMBO_TYPE_RADIO"):
        obs.OBS_COMBO_TYPE_RADIO = 2

    if not hasattr(obs, "OBS_COMBO_FORMAT_INT"):
        obs.OBS_COMBO_FORMAT_INT = 0
    if not hasattr(obs, "OBS_COMBO_FORMAT_FLOAT"):
        obs.OBS_COMBO_FORMAT_FLOAT = 1
    if not hasattr(obs, "OBS_COMBO_FORMAT_STRING"):
        obs.OBS_COMBO_FORMAT_STRING = 2
    if not hasattr(obs, "OBS_COMBO_FORMAT_BOOL"):
        obs.OBS_COMBO_FORMAT_BOOL = 3

    # Button types
    if not hasattr(obs, "OBS_BUTTON_DEFAULT"):
        obs.OBS_BUTTON_DEFAULT = 0
    if not hasattr(obs, "OBS_BUTTON_URL"):
        obs.OBS_BUTTON_URL = 1

    # Group types
    if not hasattr(obs, "OBS_GROUP_NORMAL"):
        obs.OBS_GROUP_NORMAL = 1
    if not hasattr(obs, "OBS_GROUP_CHECKABLE"):
        obs.OBS_GROUP_CHECKABLE = 2

    # Frontend events: define any missing ones with dummy negative values so
    # that attribute access works even on older OBS versions. We deliberately
    # use values that should not conflict with real frontend event codes.
    _frontend_event_base = -1000
    _frontend_event_names = ['OBS_FRONTEND_EVENT_EXIT', 'OBS_FRONTEND_EVENT_FINISHED_LOADING', 'OBS_FRONTEND_EVENT_PREVIEW_SCENE_CHANGED', 'OBS_FRONTEND_EVENT_PROFILE_CHANGED', 'OBS_FRONTEND_EVENT_PROFILE_CHANGING', 'OBS_FRONTEND_EVENT_PROFILE_LIST_CHANGED', 'OBS_FRONTEND_EVENT_PROFILE_RENAMED', 'OBS_FRONTEND_EVENT_RECORDING_PAUSED', 'OBS_FRONTEND_EVENT_RECORDING_STARTED', 'OBS_FRONTEND_EVENT_RECORDING_STARTING', 'OBS_FRONTEND_EVENT_RECORDING_STOPPED', 'OBS_FRONTEND_EVENT_RECORDING_STOPPING', 'OBS_FRONTEND_EVENT_RECORDING_UNPAUSED', 'OBS_FRONTEND_EVENT_REPLAY_BUFFER_SAVED', 'OBS_FRONTEND_EVENT_REPLAY_BUFFER_STARTED', 'OBS_FRONTEND_EVENT_REPLAY_BUFFER_STARTING', 'OBS_FRONTEND_EVENT_REPLAY_BUFFER_STOPPED', 'OBS_FRONTEND_EVENT_REPLAY_BUFFER_STOPPING', 'OBS_FRONTEND_EVENT_SCENE_CHANGED', 'OBS_FRONTEND_EVENT_SCENE_COLLECTION_CHANGED', 'OBS_FRONTEND_EVENT_SCENE_COLLECTION_CHANGING', 'OBS_FRONTEND_EVENT_SCENE_COLLECTION_CLEANUP', 'OBS_FRONTEND_EVENT_SCENE_COLLECTION_LIST_CHANGED', 'OBS_FRONTEND_EVENT_SCENE_COLLECTION_RENAMED', 'OBS_FRONTEND_EVENT_SCENE_LIST_CHANGED', 'OBS_FRONTEND_EVENT_SCREENSHOT_TAKEN', 'OBS_FRONTEND_EVENT_SCRIPTING_SHUTDOWN', 'OBS_FRONTEND_EVENT_STREAMING_STARTED', 'OBS_FRONTEND_EVENT_STREAMING_STARTING', 'OBS_FRONTEND_EVENT_STREAMING_STOPPED', 'OBS_FRONTEND_EVENT_STREAMING_STOPPING', 'OBS_FRONTEND_EVENT_STUDIO_MODE_DISABLED', 'OBS_FRONTEND_EVENT_STUDIO_MODE_ENABLED', 'OBS_FRONTEND_EVENT_TBAR_VALUE_CHANGED', 'OBS_FRONTEND_EVENT_THEME_CHANGED', 'OBS_FRONTEND_EVENT_TRANSITION_CHANGED', 'OBS_FRONTEND_EVENT_TRANSITION_DURATION_CHANGED', 'OBS_FRONTEND_EVENT_TRANSITION_LIST_CHANGED', 'OBS_FRONTEND_EVENT_TRANSITION_STOPPED', 'OBS_FRONTEND_EVENT_VIRTUALCAM_STARTED', 'OBS_FRONTEND_EVENT_VIRTUALCAM_STOPPED']
    for _idx, _name in enumerate(_frontend_event_names):
        if not hasattr(obs, _name):
            setattr(obs, _name, _frontend_event_base - _idx)


    # Text info property helpers (only available in newer OBS versions).
    # On OBS 27 these APIs do not exist, so we provide no-op / default
    # implementations to keep the script logic running.
    if not hasattr(obs, "obs_property_text_info_type"):
        def _compat_obs_property_text_info_type(prop):
            # There is no per-property info type; pretend everything is NORMAL.
            return getattr(obs, "OBS_TEXT_INFO_NORMAL", 0)
        obs.obs_property_text_info_type = _compat_obs_property_text_info_type

    if not hasattr(obs, "obs_property_text_set_info_type"):
        def _compat_obs_property_text_set_info_type(prop, info_type):
            # Old OBS cannot style text properties by info type; ignore.
            return
        obs.obs_property_text_set_info_type = _compat_obs_property_text_set_info_type

# ================= end OBS 27 compatibility shim =================

# import 结束 ====================================================================================================




def script_path():
    """
    用于获取脚本所在文件夹的路径，这其实是一个obs插件内置函数，
    只在obs插件指定的函数内部使用有效,
    这里构建这个函数是没必要的，写在这里只是为了避免IDE出现error提示
    """
    return f"{Path(__file__).parent}\\"




class FlaskServer:
    """封装Flask服务器，提供start/stop接口"""

    def __init__(self, app, host='0.0.0.0', port=5000):
        self.app = app
        self.host = host
        self.port = port
        self.server = None
        self.thread = None
        self._is_running = False

    def start(self):
        """启动服务器"""
        if self._is_running:
            log_save(obs.LOG_INFO, "服务器已经在运行")
            return

        def run_server():
            self.server = make_server(self.host, self.port, self.app)
            self._is_running = True
            self.server.serve_forever()

        self.thread = threading.Thread(target=run_server)
        self.thread.daemon = True
        self.thread.start()

        # 等待服务器启动
        time.sleep(1)
        log_save(obs.LOG_INFO, f"服务器已启动: http://{self.host}:{self.port}")

    def stop(self):
        """停止服务器"""
        if not self._is_running or not self.server:
            log_save(obs.LOG_INFO, "服务器未运行")
            return

        self.server.shutdown()
        self._is_running = False

        if self.thread and self.thread.is_alive():
            self.thread.join(timeout=5)

        log_save(obs.LOG_INFO, "服务器已停止")
        GlobalVariableOfData.server_thread = None

    def is_running(self):
        """检查服务器是否在运行"""
        return self._is_running


class NetworkErrorCode:
    """定义网络错误码"""
    NETWORK_CONNECTION_SUCCESS: int = 0
    "网络连接成功"
    NETWORK_DNS_FAILED: int = 1
    "DNS 连接失败"
    NETWORK_ALL_SERVICES_FAILED: int = 2
    "所有服务连接尝试失败"
    NETWORK_HTTP_FAILED: int = 3
    "HTTP 连接失败"


class SslErrorCode:
    """定义ssl错误码"""
    SSL_VERIFICATION_SUCCESS: int = 0
    """SSL验证成功"""
    SSL_CERTIFICATE_ERROR: int = 1
    """SSL证书错误"""
    SSL_NETWORK_ERROR: int = 2
    """SSL网络错误"""
    SSL_UNKNOWN_ERROR: int = 3
    """SSL未知错误"""


# 工具类函数
class Tools:
    """工具函数"""

    @staticmethod
    def check_network_connection() -> Dict[str, Union[Dict[str, Union[bool, list, float, str]], bool, str, int]]:
        """
        检查网络连接，通过多个服务提供者的链接验证

        Returns:
            dict: 包含以下键的字典:
                - 'connected': bool, 网络是否连通
                - 'code': int, 错误码 (0表示成功)
                - 'data': dict, 包含详细信息如延迟、使用的服务等
                - 'message': str, 描述性消息
        """
        result: Dict[str, Union[Dict[str, Union[bool, list, float, str]], NetworkErrorCode, bool, str, int]] = {
            'connected': False,
            'code': NetworkErrorCode.NETWORK_ALL_SERVICES_FAILED,
            'data': {
                'dns_checked': False,
                'services_checked': [],
                'successful_service': None,
                'latency_ms': None
            },
            'message': '所有连接尝试均失败'
        }

        # 1. 首先尝试快速DNS连接检查
        try:
            start_time = time.time()
            socket.create_connection(("8.8.8.8", 53), timeout=5)
            elapsed = (time.time() - start_time) * 1000

            result['connected'] = True
            result['code'] = NetworkErrorCode.NETWORK_CONNECTION_SUCCESS
            result['data']['dns_checked'] = True
            result['data']['latency_ms'] = elapsed
            result['data']['successful_service'] = 'DNS (8.8.8.8:53)'
            result['message'] = f'DNS连接成功，延迟: {elapsed:.2f}ms'

            return result
        except OSError as e:
            result['code'] = NetworkErrorCode.NETWORK_DNS_FAILED
            result['message'] = f'DNS连接失败: {str(e)}'
            # 继续尝试其他方法

        # 2. 尝试多个服务提供者的链接
        test_services = [
            {"url": "http://www.gstatic.com/generate_204", "provider": "Google"},
            {"url": "http://www.google-analytics.com/generate_204", "provider": "Google"},
            {"url": "http://connectivitycheck.gstatic.com/generate_204", "provider": "Google"},
            {"url": "http://captive.apple.com", "provider": "Apple"},
            {"url": "http://www.msftconnecttest.com/connecttest.txt", "provider": "Microsoft"},
            {"url": "http://cp.cloudflare.com/", "provider": "Cloudflare"},
            {"url": "http://detectportal.firefox.com/success.txt", "provider": "Firefox"},
            {"url": "http://www.v2ex.com/generate_204", "provider": "V2ex"},
            {"url": "http://connect.rom.miui.com/generate_204", "provider": "小米"},
            {"url": "http://connectivitycheck.platform.hicloud.com/generate_204", "provider": "华为"},
            {"url": "http://wifi.vivo.com.cn/generate_204", "provider": "Vivo"}
        ]

        for service in test_services:
            url = service["url"]
            provider = service["provider"]

            service_result = {
                'provider': provider,
                'url': url,
                'success': False,
                'error': None,
                'status_code': None
            }

            try:
                # 发送HEAD请求减少数据传输量
                start_time = time.time()
                req = urllib.request.Request(url, method="HEAD")
                with urllib.request.urlopen(req, timeout=5) as response:
                    elapsed = (time.time() - start_time) * 1000

                    # 检查响应状态
                    if response.status < 500:  # 排除服务器错误
                        result['connected'] = True
                        result['code'] = NetworkErrorCode.NETWORK_CONNECTION_SUCCESS
                        result['data']['successful_service'] = provider
                        result['data']['latency_ms'] = elapsed
                        result['message'] = f'通过 {provider} 服务连接成功，延迟: {elapsed:.2f}ms'

                        service_result['success'] = True
                        service_result['status_code'] = response.status
                        result['data']['services_checked'].append(service_result)

                        return result
                    else:
                        service_result['error'] = f'服务器错误: 状态码 {response.status}'
                        service_result['status_code'] = response.status
            except TimeoutError:
                service_result['error'] = '连接超时 (5秒)'
            except ConnectionError:
                service_result['error'] = '连接错误 (网络问题)'
            except URLError as e:
                service_result['error'] = f'URL错误: {str(e.reason)}'
            except Exception as e:
                service_result['error'] = f'未知错误: {str(e)}'

            result['data']['services_checked'].append(service_result)

        # 3. 最后尝试基本HTTP连接
        http_result = {
            'provider': 'example.com',
            'url': 'http://example.com',
            'success': False,
            'error': None,
            'status_code': None
        }

        try:
            start_time = time.time()
            response = urllib.request.urlopen("http://example.com", timeout=5)
            elapsed = (time.time() - start_time) * 1000

            result['connected'] = True
            result['code'] = NetworkErrorCode.NETWORK_CONNECTION_SUCCESS
            result['data']['successful_service'] = 'example.com'
            result['data']['latency_ms'] = elapsed
            result['message'] = f'HTTP连接成功! 耗时: {elapsed:.2f}ms'

            http_result['success'] = True
            http_result['status_code'] = response.status
            result['data']['services_checked'].append(http_result)

            return result
        except URLError as e:
            http_result['error'] = f'URL错误: {str(e.reason)}'
            result['code'] = NetworkErrorCode.NETWORK_HTTP_FAILED
            result['message'] = f'所有连接尝试失败: {str(e)}'
        except Exception as e:
            http_result['error'] = f'未知错误: {str(e)}'
            result['code'] = NetworkErrorCode.NETWORK_HTTP_FAILED
            result['message'] = f'所有连接尝试失败: {str(e)}'

        result['data']['services_checked'].append(http_result)
        return result

    @staticmethod
    def check_ssl_verification(test_url="https://api.bilibili.com",
                               timeout=5) -> Dict[str, Union[str, int, bool, Dict[str, Optional[Union[str, int, bool]]]]]:
        """
        检测 SSL 证书验证是否可用

        参数:
        test_url (str): 用于测试的 URL（默认为 Bilibili API）
        timeout (int): 测试请求的超时时间（秒）

        返回:
        dict: 包含以下键的字典:
            - 'success': bool, SSL 验证是否成功
            - 'code': int, 错误码
            - 'data': dict, 包含测试URL、响应状态码等详细信息
            - 'message': str, 描述性消息
        """
        result: Dict[str, Union[str, int, bool, SslErrorCode, Dict[str, Optional[Union[str, int, bool]]]]] = {
            'success': True,
            'code': SslErrorCode.SSL_VERIFICATION_SUCCESS,
            'data': {
                'test_url': test_url,
                'timeout': timeout,
                'status_code': None,
                'ssl_verification_enabled': True
            },
            'message': 'SSL 证书验证正常'
        }

        try:
            # 尝试使用 SSL 验证进行请求
            response = requests.head(
                test_url,
                timeout=timeout,
                verify=True  # 强制启用验证
            )

            # 记录响应状态码
            result['data']['status_code'] = response.status_code

            # 检查响应状态
            if response.status_code >= 400:
                result['success'] = False
                result['code'] = SslErrorCode.SSL_NETWORK_ERROR
                result['message'] = f"测试请求返回错误状态: {response.status_code}"

        except SSLError as e:
            # 捕获 SSL 验证错误
            result['success'] = False
            result['code'] = SslErrorCode.SSL_CERTIFICATE_ERROR
            result['data']['ssl_verification_enabled'] = False
            result['message'] = f"SSL 证书验证失败: {str(e)}"

            # 禁用 SSL 验证警告
            urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)

            # 配置全局 SSL 上下文为不验证
            try:
                ssl._create_default_https_context = ssl._create_unverified_context
                result['data']['ssl_context_modified'] = True
            except Exception as context_error:
                result['data']['ssl_context_modified'] = False
                result['message'] += f"。配置全局 SSL 上下文失败: {str(context_error)}"

        except requests.exceptions.RequestException as e:
            # 其他网络错误
            result['success'] = False
            result['code'] = SslErrorCode.SSL_NETWORK_ERROR
            result['data']['ssl_verification_enabled'] = False
            result['message'] = f"网络请求错误: {str(e)}"

        except Exception as e:
            # 其他未知错误
            result['success'] = False
            result['code'] = SslErrorCode.SSL_UNKNOWN_ERROR
            result['data']['ssl_verification_enabled'] = False
            result['message'] = f"未知错误: {str(e)}"

        return result

    @staticmethod
    def get_future_timestamp(days=0, hours=0, minutes=0):
        """
        获取当前时间加上指定天数、小时、分钟后的10位Unix时间戳

        参数:
        days (int): 要添加的天数
        hours (int): 要添加的小时数
        minutes (int): 要添加的分钟数

        返回:
        int: 10位Unix时间戳（秒级）
        """
        # 获取当前时间（本地时区）
        current_time = datetime.now()

        # 创建时间增量（x天y小时z分钟）
        time_delta = timedelta(
            days=days,
            hours=hours,
            minutes=minutes
        )

        # 计算未来时间
        future_time = current_time + time_delta

        # 转换为Unix时间戳（10位整数）
        timestamp = int(future_time.timestamp())

        return timestamp

    @staticmethod
    def url2pillow_image(url: str, headers: Dict[str, str], verify_ssl: bool = True) -> Dict[str, Any]:
        """
        将url图片转换为 pillow_image 实例

        Args:
            url: 图片的网络直链
            headers: 请求头
            verify_ssl: 默认启用 SSL 验证

        Returns:
            字典包含:
            - 'PilImg': 成功时为Pillow图像对象，失败时为None
            - 'code': 成功时为HTTP状态码 200，失败时为HTTP状态码（如果有）或自定义错误码
            - 'Message': 成功时为"Success"，失败时为错误信息
        """
        try:
            with requests.get(url, headers=headers, stream=True, verify=verify_ssl) as response:
                response.raise_for_status()
                image_data = io.BytesIO()
                for chunk in response.iter_content(chunk_size=8192):
                    image_data.write(chunk)
                image_data.seek(0)
                img = Image.open(image_data)
                img.load()
                return {
                    "PilImg": img,
                    "code": response.status_code,
                    "Message": "Success"
                }
        except requests.exceptions.RequestException as e:
            # 如果有响应，则使用实际的状态码，否则使用自定义网络错误码
            if hasattr(e, 'response') and e.response is not None:
                status_code = e.response.status_code
            else:
                status_code = 0
            return {
                "PilImg": None,
                "code": status_code,
                "Message": f"HTTP请求错误: {str(e)}"
            }
        except Exception as e:
            return {
                "PilImg": None,
                "code": 1000,
                "Message": f"处理图像时出错: {str(e)}"
            }

    @staticmethod
    def dict_to_cookie_string(data_dict: Dict[str, Any], encode_values: bool = True) -> str:
        """
        将字典转换为 HTTP Cookie 字符串格式

        此函数将键值对字典转换为符合 HTTP Cookie 标准的字符串格式，
        支持对值进行 URL 编码以防止特殊字符问题。

        Args:
            data_dict: 要转换的字典，键值对将被转换为 cookie 格式
            encode_values: 是否对值进行 URL 编码（默认 True）

        Returns:
            符合 HTTP Cookie 标准的字符串

        """
        if not isinstance(data_dict, dict):
            raise TypeError("输入必须是字典类型")

        cookie_parts = []

        for key, value in data_dict.items():
            # 确保键和值是字符串
            key_str = str(key)
            value_str = str(value)

            # 对值进行 URL 编码（如果启用）
            if encode_values:
                value_str = quote(value_str)

            # 添加到结果列表
            cookie_parts.append(f"{key_str}={value_str}")

        # 使用分号和空格连接所有部分
        return "; ".join(cookie_parts)

    @staticmethod
    def parse_cookie(
            cookie_str: str,
            decode_url: bool = True,
            strip_quotes: bool = True,
            filter_empty: bool = True
    ) -> Dict[str, str]:
        """
        解析 Cookie 字符串为字典格式，支持多种 Cookie 格式。

        此函数能够处理各种来源的 Cookie 字符串，提供灵活的解析选项。

        Args:
            cookie_str: 要解析的 Cookie 字符串
            decode_url: 是否对值进行 URL 解码（默认 True）
            strip_quotes: 是否去除值两端的引号（默认 True）
            filter_empty: 是否过滤空值（默认 True）

        Returns:
            解析后的字典，键值均为字符串类型

        Raises:
            TypeError: 当输入不是字符串时抛出
            ValueError: 当输入为空或只包含空白字符时抛出
        """
        if not isinstance(cookie_str, str):
            raise TypeError("输入必须是字符串类型")

        # 去除首尾空白字符
        cookie_str = cookie_str.strip()
        if not cookie_str:
            raise ValueError("输入字符串不能为空或只包含空白字符")

        cookie_dict = {}

        # 分割 Cookie 字符串
        for pair in cookie_str.split(';'):
            pair = pair.strip()
            if not pair:
                continue

            # 检查并分割第一个等号
            if '=' not in pair:
                continue  # 跳过没有等号的无效条目

            parts = pair.split('=', 1)
            key = parts[0].strip()
            value = parts[1].strip() if len(parts) > 1 else ""

            # 跳过空键
            if not key:
                continue

            # 处理带引号的值
            if strip_quotes and len(value) >= 2 and value.startswith('"') and value.endswith('"'):
                value = value[1:-1]

            # 执行 URL 解码（如果启用）
            if decode_url:
                try:
                    value = urllib.parse.unquote(value)
                except Exception:
                    pass  # 解码失败保留原始值

            # 过滤空值（如果启用）
            if filter_empty and not value:
                continue

            cookie_dict[key] = value

        return cookie_dict

    @staticmethod
    def str_to_module(module_name, module_str):
        """将字符串转换为模块对象"""
        # 创建一个新的模块对象
        module = types.ModuleType(module_name)

        # 执行字符串代码，将结果存储在模块的命名空间中
        exec(module_str, module.__dict__)

        return module

    @staticmethod
    def utf_8_to_url(text: str, safe: str = "/:") -> str:
        """
        将字符串编码为 URL 安全的 UTF-8 格式

        改进点:
        1. 添加安全字符参数
        2. 更清晰的函数名
        3. 更好的错误处理

        @param string: 要编码的字符串
        @param safe: 编码中保留的安全字符（默认保留/和:）
        @return: URL编码的字符串
        """
        try:
            return quote(text, safe=safe, encoding='utf-8')
        except Exception:
            # 编码失败时返回原始字符串
            return text

    @staticmethod
    def url2dict(url: str, decode: bool = True,
                 handle_multiple: bool = True) -> Dict[str, Union[str, int, float, bool, None, List[Any]]]:
        """
        将 URL 参数解析为字典，支持复杂参数处理

        功能特点：
        1. 自动处理 URL 编码参数
        2. 支持多值参数（保留所有值）
        3. 处理空值和缺失值
        4. 支持 URL 片段(#)和完整 URL
        5. 自动类型转换尝试
        6. 查询参数优先级高于片段参数

        Args:
            url: 包含查询参数的 URL 字符串
            decode: 是否自动 URL 解码参数值（默认 True）
            handle_multiple: 是否保留多值参数的所有值（默认 True）

        Returns:
            解析后的参数字典，单值参数为基本类型，多值参数为列表

        Examples:
            >>> Tools.url2dict("https://example.com?name=John&age=30&lang=Python&lang=Java")
            {'name': 'John', 'age': 30, 'lang': ['Python', 'Java']}

            >>> Tools.url2dict("search?q=hello%20world&safe=on&price=")
            {'q': 'hello world', 'safe': True, 'price': None}
        """

        # 内部辅助函数
        def _convert_types(value: str) -> Union[str, int, float, bool, None]:
            """尝试将字符串值转换为合适的类型（修复类型转换顺序）"""
            if value == '':
                return None

            # 先尝试数字转换（避免数字被误转为布尔值）
            if value.isdigit():
                try:
                    return int(value)
                except (ValueError, TypeError):
                    pass

            if '.' in value or 'e' in value.lower():
                try:
                    return float(value)
                except (ValueError, TypeError):
                    pass

            if value.endswith('%') and value[:-1].replace('.', '', 1).isdigit():
                try:
                    return float(value[:-1]) / 100.0
                except (ValueError, TypeError):
                    pass

            # 最后尝试布尔值
            if value.lower() in {'true', 'yes', 'on', '1'}:
                return True
            if value.lower() in {'false', 'no', 'off', '0'}:
                return False

            return value

        def _fallback_parse(query_str: str) -> Dict[str, Any]:
            """手动解析回退方案"""
            result = {}
            if not query_str:
                return result

            pairs = [p for p in query_str.split('&') if p]

            for pair in pairs:
                parts = pair.split('=', 1)
                key = parts[0]
                value = parts[1] if len(parts) > 1 else ''

                key = unquote(key) if decode else key
                value_str = unquote(value) if decode else value
                converted_value = _convert_types(value_str)

                if handle_multiple and key in result:
                    existing = result[key]
                    if isinstance(existing, list):
                        existing.append(converted_value)
                    else:
                        result[key] = [existing, converted_value]
                else:
                    result[key] = converted_value

            return result

        def _parse_query_string(query_str: str) -> Dict[str, Any]:
            """解析查询字符串为字典"""
            if not query_str:
                return {}

            try:
                params_dict = parse_qs(query_str, keep_blank_values=True)
            except Exception:
                return _fallback_parse(query_str)

            result = {}
            for key, values in params_dict.items():
                clean_key = unquote(key) if decode else key

                if handle_multiple and len(values) > 1:
                    converted_values = [_convert_types(unquote(v) if decode else v) for v in values]
                    result[clean_key] = converted_values
                else:
                    value = values[0] if values else ''
                    clean_value = unquote(value) if decode else value
                    result[clean_key] = _convert_types(clean_value)

            return result

        # 主函数逻辑开始
        if not url or not isinstance(url, str):
            return {}

        parsed = urlparse(url)
        query_str = parsed.query
        fragment_str = parsed.fragment

        # 处理片段中的参数
        frag_query_str = None
        if fragment_str:
            if '?' in fragment_str:
                _, frag_query = fragment_str.split('?', 1)
                frag_query_str = frag_query
            elif '=' in fragment_str:
                frag_query_str = fragment_str

        # 分别解析查询参数和片段参数
        query_dict = _parse_query_string(query_str)
        frag_dict = _parse_query_string(frag_query_str) if frag_query_str else {}

        # 合并参数：查询参数优先于片段参数
        result = {}
        result.update(frag_dict)
        result.update(query_dict)

        return result

    @staticmethod
    def qr_text8pil_img(qr_str: str, border: int = 2, error_correction: Literal[0, 1, 2, 3] = 1,
                        invert: bool = False) -> Dict[str, Union[str, Image.Image]]:
        """
        字符串转二维码（返回包含 PIL 图像对象的字典）
        Args:
            qr_str: 二维码文本（必须是有效的非空字符串）
            border: 边框大小（必须是非负整数，默认2）
            error_correction: 纠错级别（默认L）
                - ERROR_CORRECT_L: 1
                - ERROR_CORRECT_M: 0
                - ERROR_CORRECT_Q: 3
                - ERROR_CORRECT_H: 2
            invert: 是否反转颜色（默认False）
        Returns:
            Dict: 包含以下键的字典
                - str: ASCII 字符串形式的二维码
                - img: PIL.Image 对象（二维码图像）
        Raises:
            ValueError: 输入参数不合法时抛出
        """
        # 验证输入参数
        if not isinstance(qr_str, str) or not qr_str:
            raise ValueError("qr_str 必须是有效的非空字符串")
        if not isinstance(border, int) or border < 0:
            raise ValueError("border 必须是非负整数")

        # 创建 QRCode 对象
        qr = qrcode.main.QRCode(
            version=1,
            box_size=10,
            border=border,
            error_correction=error_correction,
        )

        # 添加数据并生成二维码
        qr.add_data(qr_str)
        qr.make(fit=True)

        # 生成二维码图像
        img = qr.make_image()

        # 创建内存缓冲区用于ASCII输出
        output = io.StringIO()
        sys.stdout = output

        try:
            # 生成ASCII表示
            qr.print_ascii(out=None, tty=False, invert=invert)
            output_str = output.getvalue()
        finally:
            # 确保恢复标准输出
            sys.stdout = sys.__stdout__

        # 处理颜色反转
        if invert:
            # 将二维码图像转换为RGBA模式以便正确处理反转
            if img.mode == '1':
                img = img.convert('L')
            img = ImageOps.invert(img)

        return {"str": output_str, "img": img}

    @staticmethod
    def pil_image2central_proportion_cutting(pil_image: Image.Image,
                                             target_width2height_ratio: float) -> Optional[Image.Image]:
        """
        对图像进行中心比例裁切，保持目标宽高比
        Args:
            pil_image: 要处理的 PIL 图像对象
            target_width2height_ratio: 目标宽高比（宽度/高度的比值）
                示例：
                - 16:9 → 16/9 ≈ 1.778
                - 1:1 → 1.0
                - 4:3 → 1.333
        Returns:
            Image.Image: 裁切后的新图像对象，如果裁切失败返回 None
        Raises:
            TypeError: 输入不是有效的 PIL 图像对象
            ValueError: 目标比例不是正数或裁切尺寸无效
        """
        # 参数验证
        if not isinstance(pil_image, Image.Image):
            raise TypeError("输入必须是有效的 PIL.Image.Image 对象")

        if target_width2height_ratio <= 0:
            raise ValueError("目标比例必须是正数")

        # 获取原始尺寸
        original_width, original_height = pil_image.size
        original_ratio = original_width / original_height

        try:
            # 计算裁切区域
            if original_ratio > target_width2height_ratio:
                # 过宽：固定高度，计算宽度
                crop_height = original_height
                crop_width = int(round(crop_height * target_width2height_ratio))
            else:
                # 过高：固定宽度，计算高度
                crop_width = original_width
                crop_height = int(round(crop_width / target_width2height_ratio))

            # 验证裁切尺寸
            if crop_width <= 0 or crop_height <= 0:
                raise ValueError("计算出的裁切尺寸无效")
            if crop_width > original_width or crop_height > original_height:
                raise ValueError("原始图片尺寸不足以完成裁切")

            # 计算裁切坐标
            left = (original_width - crop_width) // 2
            top = (original_height - crop_height) // 2
            right = left + crop_width
            bottom = top + crop_height

            return pil_image.crop((left, top, right, bottom))

        except ValueError as e:
            raise ValueError(f"裁切失败: {str(e)}")
        except Exception as e:
            raise ValueError(f"未知错误: {str(e)}")

    @staticmethod
    def pil_image2zooming(
            pil_image: Image.Image,
            zooming_quality: Literal[1, 2, 3, 4],
            target_width: Optional[int] = None,  # Optional[int] 可以简写为 int | None(3.9中为Union[int, None])
            scale_factor: Optional[int] = None  # Optional[int] 可以简写为 int | None(3.9中为Union[int, None])
    ) -> Image.Image:
        """
        对 PIL 图像进行缩放操作，支持指定目标宽度或缩小倍数

        Args:
            pil_image: 要缩放的 PIL 图像对象
            zooming_quality: 缩放质量等级 (1-4)
                1 = 最近邻 (速度快质量低)
                2 = 双线性 (平衡模式)
                3 = 双三次 (高质量放大)
                4 = Lanczos (最高质量)
            target_width: 目标宽度（与 scale_factor 二选一）
            scale_factor: 缩小倍数（与 target_width 二选一）

        Returns:
            Dict: 包含两种缩放结果的字典
                widthZoomingPIL_Image: 按宽度缩放的结果图像（如参数有效）
                timesZoomingPIL_Image: 按比例缩放的结果图像（如参数有效）

        Raises:
            ValueError: 参数不符合要求时抛出
            TypeError: 输入图像类型错误时抛出
        """
        # 参数验证
        if not isinstance(pil_image, Image.Image):
            raise TypeError("输入必须是 PIL.Image.Image 对象")
        if zooming_quality not in (1, 2, 3, 4):
            raise ValueError("缩放质量等级必须是 1-4 的整数")
        if not (False if bool(target_width) == bool(scale_factor) else True):
            raise ValueError("正确使用参数 target_width 或 scale_factor")
        # 选择重采样滤波器
        resampling_filter4zooming_quality = {
            1: Image.Resampling.NEAREST,
            2: Image.Resampling.BILINEAR,
            3: Image.Resampling.BICUBIC,
            4: Image.Resampling.LANCZOS,
        }
        resampling_filter = resampling_filter4zooming_quality[zooming_quality]
        # """
        # 滤波器名称	        质量	速度	适用场景
        # Image.NEAREST	    低	最快	像素艺术/保留原始像素值
        # Image.BILINEAR	中	较快	通用缩放（默认选项）
        # Image.BICUBIC	    高	较慢	高质量放大
        # Image.LANCZOS	    最高	最慢	超高精度缩放（推荐选项）
        # """
        original_width, original_height = pil_image.size
        width_height_ratio = original_width / original_height
        new_width = None
        if target_width:
            if target_width > original_width:
                raise ValueError("目标宽度必须小于原宽度")
            new_width = target_width
        elif scale_factor:
            if scale_factor < original_height:
                raise ValueError("比例因子必须小于原高度")
            if 1 < scale_factor:
                raise ValueError("比例因子必须大于1")
            new_width = original_width / scale_factor
        new_height = new_width / width_height_ratio
        zooming_pil_image = pil_image.resize((round(new_width), round(new_height)), resampling_filter)
        return zooming_pil_image

    @staticmethod
    def pil_image2binary(
            pil_image: Image.Image,
            img_format: Literal["PNG", "JPEG"],
            compress_level: Literal[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
    ) -> bytes:
        """
        将 PIL 图像对象转换为指定格式的二进制数据

        Args:
            pil_image: PIL 图像对象
            img_format: 输出图像格式
                "PNG" - 使用无损压缩
                "JPEG" - 使用有损压缩
            compress_level: 压缩等级 (不同格式有不同表现)
                对于 PNG: 压缩级别 0-9 (0=无压缩，9=最大压缩)
                对于 JPEG: 质量等级 5-95 (自动映射压缩级别到质量参数)

        Returns:
            bytes: 图像二进制数据

        Raises:
            ValueError: 参数不合法时抛出
            OSError: 图像保存失败时抛出
        """
        # 参数验证
        if not isinstance(pil_image, Image.Image):
            raise ValueError("输入必须是有效的 PIL.Image.Image 对象")
        if img_format not in ("PNG", "JPEG"):
            raise ValueError(f"不支持的图像格式: {img_format}，只支持 PNG/JPEG")
        if compress_level not in (0, 1, 2, 3, 4, 5, 6, 7, 8, 9):
            raise ValueError(f"不支持的压缩级别: {compress_level}，只支持 0～9")
        # 准备保存参数
        save_kwargs = {}
        if img_format == "PNG":
            save_kwargs = {
                "format": "PNG",
                "compress_level": compress_level  # 将压缩级别映射到质量参数 (0=最高压缩，9=最高质量)
            }
        if img_format == "JPEG":
            quality = 95 - (compress_level * 10)
            quality = max(5, min(95, quality))  # 确保在有效范围内
            # 转换图像模式为 RGB
            if pil_image.mode != "RGB":
                pil_image = pil_image.convert("RGB")
            save_kwargs = {
                "format": "JPEG",
                "quality": quality,
                "subsampling": 0 if quality >= 90 else 1  # 高质量使用全采样
            }
        # 执行转换
        buffer = io.BytesIO()
        try:
            pil_image.save(buffer, **save_kwargs)
        except Exception as e:
            raise OSError(f"图像保存失败: {str(e)}") from e
        image_bytes = buffer.getvalue()  # 转换为字节流
        return image_bytes

    @staticmethod
    def list_files_by_extension(path: str, extensions: Optional[Set[str]] = None) -> List[str]:
        """
        列出指定路径下具有特定扩展名的文件

        Args:
            path: 要搜索的目录路径
            extensions: 文件扩展名集合，如果不提供则返回所有文件

        Returns:
            list: 符合条件的文件名列表
        """
        path_obj = Path(path)

        # 确保路径存在且是目录
        if not path_obj.exists():
            raise FileNotFoundError(f"路径不存在: {path}")

        if not path_obj.is_dir():
            raise NotADirectoryError(f"路径不是目录: {path}")

        # 使用列表推导式筛选文件
        if extensions is None:
            # 如果没有指定扩展名，返回所有文件
            files = [file.name for file in path_obj.iterdir() if file.is_file()]
        else:
            # 筛选指定扩展名的文件
            files = [file.name for file in path_obj.iterdir()
                     if file.is_file() and file.suffix.lower() in extensions]

        return files


class DanmuProtoDecoder:
    def __init__(self):
        self.online_rank_v3_pb2 = """
from google.protobuf import descriptor as _descriptor
from google.protobuf import descriptor_pool as _descriptor_pool
from google.protobuf import symbol_database as _symbol_database
from google.protobuf.internal import builder as _builder
# @@protoc_insertion_point(imports)

_sym_db = _symbol_database.Default()




DESCRIPTOR = _descriptor_pool.Default().AddSerializedFile(b'\\n,bilibili/live/decode_online_rank_v3/v1.proto\\x12\\x17\\x62ilibili.live.rankdb.v1\\")\\n\\x0b\\x41\\x63\\x63ountInfo\\x12\\x0c\\n\\x04name\\x18\\x01 \\x01(\\t\\x12\\x0c\\n\\x04\\x66\\x61\\x63\\x65\\x18\\x02 \\x01(\\t\\"\\x9a\\x02\\n\\x04\\x42\\x61se\\x12\\x0c\\n\\x04name\\x18\\x01 \\x01(\\t\\x12\\x0c\\n\\x04\\x66\\x61\\x63\\x65\\x18\\x02 \\x01(\\t\\x12\\x12\\n\\nname_color\\x18\\x03 \\x01(\\x05\\x12\\x12\\n\\nis_mystery\\x18\\x04 \\x01(\\x08\\x12=\\n\\x0erisk_ctrl_info\\x18\\x05 \\x01(\\x0b\\x32%.bilibili.live.rankdb.v1.RiskCtrlInfo\\x12\\x39\\n\\x0borigin_info\\x18\\x06 \\x01(\\x0b\\x32$.bilibili.live.rankdb.v1.AccountInfo\\x12<\\n\\rofficial_info\\x18\\x07 \\x01(\\x0b\\x32%.bilibili.live.rankdb.v1.OfficialInfo\\x12\\x16\\n\\x0ename_color_str\\x18\\x08 \\x01(\\t\\"\\xb2\\x01\\n\\nBaseOption\\x12\\x14\\n\\x0cneed_mystery\\x18\\x01 \\x01(\\x08\\x12\\x34\\n\\trisk_ctrl\\x18\\x02 \\x01(\\x0b\\x32!.bilibili.live.rankdb.v1.RiskCtrl\\x12=\\n\\x0eroom_anon_ctrl\\x18\\x03 \\x01(\\x0b\\x32%.bilibili.live.rankdb.v1.RoomAnonCtrl\\x12\\x19\\n\\x11risk_ctrl_handles\\x18\\x04 \\x03(\\x05\\"+\\n\\x05Guard\\x12\\r\\n\\x05level\\x18\\x01 \\x01(\\x03\\x12\\x13\\n\\x0b\\x65xpired_str\\x18\\x02 \\x01(\\t\\"&\\n\\x0bGuardLeader\\x12\\x17\\n\\x0fis_guard_leader\\x18\\x01 \\x01(\\x08\\"2\\n\\x11GuardLeaderOption\\x12\\x0c\\n\\x04ruid\\x18\\x01 \\x01(\\x03\\x12\\x0f\\n\\x07room_id\\x18\\x02 \\x01(\\x03\\"K\\n\\x0bGuardOption\\x12\\x0c\\n\\x04ruid\\x18\\x01 \\x01(\\x03\\x12\\x17\\n\\x0fuse_local_cache\\x18\\x02 \\x01(\\x08\\x12\\x15\\n\\rstrong_depend\\x18\\x03 \\x01(\\x08\\"\\xce\\x03\\n\\x05Medal\\x12\\x0c\\n\\x04name\\x18\\x01 \\x01(\\t\\x12\\r\\n\\x05level\\x18\\x02 \\x01(\\x03\\x12\\x13\\n\\x0b\\x63olor_start\\x18\\x03 \\x01(\\x03\\x12\\x11\\n\\tcolor_end\\x18\\x04 \\x01(\\x03\\x12\\x14\\n\\x0c\\x63olor_border\\x18\\x05 \\x01(\\x03\\x12\\r\\n\\x05\\x63olor\\x18\\x06 \\x01(\\x03\\x12\\n\\n\\x02id\\x18\\x07 \\x01(\\x03\\x12\\x33\\n\\x03typ\\x18\\x08 \\x01(\\x0e\\x32&.bilibili.live.rankdb.v1.HaveMedalType\\x12\\x10\\n\\x08is_light\\x18\\t \\x01(\\x03\\x12\\x0c\\n\\x04ruid\\x18\\n \\x01(\\x03\\x12\\x13\\n\\x0bguard_level\\x18\\x0b \\x01(\\x03\\x12\\r\\n\\x05score\\x18\\x0c \\x01(\\x03\\x12\\x12\\n\\nguard_icon\\x18\\r \\x01(\\t\\x12\\x12\\n\\nhonor_icon\\x18\\x0e \\x01(\\t\\x12\\x1c\\n\\x14v2_medal_color_start\\x18\\x0f \\x01(\\t\\x12\\x1a\\n\\x12v2_medal_color_end\\x18\\x10 \\x01(\\t\\x12\\x1d\\n\\x15v2_medal_color_border\\x18\\x11 \\x01(\\t\\x12\\x1b\\n\\x13v2_medal_color_text\\x18\\x12 \\x01(\\t\\x12\\x1c\\n\\x14v2_medal_color_level\\x18\\x13 \\x01(\\t\\x12\\x1a\\n\\x12user_receive_count\\x18\\x14 \\x01(\\x03\\"\\x8b\\x01\\n\\x0bMedalOption\\x12/\\n\\x03typ\\x18\\x01 \\x01(\\x0e\\x32\\".bilibili.live.rankdb.v1.MedalType\\x12\\x0c\\n\\x04ruid\\x18\\x02 \\x01(\\x03\\x12\\x12\\n\\nneed_guard\\x18\\x03 \\x01(\\x08\\x12\\x15\\n\\rstrong_depend\\x18\\x04 \\x01(\\x08\\x12\\x12\\n\\nneed_group\\x18\\x05 \\x01(\\x08\\"G\\n\\x0cOfficialInfo\\x12\\x0c\\n\\x04role\\x18\\x01 \\x01(\\x03\\x12\\r\\n\\x05title\\x18\\x02 \\x01(\\t\\x12\\x0c\\n\\x04\\x64\\x65sc\\x18\\x03 \\x01(\\t\\x12\\x0c\\n\\x04type\\x18\\x04 \\x01(\\x03\\"T\\n\\x08RiskCtrl\\x12\\x0f\\n\\x07room_id\\x18\\x01 \\x01(\\x03\\x12\\x37\\n\\x06policy\\x18\\x02 \\x01(\\x0e\\x32\\'.bilibili.live.rankdb.v1.RiskPolicyEnum\\"*\\n\\x0cRiskCtrlInfo\\x12\\x0c\\n\\x04name\\x18\\x01 \\x01(\\t\\x12\\x0c\\n\\x04\\x66\\x61\\x63\\x65\\x18\\x02 \\x01(\\t\\"G\\n\\x0cRoomAnonCtrl\\x12\\x37\\n\\x04type\\x18\\x01 \\x01(\\x0e\\x32).bilibili.live.rankdb.v1.RoomAnonTypeEnum\\"7\\n\\x05Title\\x12\\x18\\n\\x10old_title_css_id\\x18\\x01 \\x01(\\t\\x12\\x14\\n\\x0ctitle_css_id\\x18\\x02 \\x01(\\t\\"5\\n\\x0bTitleOption\\x12\\x0f\\n\\x07room_id\\x18\\x01 \\x01(\\x03\\x12\\x15\\n\\rstrong_depend\\x18\\x02 \\x01(\\x08\\".\\n\\rUserHeadFrame\\x12\\n\\n\\x02id\\x18\\x01 \\x01(\\x03\\x12\\x11\\n\\tframe_img\\x18\\x02 \\x01(\\t\\"\\xfb\\x02\\n\\x08UserInfo\\x12\\x0b\\n\\x03uid\\x18\\x01 \\x01(\\x03\\x12+\\n\\x04\\x62\\x61se\\x18\\x02 \\x01(\\x0b\\x32\\x1d.bilibili.live.rankdb.v1.Base\\x12-\\n\\x05medal\\x18\\x03 \\x01(\\x0b\\x32\\x1e.bilibili.live.rankdb.v1.Medal\\x12/\\n\\x06wealth\\x18\\x04 \\x01(\\x0b\\x32\\x1f.bilibili.live.rankdb.v1.Wealth\\x12-\\n\\x05title\\x18\\x05 \\x01(\\x0b\\x32\\x1e.bilibili.live.rankdb.v1.Title\\x12-\\n\\x05guard\\x18\\x06 \\x01(\\x0b\\x32\\x1e.bilibili.live.rankdb.v1.Guard\\x12;\\n\\x0buhead_frame\\x18\\x07 \\x01(\\x0b\\x32&.bilibili.live.rankdb.v1.UserHeadFrame\\x12:\\n\\x0cguard_leader\\x18\\x08 \\x01(\\x0b\\x32$.bilibili.live.rankdb.v1.GuardLeader\\",\\n\\x06Wealth\\x12\\r\\n\\x05level\\x18\\x01 \\x01(\\x03\\x12\\x13\\n\\x0b\\x64m_icon_key\\x18\\x02 \\x01(\\t\\"U\\n\\x0cWealthOption\\x12\\x0e\\n\\x06roomid\\x18\\x01 \\x01(\\x03\\x12\\x10\\n\\x08view_uid\\x18\\x02 \\x01(\\x03\\x12\\x0c\\n\\x04ruid\\x18\\x03 \\x01(\\x03\\x12\\x15\\n\\rstrong_depend\\x18\\x04 \\x01(\\x08\\"\\x86\\x03\\n\\x11GoldRankBroadcast\\x12\\x11\\n\\trank_type\\x18\\x01 \\x01(\\t\\x12M\\n\\x04list\\x18\\x02 \\x03(\\x0b\\x32?.bilibili.live.rankdb.v1.GoldRankBroadcast.GoldRankBrodcastItem\\x12T\\n\\x0bonline_list\\x18\\x03 \\x03(\\x0b\\x32?.bilibili.live.rankdb.v1.GoldRankBroadcast.GoldRankBrodcastItem\\x1a\\xb8\\x01\\n\\x14GoldRankBrodcastItem\\x12\\x0b\\n\\x03uid\\x18\\x01 \\x01(\\x03\\x12\\x0c\\n\\x04\\x66\\x61\\x63\\x65\\x18\\x02 \\x01(\\t\\x12\\r\\n\\x05score\\x18\\x03 \\x01(\\t\\x12\\r\\n\\x05uname\\x18\\x04 \\x01(\\t\\x12\\x0c\\n\\x04rank\\x18\\x05 \\x01(\\x03\\x12\\x13\\n\\x0bguard_level\\x18\\x06 \\x01(\\x03\\x12\\x12\\n\\nis_mystery\\x18\\x07 \\x01(\\x08\\x12\\x30\\n\\x05uinfo\\x18\\x08 \\x01(\\x0b\\x32!.bilibili.live.rankdb.v1.UserInfo*2\\n\\rHaveMedalType\\x12\\x10\\n\\x0cMedal_Common\\x10\\x00\\x12\\x0f\\n\\x0bMedal_Group\\x10\\x01*+\\n\\tMedalType\\x12\\x0e\\n\\nMedal_Wear\\x10\\x00\\x12\\x0e\\n\\nMedal_Spec\\x10\\x01*X\\n\\x0eRiskPolicyEnum\\x12\\r\\n\\tRP_NORMAL\\x10\\x00\\x12\\r\\n\\tRP_POLICY\\x10\\x01\\x12\\x0e\\n\\nRP_SILENCE\\x10\\x02\\x12\\n\\n\\x06RP_CNY\\x10\\x03\\x12\\x0c\\n\\x08RP_BIGEV\\x10\\x04*3\\n\\x10RoomAnonTypeEnum\\x12\\n\\n\\x06RA_ALL\\x10\\x00\\x12\\x13\\n\\x0fRA_With_Subject\\x10\\x01\\x62\\x06proto3')

_globals = globals()
_builder.BuildMessageAndEnumDescriptors(DESCRIPTOR, _globals)
_builder.BuildTopDescriptorsAndMessages(DESCRIPTOR, 'bilibili.live.decode_online_rank_v3.v1_pb2', _globals)
if not _descriptor._USE_C_DESCRIPTORS:
  DESCRIPTOR._loaded_options = None
  _globals['_HAVEMEDALTYPE']._serialized_start=2747
  _globals['_HAVEMEDALTYPE']._serialized_end=2797
  _globals['_MEDALTYPE']._serialized_start=2799
  _globals['_MEDALTYPE']._serialized_end=2842
  _globals['_RISKPOLICYENUM']._serialized_start=2844
  _globals['_RISKPOLICYENUM']._serialized_end=2932
  _globals['_ROOMANONTYPEENUM']._serialized_start=2934
  _globals['_ROOMANONTYPEENUM']._serialized_end=2985
  _globals['_ACCOUNTINFO']._serialized_start=73
  _globals['_ACCOUNTINFO']._serialized_end=114
  _globals['_BASE']._serialized_start=117
  _globals['_BASE']._serialized_end=399
  _globals['_BASEOPTION']._serialized_start=402
  _globals['_BASEOPTION']._serialized_end=580
  _globals['_GUARD']._serialized_start=582
  _globals['_GUARD']._serialized_end=625
  _globals['_GUARDLEADER']._serialized_start=627
  _globals['_GUARDLEADER']._serialized_end=665
  _globals['_GUARDLEADEROPTION']._serialized_start=667
  _globals['_GUARDLEADEROPTION']._serialized_end=717
  _globals['_GUARDOPTION']._serialized_start=719
  _globals['_GUARDOPTION']._serialized_end=794
  _globals['_MEDAL']._serialized_start=797
  _globals['_MEDAL']._serialized_end=1259
  _globals['_MEDALOPTION']._serialized_start=1262
  _globals['_MEDALOPTION']._serialized_end=1401
  _globals['_OFFICIALINFO']._serialized_start=1403
  _globals['_OFFICIALINFO']._serialized_end=1474
  _globals['_RISKCTRL']._serialized_start=1476
  _globals['_RISKCTRL']._serialized_end=1560
  _globals['_RISKCTRLINFO']._serialized_start=1562
  _globals['_RISKCTRLINFO']._serialized_end=1604
  _globals['_ROOMANONCTRL']._serialized_start=1606
  _globals['_ROOMANONCTRL']._serialized_end=1677
  _globals['_TITLE']._serialized_start=1679
  _globals['_TITLE']._serialized_end=1734
  _globals['_TITLEOPTION']._serialized_start=1736
  _globals['_TITLEOPTION']._serialized_end=1789
  _globals['_USERHEADFRAME']._serialized_start=1791
  _globals['_USERHEADFRAME']._serialized_end=1837
  _globals['_USERINFO']._serialized_start=1840
  _globals['_USERINFO']._serialized_end=2219
  _globals['_WEALTH']._serialized_start=2221
  _globals['_WEALTH']._serialized_end=2265
  _globals['_WEALTHOPTION']._serialized_start=2267
  _globals['_WEALTHOPTION']._serialized_end=2352
  _globals['_GOLDRANKBROADCAST']._serialized_start=2355
  _globals['_GOLDRANKBROADCAST']._serialized_end=2745
  _globals['_GOLDRANKBROADCAST_GOLDRANKBRODCASTITEM']._serialized_start=2561
  _globals['_GOLDRANKBROADCAST_GOLDRANKBRODCASTITEM']._serialized_end=2745
# @@protoc_insertion_point(module_scope)
"""
        self.interact_word_v2_pb2 = """
from google.protobuf import descriptor as _descriptor
from google.protobuf import descriptor_pool as _descriptor_pool
from google.protobuf import symbol_database as _symbol_database
from google.protobuf.internal import builder as _builder
# @@protoc_insertion_point(imports)

_sym_db = _symbol_database.Default()




DESCRIPTOR = _descriptor_pool.Default().AddSerializedFile(b'\\n.bilibili/live/decode_interact_word_v2/v1.proto\\x12(bilibili.live.decode_interact_word_v2.v1\\"E\\n\\x0fGroupMedalBrief\\x12\\x10\\n\\x08medal_id\\x18\\x01 \\x01(\\x03\\x12\\x0c\\n\\x04name\\x18\\x02 \\x01(\\t\\x12\\x12\\n\\nis_lighted\\x18\\x03 \\x01(\\x03\\")\\n\\x0b\\x41\\x63\\x63ountInfo\\x12\\x0c\\n\\x04name\\x18\\x01 \\x01(\\t\\x12\\x0c\\n\\x04\\x66\\x61\\x63\\x65\\x18\\x02 \\x01(\\t\\"\\xcd\\x02\\n\\x04\\x42\\x61se\\x12\\x0c\\n\\x04name\\x18\\x01 \\x01(\\t\\x12\\x0c\\n\\x04\\x66\\x61\\x63\\x65\\x18\\x02 \\x01(\\t\\x12\\x12\\n\\nname_color\\x18\\x03 \\x01(\\x05\\x12\\x12\\n\\nis_mystery\\x18\\x04 \\x01(\\x08\\x12N\\n\\x0erisk_ctrl_info\\x18\\x05 \\x01(\\x0b\\x32\\x36.bilibili.live.decode_interact_word_v2.v1.RiskCtrlInfo\\x12J\\n\\x0borigin_info\\x18\\x06 \\x01(\\x0b\\x32\\x35.bilibili.live.decode_interact_word_v2.v1.AccountInfo\\x12M\\n\\rofficial_info\\x18\\x07 \\x01(\\x0b\\x32\\x36.bilibili.live.decode_interact_word_v2.v1.OfficialInfo\\x12\\x16\\n\\x0ename_color_str\\x18\\x08 \\x01(\\t\\"\\xd4\\x01\\n\\nBaseOption\\x12\\x14\\n\\x0cneed_mystery\\x18\\x01 \\x01(\\x08\\x12\\x45\\n\\trisk_ctrl\\x18\\x02 \\x01(\\x0b\\x32\\x32.bilibili.live.decode_interact_word_v2.v1.RiskCtrl\\x12N\\n\\x0eroom_anon_ctrl\\x18\\x03 \\x01(\\x0b\\x32\\x36.bilibili.live.decode_interact_word_v2.v1.RoomAnonCtrl\\x12\\x19\\n\\x11risk_ctrl_handles\\x18\\x04 \\x03(\\x05\\"+\\n\\x05Guard\\x12\\r\\n\\x05level\\x18\\x01 \\x01(\\x03\\x12\\x13\\n\\x0b\\x65xpired_str\\x18\\x02 \\x01(\\t\\"&\\n\\x0bGuardLeader\\x12\\x17\\n\\x0fis_guard_leader\\x18\\x01 \\x01(\\x08\\"2\\n\\x11GuardLeaderOption\\x12\\x0c\\n\\x04ruid\\x18\\x01 \\x01(\\x03\\x12\\x0f\\n\\x07room_id\\x18\\x02 \\x01(\\x03\\"K\\n\\x0bGuardOption\\x12\\x0c\\n\\x04ruid\\x18\\x01 \\x01(\\x03\\x12\\x17\\n\\x0fuse_local_cache\\x18\\x02 \\x01(\\x08\\x12\\x15\\n\\rstrong_depend\\x18\\x03 \\x01(\\x08\\"\\xdf\\x03\\n\\x05Medal\\x12\\x0c\\n\\x04name\\x18\\x01 \\x01(\\t\\x12\\r\\n\\x05level\\x18\\x02 \\x01(\\x03\\x12\\x13\\n\\x0b\\x63olor_start\\x18\\x03 \\x01(\\x03\\x12\\x11\\n\\tcolor_end\\x18\\x04 \\x01(\\x03\\x12\\x14\\n\\x0c\\x63olor_border\\x18\\x05 \\x01(\\x03\\x12\\r\\n\\x05\\x63olor\\x18\\x06 \\x01(\\x03\\x12\\n\\n\\x02id\\x18\\x07 \\x01(\\x03\\x12\\x44\\n\\x03typ\\x18\\x08 \\x01(\\x0e\\x32\\x37.bilibili.live.decode_interact_word_v2.v1.HaveMedalType\\x12\\x10\\n\\x08is_light\\x18\\t \\x01(\\x03\\x12\\x0c\\n\\x04ruid\\x18\\n \\x01(\\x03\\x12\\x13\\n\\x0bguard_level\\x18\\x0b \\x01(\\x03\\x12\\r\\n\\x05score\\x18\\x0c \\x01(\\x03\\x12\\x12\\n\\nguard_icon\\x18\\r \\x01(\\t\\x12\\x12\\n\\nhonor_icon\\x18\\x0e \\x01(\\t\\x12\\x1c\\n\\x14v2_medal_color_start\\x18\\x0f \\x01(\\t\\x12\\x1a\\n\\x12v2_medal_color_end\\x18\\x10 \\x01(\\t\\x12\\x1d\\n\\x15v2_medal_color_border\\x18\\x11 \\x01(\\t\\x12\\x1b\\n\\x13v2_medal_color_text\\x18\\x12 \\x01(\\t\\x12\\x1c\\n\\x14v2_medal_color_level\\x18\\x13 \\x01(\\t\\x12\\x1a\\n\\x12user_receive_count\\x18\\x14 \\x01(\\x03\\"\\x9c\\x01\\n\\x0bMedalOption\\x12@\\n\\x03typ\\x18\\x01 \\x01(\\x0e\\x32\\x33.bilibili.live.decode_interact_word_v2.v1.MedalType\\x12\\x0c\\n\\x04ruid\\x18\\x02 \\x01(\\x03\\x12\\x12\\n\\nneed_guard\\x18\\x03 \\x01(\\x08\\x12\\x15\\n\\rstrong_depend\\x18\\x04 \\x01(\\x08\\x12\\x12\\n\\nneed_group\\x18\\x05 \\x01(\\x08\\"G\\n\\x0cOfficialInfo\\x12\\x0c\\n\\x04role\\x18\\x01 \\x01(\\x03\\x12\\r\\n\\x05title\\x18\\x02 \\x01(\\t\\x12\\x0c\\n\\x04\\x64\\x65sc\\x18\\x03 \\x01(\\t\\x12\\x0c\\n\\x04type\\x18\\x04 \\x01(\\x03\\"e\\n\\x08RiskCtrl\\x12\\x0f\\n\\x07room_id\\x18\\x01 \\x01(\\x03\\x12H\\n\\x06policy\\x18\\x02 \\x01(\\x0e\\x32\\x38.bilibili.live.decode_interact_word_v2.v1.RiskPolicyEnum\\"*\\n\\x0cRiskCtrlInfo\\x12\\x0c\\n\\x04name\\x18\\x01 \\x01(\\t\\x12\\x0c\\n\\x04\\x66\\x61\\x63\\x65\\x18\\x02 \\x01(\\t\\"X\\n\\x0cRoomAnonCtrl\\x12H\\n\\x04type\\x18\\x01 \\x01(\\x0e\\x32:.bilibili.live.decode_interact_word_v2.v1.RoomAnonTypeEnum\\"7\\n\\x05Title\\x12\\x18\\n\\x10old_title_css_id\\x18\\x01 \\x01(\\t\\x12\\x14\\n\\x0ctitle_css_id\\x18\\x02 \\x01(\\t\\"5\\n\\x0bTitleOption\\x12\\x0f\\n\\x07room_id\\x18\\x01 \\x01(\\x03\\x12\\x15\\n\\rstrong_depend\\x18\\x02 \\x01(\\x08\\".\\n\\rUserHeadFrame\\x12\\n\\n\\x02id\\x18\\x01 \\x01(\\x03\\x12\\x11\\n\\tframe_img\\x18\\x02 \\x01(\\t\\"\\xf2\\x03\\n\\x08UserInfo\\x12\\x0b\\n\\x03uid\\x18\\x01 \\x01(\\x03\\x12<\\n\\x04\\x62\\x61se\\x18\\x02 \\x01(\\x0b\\x32..bilibili.live.decode_interact_word_v2.v1.Base\\x12>\\n\\x05medal\\x18\\x03 \\x01(\\x0b\\x32/.bilibili.live.decode_interact_word_v2.v1.Medal\\x12@\\n\\x06wealth\\x18\\x04 \\x01(\\x0b\\x32\\x30.bilibili.live.decode_interact_word_v2.v1.Wealth\\x12>\\n\\x05title\\x18\\x05 \\x01(\\x0b\\x32/.bilibili.live.decode_interact_word_v2.v1.Title\\x12>\\n\\x05guard\\x18\\x06 \\x01(\\x0b\\x32/.bilibili.live.decode_interact_word_v2.v1.Guard\\x12L\\n\\x0buhead_frame\\x18\\x07 \\x01(\\x0b\\x32\\x37.bilibili.live.decode_interact_word_v2.v1.UserHeadFrame\\x12K\\n\\x0cguard_leader\\x18\\x08 \\x01(\\x0b\\x32\\x35.bilibili.live.decode_interact_word_v2.v1.GuardLeader\\",\\n\\x06Wealth\\x12\\r\\n\\x05level\\x18\\x01 \\x01(\\x03\\x12\\x13\\n\\x0b\\x64m_icon_key\\x18\\x02 \\x01(\\t\\"U\\n\\x0cWealthOption\\x12\\x0e\\n\\x06roomid\\x18\\x01 \\x01(\\x03\\x12\\x10\\n\\x08view_uid\\x18\\x02 \\x01(\\x03\\x12\\x0c\\n\\x04ruid\\x18\\x03 \\x01(\\x03\\x12\\x15\\n\\rstrong_depend\\x18\\x04 \\x01(\\x08\\"\\xc8\\n\\n\\x0cInteractWord\\x12\\x0b\\n\\x03uid\\x18\\x01 \\x01(\\x03\\x12\\r\\n\\x05uname\\x18\\x02 \\x01(\\t\\x12\\x13\\n\\x0buname_color\\x18\\x03 \\x01(\\t\\x12\\x12\\n\\nidentities\\x18\\x04 \\x03(\\x03\\x12\\x10\\n\\x08msg_type\\x18\\x05 \\x01(\\x03\\x12\\x0e\\n\\x06roomid\\x18\\x06 \\x01(\\x03\\x12\\x11\\n\\ttimestamp\\x18\\x07 \\x01(\\x03\\x12\\r\\n\\x05score\\x18\\x08 \\x01(\\x03\\x12X\\n\\nfans_medal\\x18\\t \\x01(\\x0b\\x32\\x44.bilibili.live.decode_interact_word_v2.v1.InteractWord.FansMedalInfo\\x12\\x11\\n\\tis_spread\\x18\\n \\x01(\\x03\\x12\\x13\\n\\x0bspread_info\\x18\\x0b \\x01(\\t\\x12]\\n\\x0c\\x63ontribution\\x18\\x0c \\x01(\\x0b\\x32G.bilibili.live.decode_interact_word_v2.v1.InteractWord.ContributionInfo\\x12\\x13\\n\\x0bspread_desc\\x18\\r \\x01(\\t\\x12\\x11\\n\\ttail_icon\\x18\\x0e \\x01(\\x03\\x12\\x14\\n\\x0ctrigger_time\\x18\\x0f \\x01(\\x03\\x12\\x16\\n\\x0eprivilege_type\\x18\\x10 \\x01(\\x03\\x12\\x16\\n\\x0e\\x63ore_user_type\\x18\\x11 \\x01(\\x03\\x12\\x11\\n\\ttail_text\\x18\\x12 \\x01(\\t\\x12\\x62\\n\\x0f\\x63ontribution_v2\\x18\\x13 \\x01(\\x0b\\x32I.bilibili.live.decode_interact_word_v2.v1.InteractWord.ContributionInfoV2\\x12N\\n\\x0bgroup_medal\\x18\\x14 \\x01(\\x0b\\x32\\x39.bilibili.live.decode_interact_word_v2.v1.GroupMedalBrief\\x12\\x12\\n\\nis_mystery\\x18\\x15 \\x01(\\x08\\x12\\x41\\n\\x05uinfo\\x18\\x16 \\x01(\\x0b\\x32\\x32.bilibili.live.decode_interact_word_v2.v1.UserInfo\\x12`\\n\\rrelation_tail\\x18\\x17 \\x01(\\x0b\\x32I.bilibili.live.decode_interact_word_v2.v1.InteractWord.UserAnchorRelation\\x1a!\\n\\x10\\x43ontributionInfo\\x12\\r\\n\\x05grade\\x18\\x01 \\x01(\\x03\\x1a\\x44\\n\\x12\\x43ontributionInfoV2\\x12\\r\\n\\x05grade\\x18\\x01 \\x01(\\x03\\x12\\x11\\n\\trank_type\\x18\\x02 \\x01(\\t\\x12\\x0c\\n\\x04text\\x18\\x03 \\x01(\\t\\x1a\\xa1\\x02\\n\\rFansMedalInfo\\x12\\x11\\n\\ttarget_id\\x18\\x01 \\x01(\\x03\\x12\\x13\\n\\x0bmedal_level\\x18\\x02 \\x01(\\x03\\x12\\x12\\n\\nmedal_name\\x18\\x03 \\x01(\\t\\x12\\x13\\n\\x0bmedal_color\\x18\\x04 \\x01(\\x03\\x12\\x19\\n\\x11medal_color_start\\x18\\x05 \\x01(\\x03\\x12\\x17\\n\\x0fmedal_color_end\\x18\\x06 \\x01(\\x03\\x12\\x1a\\n\\x12medal_color_border\\x18\\x07 \\x01(\\x03\\x12\\x12\\n\\nis_lighted\\x18\\x08 \\x01(\\x03\\x12\\x13\\n\\x0bguard_level\\x18\\t \\x01(\\x03\\x12\\x0f\\n\\x07special\\x18\\n \\x01(\\t\\x12\\x0f\\n\\x07icon_id\\x18\\x0b \\x01(\\x03\\x12\\x15\\n\\ranchor_roomid\\x18\\x0c \\x01(\\x03\\x12\\r\\n\\x05score\\x18\\r \\x01(\\x03\\x1aS\\n\\x12UserAnchorRelation\\x12\\x11\\n\\ttail_icon\\x18\\x01 \\x01(\\t\\x12\\x17\\n\\x0ftail_guide_text\\x18\\x02 \\x01(\\t\\x12\\x11\\n\\ttail_type\\x18\\x03 \\x01(\\x03*2\\n\\rHaveMedalType\\x12\\x10\\n\\x0cMedal_Common\\x10\\x00\\x12\\x0f\\n\\x0bMedal_Group\\x10\\x01*+\\n\\tMedalType\\x12\\x0e\\n\\nMedal_Wear\\x10\\x00\\x12\\x0e\\n\\nMedal_Spec\\x10\\x01*X\\n\\x0eRiskPolicyEnum\\x12\\r\\n\\tRP_NORMAL\\x10\\x00\\x12\\r\\n\\tRP_POLICY\\x10\\x01\\x12\\x0e\\n\\nRP_SILENCE\\x10\\x02\\x12\\n\\n\\x06RP_CNY\\x10\\x03\\x12\\x0c\\n\\x08RP_BIGEV\\x10\\x04*3\\n\\x10RoomAnonTypeEnum\\x12\\n\\n\\x06RA_ALL\\x10\\x00\\x12\\x13\\n\\x0fRA_With_Subject\\x10\\x01\\x62\\x06proto3')

_globals = globals()
_builder.BuildMessageAndEnumDescriptors(DESCRIPTOR, _globals)
_builder.BuildTopDescriptorsAndMessages(DESCRIPTOR, 'bilibili.live.decode_interact_word_v2.v1_pb2', _globals)
if not _descriptor._USE_C_DESCRIPTORS:
  DESCRIPTOR._loaded_options = None
  _globals['_HAVEMEDALTYPE']._serialized_start=4071
  _globals['_HAVEMEDALTYPE']._serialized_end=4121
  _globals['_MEDALTYPE']._serialized_start=4123
  _globals['_MEDALTYPE']._serialized_end=4166
  _globals['_RISKPOLICYENUM']._serialized_start=4168
  _globals['_RISKPOLICYENUM']._serialized_end=4256
  _globals['_ROOMANONTYPEENUM']._serialized_start=4258
  _globals['_ROOMANONTYPEENUM']._serialized_end=4309
  _globals['_GROUPMEDALBRIEF']._serialized_start=92
  _globals['_GROUPMEDALBRIEF']._serialized_end=161
  _globals['_ACCOUNTINFO']._serialized_start=163
  _globals['_ACCOUNTINFO']._serialized_end=204
  _globals['_BASE']._serialized_start=207
  _globals['_BASE']._serialized_end=540
  _globals['_BASEOPTION']._serialized_start=543
  _globals['_BASEOPTION']._serialized_end=755
  _globals['_GUARD']._serialized_start=757
  _globals['_GUARD']._serialized_end=800
  _globals['_GUARDLEADER']._serialized_start=802
  _globals['_GUARDLEADER']._serialized_end=840
  _globals['_GUARDLEADEROPTION']._serialized_start=842
  _globals['_GUARDLEADEROPTION']._serialized_end=892
  _globals['_GUARDOPTION']._serialized_start=894
  _globals['_GUARDOPTION']._serialized_end=969
  _globals['_MEDAL']._serialized_start=972
  _globals['_MEDAL']._serialized_end=1451
  _globals['_MEDALOPTION']._serialized_start=1454
  _globals['_MEDALOPTION']._serialized_end=1610
  _globals['_OFFICIALINFO']._serialized_start=1612
  _globals['_OFFICIALINFO']._serialized_end=1683
  _globals['_RISKCTRL']._serialized_start=1685
  _globals['_RISKCTRL']._serialized_end=1786
  _globals['_RISKCTRLINFO']._serialized_start=1788
  _globals['_RISKCTRLINFO']._serialized_end=1830
  _globals['_ROOMANONCTRL']._serialized_start=1832
  _globals['_ROOMANONCTRL']._serialized_end=1920
  _globals['_TITLE']._serialized_start=1922
  _globals['_TITLE']._serialized_end=1977
  _globals['_TITLEOPTION']._serialized_start=1979
  _globals['_TITLEOPTION']._serialized_end=2032
  _globals['_USERHEADFRAME']._serialized_start=2034
  _globals['_USERHEADFRAME']._serialized_end=2080
  _globals['_USERINFO']._serialized_start=2083
  _globals['_USERINFO']._serialized_end=2581
  _globals['_WEALTH']._serialized_start=2583
  _globals['_WEALTH']._serialized_end=2627
  _globals['_WEALTHOPTION']._serialized_start=2629
  _globals['_WEALTHOPTION']._serialized_end=2714
  _globals['_INTERACTWORD']._serialized_start=2717
  _globals['_INTERACTWORD']._serialized_end=4069
  _globals['_INTERACTWORD_CONTRIBUTIONINFO']._serialized_start=3589
  _globals['_INTERACTWORD_CONTRIBUTIONINFO']._serialized_end=3622
  _globals['_INTERACTWORD_CONTRIBUTIONINFOV2']._serialized_start=3624
  _globals['_INTERACTWORD_CONTRIBUTIONINFOV2']._serialized_end=3692
  _globals['_INTERACTWORD_FANSMEDALINFO']._serialized_start=3695
  _globals['_INTERACTWORD_FANSMEDALINFO']._serialized_end=3984
  _globals['_INTERACTWORD_USERANCHORRELATION']._serialized_start=3986
  _globals['_INTERACTWORD_USERANCHORRELATION']._serialized_end=4069
# @@protoc_insertion_point(module_scope)
"""

    # 更完整的解决方案：使用protobuf库编译proto文件
    def decode_online_rank_v3_protobuf(self, base64_string):
        """
        使用protobuf库完整解码（需要先编译proto文件）
        """
        # 导入编译后的模块
        online_rank_v3_pb2 = Tools.str_to_module("online_rank_v3_pb2", self.online_rank_v3_pb2)
        # 解码
        pb_data = base64.b64decode(base64_string)
        message = online_rank_v3_pb2.GoldRankBroadcast()
        message.ParseFromString(pb_data)

        # 转换为字典
        return self.protobuf_to_dict(message)

    def decode_interact_word_v2_protobuf(self, base64_string):
        """
        使用protobuf库完整解码（需要先编译proto文件）
        """
        # 导入编译后的模块
        interact_word_v2_pb2 = Tools.str_to_module("interact_word_v2_pb2", self.interact_word_v2_pb2)
        # 解码
        pb_data = base64.b64decode(base64_string)
        message = interact_word_v2_pb2.InteractWord()
        message.ParseFromString(pb_data)

        # 转换为字典
        return self.protobuf_to_dict(message)

    def protobuf_to_dict(self, obj):
        """将protobuf对象转换为字典"""
        result = {}

        for field in obj.DESCRIPTOR.fields:
            field_name = field.name
            value = getattr(obj, field_name)

            if field.label == field.LABEL_REPEATED:
                # 重复字段
                result[field_name] = [self.protobuf_to_dict(item) if hasattr(item, 'DESCRIPTOR') else item
                                      for item in value]
            elif field.type == field.TYPE_MESSAGE:
                # 消息类型字段
                if hasattr(value, 'DESCRIPTOR'):
                    result[field_name] = self.protobuf_to_dict(value)
                else:
                    result[field_name] = value
            else:
                # 基本类型字段
                result[field_name] = value

        return result


class OptimizedMessageDeduplication:
    """优化的消息去重类"""

    def __init__(self, max_size: int = 1000, ttl_seconds: int = 5):
        """
        Args:
            max_size: 最大存储数量
            ttl_seconds: 消息存活时间（秒），None表示不过期
        """
        self.max_size = max_size
        """最大存储数量"""
        self.ttl_seconds = ttl_seconds
        """消息存活时间（秒），None表示不过期"""
        # 使用OrderedDict同时维护顺序和快速查找
        self.message_store = OrderedDict()  # {hash: timestamp}

    def add(self, message: str) -> bool:
        """添加消息，返回True如果是新消息"""
        message_hash = self._get_hash(message)
        current_time = time.time()

        # 清理过期消息
        if self.ttl_seconds:
            self._cleanup_expired(current_time)

        # 检查是否重复
        if message_hash in self.message_store:
            # 更新访问时间
            self.message_store.move_to_end(message_hash)
            return False

        # 添加新消息
        self.message_store[message_hash] = current_time

        # 限制大小
        if len(self.message_store) > self.max_size:
            self.message_store.popitem(last=False)

        return True

    def contains(self, message: str) -> bool:
        """检查消息是否重复"""
        message_hash = self._get_hash(message)

        if self.ttl_seconds:
            self._cleanup_expired(time.time())

        return message_hash in self.message_store

    def _get_hash(self, message: str) -> str:
        """获取消息哈希（使用更快的哈希算法）"""
        return hashlib.md5(message.encode()).hexdigest()
        # 或者使用更快的：return hashlib.sha1(message.encode()).hexdigest()

    def _cleanup_expired(self, current_time: float):
        """清理过期消息"""
        expired_hashes = []

        for msg_hash, timestamp in self.message_store.items():
            if current_time - timestamp > self.ttl_seconds:
                expired_hashes.append(msg_hash)
            else:
                break  # 由于是有序的，后面的都不会过期

        for msg_hash in expired_hashes:
            del self.message_store[msg_hash]

    def size(self) -> int:
        """返回当前消息数量"""
        if self.ttl_seconds:
            self._cleanup_expired(time.time())
        return len(self.message_store)

    def clear(self):
        """清空所有消息"""
        self.message_store.clear()

    def get_memory_usage(self) -> int:
        """估算内存使用（字节）"""
        # 每个条目大约：哈希(32字节) + 时间戳(8字节) + 字典开销
        return len(self.message_store) * 50  # 近似值


class BiliDanmu:

    def __init__(self, headers: dict):
        self.headers = headers
        self.cookie = headers['cookie']

    def _get_websocket_client(self, roomid: int):
        danmu_info = WbiSigna(self.headers).get_danmu_info(roomid)
        log_save(obs.LOG_INFO, f"{danmu_info}")
        token = danmu_info['data']['token']
        host = danmu_info['data']['host_list'][-1]
        wss_url = f"wss://{host['host']}:{host['wss_port']}/sub"

        user_info = BilibiliCSRFAuthenticator(self.headers).get_user_live_info()['data']
        cookies = Tools.parse_cookie(self.cookie)
        auth_body = {
            "uid": user_info["uid"],
            "roomid": roomid,
            "protover": 2,
            "buvid": cookies['buvid3'],
            "platform": "web",
            "type": 3,
            "key": token
        }
        return wss_url, auth_body

    def connect_room(self, roomid: int, num_r: int = 6, connection_interval: float = 0.6):
        """
        连接直播间
        Args:
            roomid: 直播间真实id
            num_r: 同时连接多个弹幕减少丢包
            connection_interval: 同时连接多个弹幕的间隔秒

        Returns:
            ws客户端实例
        """
        wss_url, auth_body = self._get_websocket_client(roomid)
        return self._WebSocketClient(wss_url, auth_body, num_r, connection_interval)

    class _WebSocketClient:

        def __init__(self, url: str, auth_body: Dict[str, Union[str, int]], num_r: int, connection_interval: float):
            self.url = url
            self.auth_body = auth_body
            self.HEARTBEAT_INTERVAL = 20
            """心跳间隔"""
            self.num_r = num_r
            """同时连接多个弹幕减少丢包"""
            self.connection_interval = connection_interval
            """同时连接多个弹幕的间隔秒"""
            self.o_m_d = OptimizedMessageDeduplication()
            """用于多弹幕返回去重的实例"""
            self.replyAuthenticationPackageCallable: Callable[[str], None] = lambda a: None
            """接收认证包回复的回调函数， 参数为接收到的数据"""
            self.ordinaryBagCallable: Callable[[Dict[str, Any]], None] = lambda a: None
            """接收普通包 (命令)的回调函数， 参数为接收到的数据"""
            self.sendAuthenticationPackageReplyCallable: Callable[[bytes], None] = lambda a: None
            """接收到发送认证包后的回复时的回调函数，参数为接收到的数据"""
            self.connectionFailureCallback: Callable[[int, int], None] = lambda delay, retry_count: None
            """连接失败回调，参数为（重试间隔，当前重试次数）"""
            self.authenticationResponseTimeoutCallback: Callable[[], None] = lambda : None
            """认证响应超时回调，无参"""
            self.authenticationFailureCallback: Callable = lambda e: None
            """认证失败回调，参数为错误"""
            self.heartRateCallback: Callable = lambda : None
            """心率回调，无参"""
            self.heartRateFailureCallback: Callable = lambda e: None
            """心率失败回调，参数为错误"""
            self.multipleMessagesCallback: Callable[[int], None] = lambda num_item: None
            """启动多个弹幕回调，参数为弹幕连接数量"""
            self.multipleMessagesSuccessCallback: Callable[[], None] = lambda : None
            """多个弹幕启动成功回调，无参"""
            self.messagesStopCallback: Callable[[], None] = lambda : None
            """收到弹幕停止回调，无参"""
            self.interruptStartupCallback: Callable[[], None] = lambda : None
            """启动时中断回调，无参"""
            self.abnormalStartupCallback: Callable = lambda e: None
            """启动时异常回调，参数为错误"""
            self.stopConnectionCallback: Callable[[], None] = lambda : None
            """停止连接回调，无参"""
            self.connectionStoppedCallback: Callable[[], None] = lambda : None
            """连接已停止回调，无参"""
            self.connection_tasks = []  # 异步任务列表
            self.running = False
            self._stop_event = asyncio.Event()  # 用于等待停止信号
            self._loop = None  # 存储事件循环引用

        async def connect(self):
            base_delay = 3
            retry_count = 0
            max_retries = 5

            while self.running and retry_count < max_retries:
                try:
                    async with websockets.connect(
                            self.url,
                            ping_interval=20,
                            ping_timeout=10,
                            close_timeout=10
                    ) as ws:
                        await self.on_open(ws)
                        retry_count = 0  # 成功连接后重置重试计数

                        while self.running:
                            try:
                                message = await asyncio.wait_for(ws.recv(), timeout=10.0)
                                await self.on_message(message)
                            except asyncio.TimeoutError:
                                if not self.running:
                                    break
                                try:
                                    await ws.send(self.pack(None, 2))
                                except Exception:
                                    break
                            except websockets.exceptions.ConnectionClosed:
                                break

                except Exception as e:
                    if not self.running:
                        break
                    retry_count += 1
                    delay = base_delay * (2 ** retry_count)

                    asyncio.create_task(self._connection_failure_callback(delay, retry_count))
                    await asyncio.sleep(delay)

        async def _connection_failure_callback(self, delay, retry_count):
            self.connectionFailureCallback(delay, retry_count)

        async def on_open(self, ws):
            """
            wss 认证和心跳
            Args:
                ws: wss 对象
            """
            try:
                # 先发送认证包
                await ws.send(self.pack(self.auth_body, 7))

                # 等待认证响应
                try:
                    auth_response: bytes = await asyncio.wait_for(ws.recv(), timeout=10)
                    # 异步处理认证响应
                    asyncio.create_task(self._handle_certification_response(auth_response))
                    # 启动心跳任务
                    asyncio.create_task(self.send_heartbeat(ws))
                except asyncio.TimeoutError:
                    asyncio.create_task(self._authentication_response_timeout_callback())
                    raise

            except Exception as e:
                asyncio.create_task(self._authentication_failure_callback(e))
                raise

        async def _authentication_response_timeout_callback(self):
            """异步处理认证响应"""
            self.authenticationResponseTimeoutCallback()

        async def _authentication_failure_callback(self, e):
            """异步处理认证响应"""
            self.authenticationFailureCallback(e)

        async def _handle_certification_response(self, auth_response: bytes):
            """异步处理认证响应"""
            self.sendAuthenticationPackageReplyCallable(auth_response)

        async def send_heartbeat(self, ws):
            """发送心跳"""
            while self.running:
                try:
                    asyncio.create_task(self._heart_rate_callback())
                    await ws.send(self.pack(None, 2))
                    await asyncio.sleep(self.HEARTBEAT_INTERVAL)
                except websockets.exceptions.ConnectionClosed:
                    break
                except Exception as e:
                    asyncio.create_task(self._heart_rate_failure_callback(e))
                    break

        async def _heart_rate_callback(self):
            self.heartRateCallback()

        async def _heart_rate_failure_callback(self, e):
            self.heartRateFailureCallback(e)

        async def on_message(self, message):
            if isinstance(message, bytes):
                await self.unpack(message)

        def pack(self, content: Optional[dict], code: int) -> bytes:
            """
            wss 消息打包
            Args:
                content: 消息内容
                code:
                    操作码 (封包类型)

                        - 2	心跳包
                        - 3	心跳包回复 (人气值)
                        - 5	普通包 (命令)
                        - 7	认证包
                        - 8	认证包回复

            Returns:打包后待发送的 wss 消息
            """
            content_bytes = json.dumps(content).encode('utf-8') if content else b''
            header = (len(content_bytes) + 16).to_bytes(4, 'big') + \
                     (16).to_bytes(2, 'big') + \
                     (0).to_bytes(2, 'big') + \
                     code.to_bytes(4, 'big') + \
                     (1).to_bytes(4, 'big')
            return header + content_bytes

        async def unpack(self, byte_buffer: bytes):
            package_len = int.from_bytes(byte_buffer[0:4], 'big')
            head_length = int.from_bytes(byte_buffer[4:6], 'big')
            prot_ver = int.from_bytes(byte_buffer[6:8], 'big')
            opt_code = int.from_bytes(byte_buffer[8:12], 'big')
            sequence = int.from_bytes(byte_buffer[12:16], 'big')

            content_bytes = byte_buffer[16:package_len]

            if prot_ver == 0:
                pass
            elif prot_ver == 2:
                content_bytes = zlib.decompress(content_bytes)
                await self.unpack(content_bytes)
                return
            elif prot_ver == 3:
                pass

            content = content_bytes.decode('utf-8')
            if not self.o_m_d.add(content):
                return

            if opt_code == 5:  # SEND_SMS_REPLY
                try:
                    content_dict: dict = json.loads(content)
                    if content_dict['cmd'] == "INTERACT_WORD_V2":
                        content_dict['data'] = DanmuProtoDecoder().decode_interact_word_v2_protobuf(
                            content_dict['data']['pb'])
                    elif content_dict['cmd'] == "ONLINE_RANK_V3":
                        content_dict['data'] = DanmuProtoDecoder().decode_online_rank_v3_protobuf(
                            content_dict['data']['pb'])

                    # 异步处理回调
                    asyncio.create_task(self._handle_opt_code5(content_dict))
                except:
                    pass
            elif opt_code == 8:  # AUTH_REPLY
                asyncio.create_task(self._handle_opt_code8(content))

            if len(byte_buffer) > package_len:
                await self.unpack(byte_buffer[package_len:])

        async def _handle_opt_code8(self, content: str):
            """异步处理 opt_code 8 回调"""
            self.replyAuthenticationPackageCallable(content)

        async def _handle_opt_code5(self, content_dict: dict):
            """异步处理 opt_code 5 回调"""
            self.ordinaryBagCallable(content_dict)

        async def start_async(self):
            """异步启动方法 - 会一直运行直到收到停止信号"""
            self.running = True
            self._stop_event.clear()
            self.connection_tasks.clear()
            self._loop = asyncio.get_running_loop()  # 获取当前运行的事件循环

            asyncio.create_task(self._multiple_messages_callback(self.num_r))

            # 创建多个连接任务
            for i in range(self.num_r):
                task = asyncio.create_task(self.connect(), name=f"DanmuConn-{i}")
                self.connection_tasks.append(task)
                if i < self.num_r - 1:  # 最后一个连接不需要等待
                    await asyncio.sleep(self.connection_interval)  # 间隔连接

            asyncio.create_task(self._multiple_messages_success_callback())

            # 等待停止信号
            await self._stop_event.wait()

            asyncio.create_task(self._messages_stop_callback())

        async def _multiple_messages_callback(self, num):
            self.multipleMessagesCallback(num)

        async def _multiple_messages_success_callback(self):
            self.multipleMessagesSuccessCallback()

        async def _messages_stop_callback(self):
            self.messagesStopCallback()

        def start(self):
            """同步启动方法（包装异步方法）"""
            self.running = True
            try:
                # 运行异步启动方法
                asyncio.run(self.start_async())
            except KeyboardInterrupt:
                asyncio.create_task(self._interrupt_startup_callback())
                self.stop()
            except Exception as e:
                asyncio.create_task(self._abnormal_startup_callback(e))
                self.stop()

        async def _interrupt_startup_callback(self):
            self.interruptStartupCallback()

        async def _abnormal_startup_callback(self, e):
            self.abnormalStartupCallback(e)

        async def stop_async(self):
            """异步停止方法"""
            if not self.running:
                return

            self.running = False
            self._stop_event.set()  # 触发停止信号

            asyncio.create_task(self._stop_connection_callback())

            # 取消所有连接任务
            for task in self.connection_tasks:
                if not task.done():
                    task.cancel()

            # 等待所有任务完成
            if self.connection_tasks:
                await asyncio.gather(*self.connection_tasks, return_exceptions=True)

            asyncio.create_task(self._connection_stopped_callback())

        async def _stop_connection_callback(self):
            self.stopConnectionCallback()

        async def _connection_stopped_callback(self):
            self.connectionStoppedCallback()

        def stop(self):
            """同步停止方法"""
            # 如果已经有运行的事件循环，使用它
            try:
                loop = asyncio.get_running_loop()
                # 如果已经有运行的事件循环，创建任务来执行停止
                asyncio.create_task(self.stop_async())
            except RuntimeError:
                # 如果没有运行的事件循环，创建一个
                asyncio.run(self.stop_async())
                
                
class WebSocketServer:
    def __init__(self, host='localhost', port=8765):
        self.host = host
        self.port = port
        self.connected_clients: Set = set()
        self.server: Any = None
        self.danmu_processor = None
        self.running = False
        self._server_task: Optional[asyncio.Task] = None
        self.registerCallback: Callable = lambda clients_count : None
        """注册新的客户端连接回调, 参数为注册用户数量"""
        self.unregisterCallback: Callable = lambda clients_count : None
        """客户端断开回调, 参数为注册用户数量"""
        self.startServerCallback: Callable = lambda host, port: None
        """服务器启动回调, 参数为注册用户数量"""
        self.serverCancelledCallback: Callable = lambda : None
        """服务器取消回调, 无参"""
        self.serverErroCallback: Callable = lambda erroMessage: None
        """服务器错误回调, 参数为错误信息"""
        self.serverStopCallback: Callable = lambda : None
        """服务器停止回调, 无参"""


    async def register(self, websocket):
        """注册新的客户端连接"""
        self.connected_clients.add(websocket)
        self.registerCallback(len(self.connected_clients))

        # 发送欢迎消息
        welcome_msg = {
            "type": "system",
            "messageData": "弹幕服务器连接成功",
            "timestamp": time.time(),
            "clients_count": len(self.connected_clients)
        }
        await websocket.send(json.dumps(welcome_msg))

    async def unregister(self, websocket):
        """移除断开连接的客户端"""
        if websocket in self.connected_clients:
            self.connected_clients.remove(websocket)
            self.unregisterCallback(len(self.connected_clients))

    async def broadcast_message(self, message: Dict[str, Any]):
        """向所有连接的客户端广播消息"""
        if not self.connected_clients:
            return

        message_json = json.dumps(message, ensure_ascii=False)

        # 收集断开连接的客户端
        disconnected_clients = []

        # 使用 asyncio.gather 并行发送消息
        tasks = []
        for client in self.connected_clients:
            try:
                task = asyncio.create_task(client.send(message_json))
                tasks.append(task)
            except Exception:
                disconnected_clients.append(client)

        # 等待所有发送任务完成
        if tasks:
            await asyncio.gather(*tasks, return_exceptions=True)

        # 移除断开连接的客户端
        for client in disconnected_clients:
            await self.unregister(client)

    async def handle_client(self, websocket, path):
        """处理客户端连接"""
        await self.register(websocket)
        try:
            # 保持连接，等待客户端消息
            async for message in websocket:
                try:
                    data = json.loads(message)
                    await self.handle_client_message(websocket, data)
                except json.JSONDecodeError:
                    error_msg = {
                        "type": "error",
                        "messageData": "无效的JSON格式",
                        "timestamp": time.time()
                    }
                    await websocket.send(json.dumps(error_msg))
        except websockets.exceptions.ConnectionClosed:
            pass
        finally:
            await self.unregister(websocket)

    async def handle_client_message(self, websocket, data: Dict[str, Any]):
        """处理来自客户端的消息"""
        message_type = data.get("type")

        if message_type == "ping":
            # 响应 ping 消息
            pong_msg = {
                "type": "pong",
                "timestamp": time.time()
            }
            await websocket.send(json.dumps(pong_msg))
        elif message_type == "get_stats":
            # 返回服务器统计信息
            stats_msg = {
                "type": "stats",
                "clients_count": len(self.connected_clients),
                "timestamp": time.time()
            }
            await websocket.send(json.dumps(stats_msg))

    async def send_danmu_message(self, danmu_data: Dict[str, Any]):
        """发送弹幕消息（异步版本）"""
        await self.broadcast_message(danmu_data)

    def send_danmu_message_sync(self, danmu_data: Dict[str, Any]):
        """同步方式发送弹幕消息（用于从其他线程调用）"""
        if self.running:
            # 如果从其他线程调用，使用 run_coroutine_threadsafe
            asyncio.run_coroutine_threadsafe(
                self.send_danmu_message(danmu_data),
                asyncio.get_event_loop()
            )

    async def start_server_async(self):
        """异步启动 WebSocket 服务器"""
        self.running = True
        self.server = await websockets.serve(
            self.handle_client,
            self.host,
            self.port
        )
        self.startServerCallback(self.host, self.port)

        # 保持服务器运行
        await self.server.wait_closed()

    async def start_server(self):
        """启动服务器（包装方法）"""
        try:
            await self.start_server_async()
        except asyncio.CancelledError:
            self.serverCancelledCallback()
        except Exception as e:
            self.serverErroCallback(e)
        finally:
            await self.stop_server_async()

    async def stop_server_async(self):
        """异步停止服务器"""
        self.running = False

        # 关闭所有客户端连接
        if self.connected_clients:
            close_tasks = []
            for client in list(self.connected_clients):
                close_tasks.append(asyncio.create_task(client.close()))
            if close_tasks:
                await asyncio.gather(*close_tasks, return_exceptions=True)
            self.connected_clients.clear()

        # 停止服务器
        if self.server:
            self.server.close()
            await self.server.wait_closed()

        # 取消服务器任务
        if self._server_task and not self._server_task.done():
            self._server_task.cancel()

        self.serverStopCallback()

    def stop_server(self):
        """同步停止服务器"""
        if self._server_task and not self._server_task.done():
            self._server_task.cancel()

    async def run_forever(self):
        """运行服务器直到停止"""
        self._server_task = asyncio.create_task(self.start_server())
        try:
            await self._server_task
        except asyncio.CancelledError:
            self.serverCancelledCallback()


class OperationResult(TypedDict, total=False):
    """操作结果类型定义"""
    success: bool
    message: str
    user_id: Optional[str]
    data: Optional[Dict]


class UserInfo(TypedDict, total=False):
    """用户信息类型定义"""
    user_id: str
    is_default: bool
    last_updated: Optional[str]


class BilibiliUserConfigManager:
    """
    B站用户配置管理器，负责用户登录信息的增删改查操作。

    配置文件采用JSON格式，结构示例：
    {
        "default_user": "12345",
        "users": {
            "12345": {
                "DedeUserID": "12345",
                "DedeUserID__ckMd5": "xxxxxxxx",
                "SESSDATA": "xxxxxxxx",
                "bili_jct": "xxxxxxxx",
                "buvid3": "xxxxxxxx",
                "b_nut": "xxxxxxxx",
                "last_updated": "2023-01-01T00:00:00"
            }
        }
    }
    """

    # 必需的cookie字段
    REQUIRED_COOKIE_KEYS = {
        "DedeUserID", "DedeUserID__ckMd5", "SESSDATA",
        "bili_jct", "buvid3", "b_nut"
    }

    # 最小必需的cookie字段（用于更新操作）
    MIN_REQUIRED_KEYS = {"DedeUserID", "SESSDATA", "bili_jct"}

    def __init__(self, config_path: Union[str, pathlib.Path]):
        """
        初始化配置文件管理器

        Args:
            config_path: 配置文件路径
        """
        self.config_path = pathlib.Path(config_path)
        self._ensure_config_file()

    def _ensure_config_file(self) -> OperationResult:
        """确保配置文件存在且结构有效"""
        try:
            if not self.config_path.exists():
                self.config_path.parent.mkdir(parents=True, exist_ok=True)
                initial_config = {
                    "default_user": None,
                    "users": {}
                }
                return self._write_config(initial_config)

            config = self._read_config()
            if not isinstance(config, dict):
                return self._create_error_result("配置文件格式错误")

            # 修复旧格式配置文件
            if "users" not in config:
                users = {}
                for key, value in config.items():
                    if key != "DefaultUser" and isinstance(value, dict):
                        users[key] = value

                default_user = config.get("DefaultUser")
                new_config = {
                    "default_user": default_user,
                    "users": users
                }
                return self._write_config(new_config)

            return self._create_success_result("配置文件检查完成")

        except Exception as e:
            return self._create_error_result(f"配置文件初始化失败: {str(e)}")

    def _read_config(self) -> Dict:
        """读取配置文件内容"""
        try:
            with open(self.config_path, 'r', encoding='utf-8') as f:
                return json.load(f)
        except (FileNotFoundError, json.JSONDecodeError) as e:
            raise RuntimeError(f"配置文件损坏或格式错误: {str(e)}")

    def _write_config(self, config: Dict) -> OperationResult:
        """写入配置文件"""
        try:
            with open(self.config_path, 'w', encoding='utf-8') as f:
                json.dump(config, f, ensure_ascii=False, indent=4)
            return self._create_success_result("配置文件写入成功")
        except Exception as e:
            return self._create_error_result(f"配置文件写入失败: {str(e)}")

    def _validate_cookies(self, cookies: Dict[str, str], required_keys: set) -> OperationResult:
        """验证cookie字段完整性"""
        if not isinstance(cookies, dict):
            return self._create_error_result("cookies参数必须是字典类型")

        missing_keys = required_keys - cookies.keys()
        if missing_keys:
            return self._create_error_result(f"缺少必要字段: {', '.join(missing_keys)}")

        return self._create_success_result("cookie验证通过")

    def _create_success_result(self, message: str = "操作成功",
                               user_id: Optional[str] = None,
                               data: Optional[Dict] = None) -> OperationResult:
        """创建成功结果"""
        result: OperationResult = {"success": True, "message": message}
        if user_id is not None:
            result["user_id"] = user_id
        if data is not None:
            result["data"] = data
        return result

    def _create_error_result(self, message: str) -> OperationResult:
        """创建错误结果"""
        return {"success": False, "message": message}

    def add_user(self, cookies: Dict[str, str]) -> OperationResult:
        """
        添加新用户配置

        Args:
            cookies: 包含完整cookie信息的字典

        Returns:
            操作结果字典
        """
        try:
            # 验证cookie完整性
            validation_result = self._validate_cookies(cookies, self.REQUIRED_COOKIE_KEYS)
            if not validation_result["success"]:
                return validation_result

            uid = str(cookies["DedeUserID"])
            config = self._read_config()

            # 检查用户是否已存在
            if uid in config["users"]:
                return self._create_error_result(f"用户 {uid} 已存在，请使用update_user进行更新")

            # 添加时间戳
            user_data = cookies.copy()
            user_data["last_updated"] = datetime.now().isoformat()

            config["users"][uid] = user_data

            # 如果是第一个用户，自动设置为默认用户
            if (not config["default_user"]) and (not config["users"]):
                config["default_user"] = uid

            write_result = self._write_config(config)
            if not write_result["success"]:
                return write_result

            return self._create_success_result("用户添加成功", user_id=uid)

        except Exception as e:
            return self._create_error_result(f"添加用户失败: {str(e)}")

    def delete_user(self, user_id: Union[int, str]) -> OperationResult:
        """
        删除用户配置

        Args:
            user_id: 要删除的用户ID

        Returns:
            操作结果字典
        """
        try:
            config = self._read_config()
            user_id_str = str(user_id)

            if user_id_str not in config["users"]:
                return self._create_error_result(f"用户 {user_id_str} 不存在")

            # 检查是否为默认用户
            if config["default_user"] == user_id_str:
                return self._create_error_result("不能删除默认用户，请先更改默认用户设置")

            del config["users"][user_id_str]

            # 如果删除的是默认用户，清空默认用户设置
            if config["default_user"] == user_id_str:
                config["default_user"] = None

            write_result = self._write_config(config)
            if not write_result["success"]:
                return write_result

            return self._create_success_result("用户删除成功", user_id=user_id_str)

        except Exception as e:
            return self._create_error_result(f"删除用户失败: {str(e)}")

    def update_user(self, cookies: Dict[str, str], set_as_default: bool = False) -> OperationResult:
        """
        更新用户配置

        Args:
            cookies: 包含cookie信息的字典
            set_as_default: 是否设为默认用户

        Returns:
            操作结果字典
        """
        try:
            # 验证最小必需字段
            validation_result = self._validate_cookies(cookies, self.MIN_REQUIRED_KEYS)
            if not validation_result["success"]:
                return validation_result

            uid = str(cookies["DedeUserID"])
            config = self._read_config()

            if uid not in config["users"]:
                return self._create_error_result(f"用户 {uid} 不存在")

            # 更新用户数据
            config["users"][uid].update(cookies)
            config["users"][uid]["last_updated"] = datetime.now().isoformat()

            # 设置默认用户
            if set_as_default:
                config["default_user"] = uid

            write_result = self._write_config(config)
            if not write_result["success"]:
                return write_result

            message = "用户更新成功" + ("并设置为默认用户" if set_as_default else "")
            return self._create_success_result(message, user_id=uid)

        except Exception as e:
            return self._create_error_result(f"更新用户失败: {str(e)}")

    def set_default_user(self, user_id: Union[int, str]) -> OperationResult:
        """
        设置默认用户

        Args:
            user_id: 要设置为默认用户的用户ID

        Returns:
            操作结果字典
        """
        try:
            config = self._read_config()
            user_id_str = str(user_id)

            if user_id_str not in config["users"]:
                return self._create_error_result(f"用户 {user_id_str} 不存在")

            config["default_user"] = user_id_str
            write_result = self._write_config(config)
            if not write_result["success"]:
                return write_result

            return self._create_success_result("默认用户设置成功", user_id=user_id_str)

        except Exception as e:
            return self._create_error_result(f"设置默认用户失败: {str(e)}")

    def clear_default_user(self) -> OperationResult:
        """
        清空默认用户设置

        Returns:
            操作结果字典
        """
        try:
            config = self._read_config()
            config["default_user"] = None
            write_result = self._write_config(config)
            if not write_result["success"]:
                return write_result

            return self._create_success_result("默认用户已清除")

        except Exception as e:
            return self._create_error_result(f"清除默认用户失败: {str(e)}")

    def get_user_cookies(self, user_id: Optional[Union[int, str]] = None) -> OperationResult:
        """
        获取指定用户的cookie信息

        Args:
            user_id: 用户ID，None表示获取默认用户

        Returns:
            操作结果字典，包含cookie数据
        """
        try:
            config = self._read_config()

            # 获取目标用户ID
            if user_id is None:
                target_user_id = config.get("default_user")
                if target_user_id is None:
                    return self._create_error_result("未设置默认用户")
            else:
                target_user_id = str(user_id)

            # 检查用户是否存在
            if target_user_id not in config["users"]:
                return self._create_error_result(f"用户 {target_user_id} 不存在")

            user_data = config["users"][target_user_id].copy()
            return self._create_success_result(
                "获取用户cookie成功",
                user_id=target_user_id,
                data=user_data
            )

        except Exception as e:
            return self._create_error_result(f"获取用户cookie失败: {str(e)}")

    def get_all_users(self) -> OperationResult:
        """
        获取所有用户信息列表

        Returns:
            操作结果字典，包含用户列表
        """
        try:
            config = self._read_config()
            default_user = config.get("default_user")

            users: List[UserInfo] = []
            for uid, user_data in config["users"].items():
                user_info: UserInfo = {
                    "user_id": uid,
                    "is_default": uid == default_user,
                    "last_updated": user_data.get("last_updated")
                }
                users.append(user_info)

            return self._create_success_result(
                "获取用户列表成功",
                data={"users": users, "total": len(users)}
            )

        except Exception as e:
            return self._create_error_result(f"获取用户列表失败: {str(e)}")

    def user_exists(self, user_id: Union[int, str]) -> bool:
        """
        检查用户是否存在

        Args:
            user_id: 要检查的用户ID

        Returns:
            True表示用户存在，False表示不存在
        """
        try:
            config = self._read_config()
            return str(user_id) in config["users"]
        except Exception:
            return False

    def get_default_user_id(self) -> Optional[str]:
        """
        获取默认用户ID

        Returns:
            默认用户ID，如果没有设置默认用户则返回None
        """
        try:
            config = self._read_config()
            return config.get("default_user")
        except Exception:
            return None

    def get_user_count(self) -> int:
        """
        获取用户数量

        Returns:
            用户数量
        """
        try:
            config = self._read_config()
            return len(config["users"])
        except Exception:
            return 0


class CommonTitlesManager:
    """
    管理用户常用标题的JSON文件

    功能:
    - 管理 {user_id: [title1, title2, ...]} 格式的JSON文件
    - 每个用户的标题列表最多包含5个元素
    - 支持增删改查操作
    - 自动创建不存在的目录和文件

    参数:
        directory: 文件存放目录
    """

    def __init__(self, directory: Union[str, Path]):
        """
        初始化CommonTitlesManager

        Args:
            directory: 文件存放目录
        """
        self.directory = Path(directory)
        self.filepath = self.directory / "commonData.json"
        self.data: Dict[str, List[str]] = {}

        # 确保目录存在
        self.directory.mkdir(parents=True, exist_ok=True)

        # 如果文件不存在则创建
        if not self.filepath.exists():
            self._save_data()
        else:
            self._load_data()

    def _load_data(self) -> None:
        """从文件加载数据"""
        try:
            with open(self.filepath, 'r', encoding='utf-8') as f:
                self.data = json.load(f)
        except (json.JSONDecodeError, FileNotFoundError):
            # 文件为空或格式错误时创建新文件
            self.data = {}
            self._save_data()

    def _save_data(self) -> None:
        """保存数据到文件"""
        with open(self.filepath, 'w', encoding='utf-8') as f:
            json.dump(self.data, f, ensure_ascii=False, indent=2)

    def get_titles(self, user_id: str) -> List[str]:
        """
        获取指定用户的常用标题列表

        Args:
            user_id: 用户ID

        Returns:
            该用户的常用标题列表（如果没有则为空列表）
        """
        return self.data.get(user_id, [])

    def add_title(self, user_id: str, title: str) -> None:
        """
        为用户添加新标题

        特点:
        - 如果标题已存在，则移动到列表最前面
        - 确保列表长度不超过5个
        - 如果用户不存在，则创建新条目

        Args:
            user_id: 用户ID
            title: 要添加的标题
        """
        titles = self.get_titles(user_id)

        # 移除重复项（如果存在）
        if title in titles:
            titles.remove(title)

        # 添加到列表开头
        titles.insert(0, title)

        # 确保不超过5个元素
        if len(titles) > 5:
            titles = titles[:5]

        # 更新数据并保存
        self.data[user_id] = titles
        self._save_data()

    def remove_title(self, user_id: str, title: str) -> bool:
        """
        移除用户的指定标题

        Args:
            user_id: 用户ID
            title: 要移除的标题

        Returns:
            True: 成功移除
            False: 标题不存在
        """
        if user_id not in self.data:
            return False

        titles = self.data[user_id]

        if title in titles:
            titles.remove(title)
            # 如果列表为空，则删除用户条目
            if not titles:
                del self.data[user_id]
            self._save_data()
            return True
        return False

    def update_title(self, user_id: str, old_title: str, new_title: str) -> bool:
        """
        更新用户的标题

        Args:
            user_id: 用户ID
            old_title: 要替换的旧标题
            new_title: 新标题

        Returns:
            True: 更新成功
            False: 旧标题不存在
        """
        if user_id not in self.data:
            return False

        titles = self.data[user_id]

        if old_title in titles:
            # 替换标题并移动到列表前面
            index = titles.index(old_title)
            titles.pop(index)
            titles.insert(0, new_title)
            self._save_data()
            return True
        return False

    def clear_user_titles(self, user_id: str) -> None:
        """
        清除指定用户的所有标题

        Args:
            user_id: 用户ID
        """
        if user_id in self.data:
            del self.data[user_id]
            self._save_data()

    def get_all_users(self) -> List[str]:
        """
        获取所有有标题的用户ID列表

        Returns:
            用户ID列表
        """
        return list(self.data.keys())

    def get_all_data(self) -> Dict[str, List[str]]:
        """
        获取所有数据

        Returns:
            完整的{user_id: titles}字典
        """
        return self.data.copy()

    def __str__(self) -> str:
        """返回数据的字符串表示"""
        return json.dumps(self.data, ensure_ascii=False, indent=2)


class CommonDataManager:
    """
    管理用户多种类型常用数据的JSON文件

    功能:
    - 管理 {user_id: {data_type1: [item1, item2, ...], data_type2: [...]}} 格式的JSON文件
    - 每种数据类型最多包含5个元素
    - 支持增删改查操作
    - 自动创建不存在的目录和文件
    - 自动转换旧格式数据到新格式

    参数:
        directory: 文件存放目录
        default_data_type: 默认数据类型（用于向后兼容）
    """

    def __init__(self, filepath: Union[str, Path], default_data_type: str = "title"):
        """
        初始化CommonDataManager

        Args:
            filepath: 文件路径
            default_data_type: 默认数据类型（用于处理旧格式数据）
            maximum_quantity_of_elements: 保留的最大元素数
        """
        self.filepath = Path(filepath)
        self.default_data_type = default_data_type
        self.data: Dict[str, Dict[str, List[str]]] = {}

        # 确保目录存在
        self.filepath.parent.mkdir(parents=True, exist_ok=True)

        # 如果文件不存在则创建
        if not self.filepath.exists():
            self._save_data()
        else:
            self._load_data()
            self._convert_old_format()

    def _load_data(self) -> None:
        """从文件加载数据"""
        try:
            with open(self.filepath, 'r', encoding='utf-8') as f:
                self.data = json.load(f)
        except (json.JSONDecodeError, FileNotFoundError):
            # 文件为空或格式错误时创建新文件
            self.data = {}
            self._save_data()

    def _save_data(self) -> None:
        """保存数据到文件"""
        with open(self.filepath, 'w', encoding='utf-8') as f:
            json.dump(self.data, f, ensure_ascii=False, indent=2)

    def _convert_old_format(self) -> None:
        """将旧格式数据转换为新格式"""
        needs_save = False

        for user_id, user_data in list(self.data.items()):
            # 如果用户数据是列表格式（旧格式），则转换为新格式
            if isinstance(user_data, list):
                self.data[user_id] = {self.default_data_type: user_data}
                needs_save = True

        if needs_save:
            self._save_data()

    def get_data(self, user_id: str, data_type: str) -> List[str]:
        """
        获取指定用户的指定类型数据列表

        Args:
            user_id: 用户ID
            data_type: 数据类型

        Returns:
            该用户的指定类型数据列表（如果没有则为空列表）
        """
        if user_id not in self.data:
            return []

        return self.data[user_id].get(data_type, [])

    def add_data(self, user_id: str, data_type: str, item: str, maximum: int = 5) -> None:
        """
        为用户添加新数据项

        特点:
        - 如果数据项已存在，则移动到列表最前面
        - 确保列表长度不超过5个
        - 如果用户不存在，则创建新条目
        - 如果数据类型不存在，则创建新类型

        Args:
            maximum: 保留的最大元素数
            user_id: 用户ID
            data_type: 数据类型
            item: 要添加的数据项
        """
        # 确保用户数据存在
        if user_id not in self.data:
            self.data[user_id] = {}

        # 确保数据类型存在
        if data_type not in self.data[user_id]:
            self.data[user_id][data_type] = []

        items = self.data[user_id][data_type]

        # 移除重复项（如果存在）
        if item in items:
            items.remove(item)

        # 添加到列表开头
        items.insert(0, item)

        # 确保不超过5个元素
        if len(items) > maximum:
            items = items[:maximum]

        # 更新数据并保存
        self.data[user_id][data_type] = items
        self._save_data()

    def remove_data(self, user_id: str, data_type: str, item: str) -> bool:
        """
        移除用户的指定数据项

        Args:
            user_id: 用户ID
            data_type: 数据类型
            item: 要移除的数据项

        Returns:
            True: 成功移除
            False: 数据项不存在
        """
        if user_id not in self.data or data_type not in self.data[user_id]:
            return False

        items = self.data[user_id][data_type]

        if item in items:
            items.remove(item)
            # 如果列表为空，则删除数据类型条目
            if not items:
                del self.data[user_id][data_type]
                # 如果用户数据为空，则删除用户条目
                if not self.data[user_id]:
                    del self.data[user_id]
            self._save_data()
            return True
        return False

    def update_data(self, user_id: str, data_type: str, old_item: str, new_item: str) -> bool:
        """
        更新用户的数据项

        Args:
            user_id: 用户ID
            data_type: 数据类型
            old_item: 要替换的旧数据项
            new_item: 新数据项

        Returns:
            True: 更新成功
            False: 旧数据项不存在
        """
        if user_id not in self.data or data_type not in self.data[user_id]:
            return False

        items = self.data[user_id][data_type]

        if old_item in items:
            # 替换数据项并移动到列表前面
            index = items.index(old_item)
            items.pop(index)
            items.insert(0, new_item)
            self._save_data()
            return True
        return False

    def clear_user_data(self, user_id: str, data_type: Optional[str] = None) -> None:
        """
        清除指定用户的指定类型数据或所有数据

        Args:
            user_id: 用户ID
            data_type: 数据类型（如果为None，则清除所有数据）
        """
        if user_id not in self.data:
            return

        if data_type is None:
            # 清除所有数据
            del self.data[user_id]
        elif data_type in self.data[user_id]:
            # 清除指定类型数据
            del self.data[user_id][data_type]
            # 如果用户数据为空，则删除用户条目
            if not self.data[user_id]:
                del self.data[user_id]

        self._save_data()

    def get_all_users(self) -> List[str]:
        """
        获取所有有数据的用户ID列表

        Returns:
            用户ID列表
        """
        return list(self.data.keys())

    def get_user_data_types(self, user_id: str) -> List[str]:
        """
        获取指定用户的所有数据类型

        Args:
            user_id: 用户ID

        Returns:
            数据类型列表
        """
        if user_id not in self.data:
            return []

        return list(self.data[user_id].keys())

    def get_all_data(self) -> Dict[str, Dict[str, List[str]]]:
        """
        获取所有数据

        Returns:
            完整的{user_id: {data_type: items}}字典
        """
        return self.data.copy()

    def __str__(self) -> str:
        """返回数据的字符串表示"""
        return json.dumps(self.data, ensure_ascii=False, indent=2)


class WbiSigna:
    def __init__(self, headers: dict, verify_ssl: bool = True):
        """
        wbi签名的api
        @param headers: 包含Cookie和User-Agent的请求头字典
        @param verify_ssl: 是否验证SSL证书（默认True，生产环境建议开启）
        """
        self.headers = headers
        self.verify_ssl = verify_ssl

    def wbi(self, data: dict):
        """
        WBI 签名
        @param data: 需要 wbi签名 的 params 参数
        @return: requests的 params 参数
        @rtype: dict
        """
        mixinKeyEncTab = [
            46, 47, 18, 2, 53, 8, 23, 32, 15, 50, 10, 31, 58, 3, 45, 35, 27, 43, 5, 49,
            33, 9, 42, 19, 29, 28, 14, 39, 12, 38, 41, 13, 37, 48, 7, 16, 24, 55, 40,
            61, 26, 17, 0, 1, 60, 51, 30, 4, 22, 25, 54, 21, 56, 59, 6, 63, 57, 62, 11,
            36, 20, 34, 44, 52
        ]

        def getMixinKey(orig: str):
            """对 imgKey 和 subKey 进行字符顺序打乱编码"""
            return reduce(lambda s, i: s + orig[i], mixinKeyEncTab, '')[:32]

        def encWbi(params: dict, img_key: str, sub_key: str):
            """为请求参数进行 wbi 签名"""
            mixin_key = getMixinKey(img_key + sub_key)
            curr_time = round(time.time())
            params['wts'] = curr_time  # 添加 wts 字段
            params = dict(sorted(params.items()))  # 按照 key 重排参数
            # 过滤 value 中的 "!'()*" 字符
            params: Dict[str, str] = {
                k: ''.join(filter(lambda chr: chr not in "!'()*", str(v)))
                for k, v
                in params.items()
            }
            query = urllib.parse.urlencode(params)  # 序列化参数
            wbi_sign = hashlib.md5((query + mixin_key).encode()).hexdigest()  # 计算 w_rid
            params['w_rid'] = wbi_sign
            return params

        def getWbiKeys() -> Tuple[str, str]:
            """获取最新的 img_key 和 sub_key"""
            resp = requests.get('https://api.bilibili.com/x/web-interface/nav', headers=self.headers)
            resp.raise_for_status()
            json_content = resp.json()
            img_url: str = json_content['data']['wbi_img']['img_url']
            sub_url: str = json_content['data']['wbi_img']['sub_url']
            img_key = img_url.rsplit('/', 1)[1].split('.')[0]
            sub_key = sub_url.rsplit('/', 1)[1].split('.')[0]
            return img_key, sub_key

        img_key, sub_key = getWbiKeys()

        signed_params = encWbi(
            params=data,
            img_key=img_key,
            sub_key=sub_key
        )
        return signed_params

    def get_contribution_rank(self, ruid: int, room_id: int,
                              rank_type: Literal["online_rank", "daily_rank", "weekly_rank", "monthly_rank"],
                              switch: Literal["contribution_rank", "entry_time_rank", "today_rank", "yesterday_rank",
                              "current_week_rank", "last_week_rank", "current_month_rank", "last_month_rank"],
                              page: int = 1, page_size: int = 10) -> Dict[str, Any]:
        """
        获取直播间观众贡献排名

        Args:
            ruid: 直播间主播 mid
            room_id: 直播间 id
            rank_type: 排名类型
                - "online_rank": 在线榜
                - "daily_rank": 日榜
                - "weekly_rank": 周榜
                - "monthly_rank": 月榜
            switch: 具体排名类型
                "online_rank": 在线榜
                    - "contribution_rank": 贡献值
                    - "entry_time_rank": 进房时间
                "daily_rank": 日榜
                    - "today_rank": 当日
                    - "yesterday_rank": 昨日
                "weekly_rank": 周榜
                    - "current_week_rank": 本周
                    - "last_week_rank": 上周
                "monthly_rank": 月榜
                    - "current_month_rank": 本月
                    - "last_month_rank": 上月
            page: 页码，page_size*page<100
            page_size: 每页元素数，page_size*page<100

        Returns:
            包含排名信息的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的排名数据
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
            - api_code: B站API错误码（如果有）
        """
        try:
            # 参数验证
            if not ruid or ruid <= 0:
                return {
                    "success": False,
                    "message": "获取贡献排名失败",
                    "error": "主播ID无效",
                    "status_code": None
                }

            if not room_id or room_id <= 0:
                return {
                    "success": False,
                    "message": "获取贡献排名失败",
                    "error": "房间ID无效",
                    "status_code": None
                }

            if page <= 0 or page_size <= 0 or page * page_size > 100:
                return {
                    "success": False,
                    "message": "获取贡献排名失败",
                    "error": "页码或每页数量无效（总数不能超过100）",
                    "status_code": None
                }

            # 构建API请求参数
            api_url = "https://api.live.bilibili.com/xlive/general-interface/v1/rank/queryContributionRank"
            params = {
                "ruid": ruid,
                "room_id": room_id,
                "page": page,
                "page_size": page_size,
                "type": rank_type,
                "switch": switch,
                "platform": "web"
            }

            # WBI签名
            signed_params = self.wbi(params)

            # 发送请求
            response = requests.get(
                url=api_url,
                headers=self.headers,
                params=signed_params,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取贡献排名失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            if result.get("code") != 0:
                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": result.get("code")
                }

            # 成功返回
            return {
                "success": True,
                "message": "贡献排名获取成功",
                "data": result.get("data", {}),
                "status_code": response.status_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取贡献排名失败",
                "error": "请求超时",
                "status_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取贡献排名失败",
                "error": "网络连接错误",
                "status_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取贡献排名失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取贡献排名过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }

    def get_danmu_info(self, room_id: int) -> Dict[str, Any]:
        """
        获取直播间弹幕服务器信息

        Args:
            room_id: 直播间真实ID

        Returns:
            包含操作结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（包含弹幕服务器信息等）
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
            - api_code: B站API返回的错误码（如果有）
        """
        try:
            # 检查房间ID是否有效
            if not room_id or room_id <= 0:
                return {
                    "success": False,
                    "message": "获取弹幕服务器信息失败",
                    "error": "房间ID无效",
                    "status_code": None,
                    "api_code": None
                }

            # 构建API请求
            url = 'https://api.live.bilibili.com/xlive/web-room/v1/index/getDanmuInfo'
            params = {
                "id": room_id,
            }

            # 使用wbi签名参数
            signed_params = self.wbi(params)

            # 发送请求
            response = requests.get(
                url=url,
                headers=self.headers,
                params=signed_params,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取弹幕服务器信息失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            if result.get("code") != 0:
                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": result.get("code"),
                    "response_data": result
                }

            # 检查数据是否存在
            if "data" not in result:
                return {
                    "success": False,
                    "message": "API响应格式异常",
                    "error": "响应中缺少必要的数据字段",
                    "status_code": response.status_code,
                    "api_code": result.get("code"),
                    "response_data": result
                }

            # 成功返回
            return {
                "success": True,
                "message": "弹幕服务器信息获取成功",
                "data": result["data"],
                "status_code": response.status_code,
                "api_code": result.get("code")
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取弹幕服务器信息失败",
                "error": "请求超时",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取弹幕服务器信息失败",
                "error": "网络连接错误",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取弹幕服务器信息失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "api_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取弹幕服务器信息过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None
            }

    def get_user_space_info(self, mid: int) -> Dict[str, Any]:
        """
        获取用户空间详细信息

        Args:
            mid: 目标用户mid

        Returns:
            包含用户空间信息的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的用户数据
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
        """
        try:
            # 检查用户ID是否有效
            if not mid or mid <= 0:
                return {
                    "success": False,
                    "message": "获取用户空间信息失败",
                    "error": "用户ID无效",
                    "status_code": None,
                    "data": None
                }

            # 构建API请求
            api_url = "https://api.bilibili.com/x/space/wbi/acc/info"
            params = self.wbi({"mid": mid})

            # 发送请求
            response = requests.get(
                url=api_url,
                headers=self.headers,
                params=params,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取用户空间信息失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "data": None,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            if result.get("code") != 0:
                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": result.get("code"),
                    "data": None
                }

            # 检查数据是否存在
            if "data" not in result:
                return {
                    "success": False,
                    "message": "API响应格式异常",
                    "error": "响应中缺少必要的数据字段",
                    "status_code": response.status_code,
                    "data": None,
                    "response_data": result
                }

            # 成功返回
            return {
                "success": True,
                "message": "用户空间信息获取成功",
                "data": result["data"],
                "status_code": response.status_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取用户空间信息失败",
                "error": "请求超时",
                "status_code": None,
                "data": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取用户空间信息失败",
                "error": "网络连接错误",
                "status_code": None,
                "data": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取用户空间信息失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "data": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取用户空间信息过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "data": None
            }

    def send_danmu(self, room_id: int, message: str,
                   fontsize: int = 25, color: int = 16777215, mode: int = 1,
                   bubble: int = 0, reply_mid: int = 0, reply_uname: str = "",
                   dm_type: int = 0, emoticon_unique: str = "") -> Dict[str, Any]:
        """
        发送直播弹幕

        Args:
            room_id: 直播间ID
            message: 弹幕内容
            fontsize: 字体大小，默认25
            color: 颜色值，默认16777215（白色）
            mode: 展示模式，默认1
            bubble: 气泡，默认0
            reply_mid: 要@的用户mid，默认0
            reply_uname: 要@的用户名，默认空
            dm_type: 弹幕类型，0为文字，1为表情，默认0
            emoticon_unique: 表情唯一标识，dm_type=1时使用

        Returns:
            包含操作结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的返回数据
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
            - api_code: B站API错误码（如果有）
        """
        try:
            # 参数验证
            if not room_id or room_id <= 0:
                return {
                    "success": False,
                    "message": "发送弹幕失败",
                    "error": "房间ID无效",
                    "status_code": None
                }

            if not message or len(message.strip()) == 0:
                return {
                    "success": False,
                    "message": "发送弹幕失败",
                    "error": "弹幕内容不能为空",
                    "status_code": None
                }

            # 从cookie中获取csrf token
            cookie_dict = {}
            if 'cookie' in self.headers:
                cookie_items = self.headers['cookie'].split('; ')
                for item in cookie_items:
                    if '=' in item:
                        key, value = item.split('=', 1)
                        cookie_dict[key] = value

            csrf_token = cookie_dict.get('bili_jct')
            if not csrf_token:
                return {
                    "success": False,
                    "message": "发送弹幕失败",
                    "error": "未找到CSRF token (bili_jct)",
                    "status_code": None
                }

            # 构建API请求
            api_url = "https://api.live.bilibili.com/msg/send"

            # URL参数（WBI签名）
            url_params = {
                "web_location": "444.8"
            }
            signed_url_params = self.wbi(url_params)

            # 表单数据
            form_data = {
                "bubble": bubble,
                "msg": message,
                "color": color,
                "mode": mode,
                "room_type": 0,
                "jumpfrom": 0,
                "reply_mid": reply_mid,
                "reply_attr": 0,
                "replay_dmid": "",
                "statistics": '{"appId":100,"platform":5}',
                "reply_type": 0,
                "reply_uname": reply_uname,
                "data_extend": '{"trackid":"-99998"}',
                "fontsize": fontsize,
                "rnd": int(time.time()),
                "roomid": room_id,
                "csrf": csrf_token,
                "csrf_token": csrf_token
            }

            # 如果是表情弹幕，添加相关参数
            if dm_type == 1:
                form_data["dm_type"] = dm_type
                form_data["emoticonOptions"] = "[object Object]"

            # 发送请求
            response = requests.post(
                url=api_url,
                headers=self.headers,
                params=signed_url_params,
                data=form_data,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "发送弹幕失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            api_code = result.get("code")
            if api_code != 0:
                error_message = result.get("message", "未知错误")

                # 特殊处理常见的错误码
                if api_code == 10030:
                    error_message = "发送弹幕频率过快，请稍后再试"
                elif api_code == -101:
                    error_message = "账号未登录或登录已过期"
                elif api_code == -111:
                    error_message = "CSRF token校验失败"
                elif api_code == 1003212:
                    error_message = "弹幕内容超出长度限制"

                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": error_message,
                    "status_code": response.status_code,
                    "api_code": api_code
                }

            # 检查屏蔽词导致的发送失败
            msg_content = result.get("msg", "")
            if msg_content in ["f", "k"]:
                error_msg = "因屏蔽词导致发送失败"
                if msg_content == "f":
                    error_msg += "（B站屏蔽词）"
                else:
                    error_msg += "（直播间屏蔽词）"

                return {
                    "success": False,
                    "message": "发送弹幕失败",
                    "error": error_msg,
                    "status_code": response.status_code,
                    "api_code": api_code
                }

            # 成功返回
            return {
                "success": True,
                "message": "弹幕发送成功",
                "data": result.get("data", {}),
                "status_code": response.status_code,
                "api_code": api_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "发送弹幕失败",
                "error": "请求超时",
                "status_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "发送弹幕失败",
                "error": "网络连接错误",
                "status_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "发送弹幕失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "发送弹幕过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }


class BilibiliLogInRegister:
    """
    B站登录注册相关API
    """

    def __init__(self, headers: Dict[str, str], verify_ssl: bool = True):
        """
        初始化登录注册管理器

        Args:
            headers: 请求头字典
            verify_ssl: 是否验证SSL证书
        """
        self.headers = headers
        self.verify_ssl = verify_ssl

    def generate(self) -> Dict[str, Any]:
        """
        申请登录二维码

        Returns:
            包含操作结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（包含url和qrcode_key）
            - error: 失败时的错误信息
            - status_code: HTTP状态码
            - api_code: B站API返回的状态码
        """
        try:
            api = 'https://passport.bilibili.com/x/passport-login/web/qrcode/generate'

            # 发送请求
            response = requests.get(
                url=api,
                headers=self.headers,
                verify=self.verify_ssl,
                timeout=10
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "申请二维码失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 解析响应
            try:
                result = response.json()
            except ValueError as e:
                return {
                    "success": False,
                    "message": "申请二维码失败",
                    "error": f"解析响应失败: {str(e)}",
                    "status_code": response.status_code,
                    "api_code": None
                }

            # 检查API返回状态码
            api_code = result.get("code", -1)
            if api_code != 0:
                error_msg = result.get("message") or result.get("msg") or "未知错误"
                return {
                    "success": False,
                    "message": "申请二维码失败",
                    "error": f"API错误: {error_msg}",
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": result
                }

            # 检查数据是否存在
            data = result.get("data")
            if not data:
                return {
                    "success": False,
                    "message": "申请二维码失败",
                    "error": "API返回数据为空",
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": result
                }

            # 提取必要字段
            url = data.get("url")
            qrcode_key = data.get("qrcode_key")

            if not url or not qrcode_key:
                return {
                    "success": False,
                    "message": "申请二维码失败",
                    "error": "响应中缺少必要的二维码数据",
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": result
                }

            return {
                "success": True,
                "message": "二维码申请成功",
                "data": {
                    "url": url,
                    "qrcode_key": qrcode_key
                },
                "status_code": response.status_code,
                "api_code": api_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "申请二维码失败",
                "error": "请求超时",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "申请二维码失败",
                "error": "网络连接错误",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "申请二维码失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "api_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "申请二维码过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None
            }

    def poll(self, qrcode_key: str) -> Dict[str, Any]:
        """
        获取扫码登陆状态，登陆成功获取基础的cookies

        Args:
            qrcode_key: 扫描秘钥

        Returns:
            包含操作结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（包含扫码状态和cookies信息）
            - error: 失败时的错误信息
            - status_code: HTTP状态码
            - api_code: B站API返回的状态码
        """
        try:
            # 验证输入参数
            if not qrcode_key or not isinstance(qrcode_key, str):
                return {
                    "success": False,
                    "message": "查询扫码状态失败",
                    "error": "二维码密钥无效",
                    "status_code": None,
                    "api_code": None
                }

            api = f'https://passport.bilibili.com/x/passport-login/web/qrcode/poll?qrcode_key={qrcode_key}'

            # 发送请求
            response = requests.get(
                url=api,
                headers=self.headers,
                verify=self.verify_ssl,
                timeout=10
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "查询扫码状态失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 解析响应
            try:
                result = response.json()
            except ValueError as e:
                return {
                    "success": False,
                    "message": "查询扫码状态失败",
                    "error": f"解析响应失败: {str(e)}",
                    "status_code": response.status_code,
                    "api_code": None
                }

            # 检查API返回状态码
            api_code = result.get("code", -1)
            if api_code != 0:
                error_msg = result.get("message") or result.get("msg") or "未知错误"
                return {
                    "success": False,
                    "message": "查询扫码状态失败",
                    "error": f"API错误: {error_msg}",
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": result
                }

            # 检查数据是否存在
            data = result.get("data")
            if not data:
                return {
                    "success": False,
                    "message": "查询扫码状态失败",
                    "error": "API返回数据为空",
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": result
                }

            # 提取扫码状态码和消息
            scan_code = data.get("code")
            scan_message = data.get("message", "")

            # 根据扫码状态码判断扫码状态
            status_mapping = {
                0: "扫码登录成功",
                86038: "二维码已失效",
                86090: "二维码已扫码未确认",
                86101: "未扫码"
            }

            status_message = status_mapping.get(scan_code, f"未知状态码: {scan_code}")

            # 构建返回数据
            result_data = {
                "scan_code": scan_code,
                "scan_message": scan_message,
                "status_description": status_message,
                "url": data.get("url", ""),
                "refresh_token": data.get("refresh_token", ""),
                "timestamp": data.get("timestamp", 0)
            }

            # 如果扫码成功，提取cookies信息
            if scan_code == 0:
                url = data.get("url", "")
                # 从URL中提取cookies参数
                cookies_info = self._extract_cookies_from_url(url)
                result_data.update(cookies_info)

            return {
                "success": True,
                "message": status_message,
                "data": result_data,
                "status_code": response.status_code,
                "api_code": api_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "查询扫码状态失败",
                "error": "请求超时",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "查询扫码状态失败",
                "error": "网络连接错误",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "查询扫码状态失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "api_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "查询扫码状态过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None
            }

    def _extract_cookies_from_url(self, url: str) -> Dict[str, str]:
        """
        从URL中提取cookies参数

        Args:
            url: 包含cookies参数的URL

        Returns:
            包含cookies信息的字典
        """
        cookies = {}
        try:
            from urllib.parse import urlparse, parse_qs

            parsed_url = urlparse(url)
            query_params = parse_qs(parsed_url.query)

            # 提取关键cookies字段
            cookies_fields = ["DedeUserID", "DedeUserID__ckMd5", "SESSDATA", "bili_jct"]

            for field in cookies_fields:
                if field in query_params:
                    cookies[field] = query_params[field][0] if query_params[field] else ""

        except Exception:
            # 如果解析失败，返回空字典
            pass

        return cookies


class ImproveCookies:
    def __init__(self, headers: Dict[str, str], verify_ssl: bool = True):
        """完善浏览器headers"""
        self.headers = headers
        self.verify_ssl = verify_ssl

    def fetch_buvid3_and_bnut(self) -> Dict[str, Any]:
        """
        获取buvid3和b_nut认证信息

        Returns:
            包含操作结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（包含buvid3和b_nut）
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
        """
        try:
            response = requests.get(
                url='https://www.bilibili.com/',
                headers=self.headers,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取认证信息失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "response_text": response.text
                }

            cookies_dict = response.cookies.get_dict()

            # 检查是否成功获取到必要的cookies
            required_cookies = ["buvid3", "b_nut"]
            missing_cookies = [cookie for cookie in required_cookies if cookie not in cookies_dict]

            if missing_cookies:
                return {
                    "success": False,
                    "message": "获取认证信息不完整",
                    "error": f"缺少必要的cookies: {', '.join(missing_cookies)}",
                    "status_code": response.status_code,
                    "available_cookies": list(cookies_dict.keys())
                }

            return {
                "success": True,
                "message": "认证信息获取成功",
                "data": {
                    "buvid3": cookies_dict["buvid3"],
                    "b_nut": cookies_dict["b_nut"]
                },
                "status_code": response.status_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取认证信息失败",
                "error": "请求超时",
                "status_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取认证信息失败",
                "error": "网络连接错误",
                "status_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取认证信息失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取认证信息过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }

    def fetch_buvid3_info(self) -> Dict[str, Any]:
        """
        获取B站BUVID3信息

        Returns:
            包含BUVID3信息的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（包含buvid3等）
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
        """
        try:
            # 发送API请求获取buvid3
            response = requests.get(
                url='https://api.bilibili.com/x/web-frontend/getbuvid',
                headers=self.headers,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取BUVID3失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            if result.get("code") != 0:
                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": result.get("code")
                }

            # 检查数据是否存在
            if "data" not in result or "buvid" not in result["data"]:
                return {
                    "success": False,
                    "message": "API响应格式异常",
                    "error": "响应中缺少必要的buvid字段",
                    "status_code": response.status_code,
                    "response_data": result
                }

            # 成功返回
            return {
                "success": True,
                "message": "BUVID3获取成功",
                "data": {
                    "buvid3": result["data"]["buvid"]
                },
                "status_code": response.status_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取BUVID3失败",
                "error": "请求超时",
                "status_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取BUVID3失败",
                "error": "网络连接错误",
                "status_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取BUVID3失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取BUVID3过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }

    def get_buvid_info(self) -> Dict[str, Any]:
        """
        获取B站buvid3和buvid4信息

        Returns:
            包含buvid信息的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（包含b_3和b_4字段）
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
        """
        try:
            # 发送API请求获取buvid信息
            response = requests.get(
                url="https://api.bilibili.com/x/frontend/finger/spi",
                headers=self.headers,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取buvid信息失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            if result.get("code") != 0:
                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": result.get("code")
                }

            # 检查数据是否存在
            if "data" not in result:
                return {
                    "success": False,
                    "message": "API响应格式异常",
                    "error": "响应中缺少必要的数据字段",
                    "status_code": response.status_code,
                    "response_data": result
                }

            # 成功返回
            return {
                "success": True,
                "message": "buvid信息获取成功",
                "data": result["data"],
                "status_code": response.status_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取buvid信息失败",
                "error": "请求超时",
                "status_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取buvid信息失败",
                "error": "网络连接错误",
                "status_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取buvid信息失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取buvid信息过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }


class BilibiliApiGeneric:
    """
    不登录也能用的B站API
    """

    def __init__(self, headers, verify_ssl: bool = True):
        self.headers = headers
        self.verify_ssl = verify_ssl

    def get_area_obj_list(self) -> Dict[str, Any]:
        """
        获取B站直播分区信息

        Returns:
            包含操作结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（分区信息）
            - error: 失败时的错误信息
            - status_code: HTTP状态码
            - api_code: B站API返回的状态码
        """
        try:
            api_url = "https://api.live.bilibili.com/room/v1/Area/getList"

            # 发送API请求
            response = requests.get(
                url=api_url,
                headers=self.headers,
                timeout=10,
                verify=self.verify_ssl
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取分区信息失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 解析JSON响应
            data = response.json()

            # 验证API响应
            api_code = data.get("code", -1)
            if api_code != 0:
                error_msg = data.get("message") or data.get("msg") or "未知错误"
                return {
                    "success": False,
                    "message": "获取分区信息失败",
                    "error": f"API错误: {error_msg}",
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": data
                }

            # 检查核心数据结构
            if "data" not in data or not isinstance(data["data"], list):
                return {
                    "success": False,
                    "message": "获取分区信息失败",
                    "error": "返回数据缺少分区列表",
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": data
                }

            return {
                "success": True,
                "message": "获取分区信息成功",
                "data": data["data"],
                "status_code": response.status_code,
                "api_code": api_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取分区信息失败",
                "error": "请求超时",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取分区信息失败",
                "error": "网络连接错误",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取分区信息失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "api_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取分区信息过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None
            }

    def get_bilibili_user_card(self, mid: Union[int, str], photo: bool = False) -> Dict[str, Any]:
        """
        获取Bilibili用户名片信息

        Args:
            mid: 目标用户mid
            photo: 是否请求用户主页头图 (可选，默认为False)

        Returns:
            包含操作结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（用户信息）
            - error: 失败时的错误信息
            - status_code: HTTP状态码
            - api_code: B站API返回的状态码
        """
        try:
            # 验证输入参数
            if not mid:
                return {
                    "success": False,
                    "message": "获取用户信息失败",
                    "error": "用户MID不能为空",
                    "status_code": None,
                    "api_code": None
                }

            # API地址
            url = "https://api.bilibili.com/x/web-interface/card"

            # 请求参数
            params = {
                'mid': mid,
                'photo': 'true' if photo else 'false'
            }

            # 发送GET请求
            response = requests.get(
                url,
                params=params,
                headers=self.headers,
                timeout=10,
                verify=self.verify_ssl
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取用户信息失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 解析JSON响应
            data = response.json()

            # 检查API返回状态
            api_code = data.get('code', -1)
            if api_code != 0:
                error_msg = data.get('message', '未知错误')
                return {
                    "success": False,
                    "message": "获取用户信息失败",
                    "error": f"API错误: {error_msg}",
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": data
                }

            # 返回完整的API响应数据
            return {
                "success": True,
                "message": "获取用户信息成功",
                "data": data,  # 返回完整的API响应
                "status_code": response.status_code,
                "api_code": api_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取用户信息失败",
                "error": "请求超时",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取用户信息失败",
                "error": "网络连接错误",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取用户信息失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "api_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取用户信息过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None
            }

    def get_guard_list(self, roomid: Union[int, str], ruid: Union[int, str], page: int = 1,
                       page_size: int = 20, typ: Optional[int] = None,
                       include_total_list: bool = False) -> Dict[str, Any]:
        """
        获取直播间大航海成员列表

        Args:
            roomid: 直播间号
            ruid: 主播UID
            page: 页数（默认1）
            page_size: 页大小（默认20，最大30）
            typ: 排序方式（可选，3=按周，4=按月，5=按总航海亲密度）
            include_total_list: 是否获取并返回完整的大航海列表（默认为False）

        Returns:
            包含操作结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（大航海成员信息）
            - error: 失败时的错误信息
            - status_code: HTTP状态码
            - api_code: B站API返回的状态码
        """
        try:
            # 验证输入参数
            if not roomid or not ruid:
                return {
                    "success": False,
                    "message": "获取大航海列表失败",
                    "error": "房间ID和主播UID不能为空",
                    "status_code": None,
                    "api_code": None
                }

            if page <= 0:
                return {
                    "success": False,
                    "message": "获取大航海列表失败",
                    "error": "页数必须大于0",
                    "status_code": None,
                    "api_code": None
                }

            # 限制page_size在有效范围内
            if page_size <= 0 or page_size > 30:
                page_size = 20  # 使用默认值

            # API配置
            api_url = "https://api.live.bilibili.com/xlive/app-room/v2/guardTab/topListNew"

            # 构建请求参数
            params = {
                "roomid": str(roomid),
                "ruid": str(ruid),
                "page": page,
                "page_size": page_size
            }

            # 添加可选的排序参数
            if typ in [3, 4, 5]:
                params["typ"] = typ

            # 发送API请求
            response = requests.get(
                api_url,
                headers=self.headers,
                params=params,
                timeout=10,
                verify=self.verify_ssl
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取大航海列表失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 解析JSON响应
            result = response.json()

            # 验证基本结构
            if not isinstance(result, dict) or "code" not in result:
                return {
                    "success": False,
                    "message": "获取大航海列表失败",
                    "error": "API返回无效的响应格式",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_data": result
                }

            # 检查API错误码
            api_code = result.get("code", -1)
            if api_code != 0:
                error_msg = result.get("message") or result.get("msg") or "未知错误"
                return {
                    "success": False,
                    "message": "获取大航海列表失败",
                    "error": f"API错误: {error_msg}",
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": result
                }

            # 验证数据格式
            if "data" not in result or not isinstance(result["data"], dict):
                return {
                    "success": False,
                    "message": "获取大航海列表失败",
                    "error": "API返回数据格式无效",
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": result
                }

            data = result["data"]

            # 基础返回数据
            response_data = {
                "info": data.get("info", {}),  # 统计信息
                "top3": data.get("top3", []),  # 前三名
                "list": data.get("list", []),  # 当前页列表
                "total_info": {
                    "num": data.get("info", {}).get("num", 0),  # 总人数
                    "page": data.get("info", {}).get("page", 0),  # 总页数
                    "now": data.get("info", {}).get("now", 0)  # 当前页
                }
            }

            # 如果需要获取完整列表
            if include_total_list:
                total_list = self._get_complete_guard_list(roomid, ruid, typ)
                response_data["total_list"] = total_list

            return {
                "success": True,
                "message": "获取大航海列表成功",
                "data": response_data,
                "status_code": response.status_code,
                "api_code": api_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取大航海列表失败",
                "error": "请求超时",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取大航海列表失败",
                "error": "网络连接错误",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取大航海列表失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "api_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取大航海列表过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None
            }

    def _get_complete_guard_list(self, roomid: Union[int, str], ruid: Union[int, str],
                                 typ: Optional[int] = None) -> List[Dict[str, Any]]:
        """
        获取完整的大航海成员列表（内部方法）

        Args:
            roomid: 直播间号
            ruid: 主播UID
            typ: 排序方式

        Returns:
            完整的大航海成员列表
        """
        complete_list = []
        page = 1

        while True:
            # 构建请求参数
            params = {
                "roomid": str(roomid),
                "ruid": str(ruid),
                "page": page,
                "page_size": 30  # 使用最大页大小
            }

            if typ in [3, 4, 5]:
                params["typ"] = typ

            try:
                # 发送API请求
                response = requests.get(
                    "https://api.live.bilibili.com/xlive/app-room/v2/guardTab/topListNew",
                    headers=self.headers,
                    params=params,
                    timeout=10,
                    verify=self.verify_ssl
                )

                if response.status_code != 200:
                    break

                result = response.json()
                if result.get("code") != 0:
                    break

                data = result["data"]

                # 如果是第一页，包含top3
                if page == 1:
                    complete_list.extend(data.get("top3", []))

                # 添加当前页列表
                current_list = data.get("list", [])
                complete_list.extend(current_list)

                # 检查是否还有更多页
                info = data.get("info", {})
                total_pages = info.get("page", 0)
                if page >= total_pages or not current_list:
                    break

                page += 1

            except Exception:
                break

        return complete_list

    def get_live_user_info(self, uid: int) -> Dict[str, Any]:
        """
        获取主播信息

        Args:
            uid: 目标用户mid

        Returns:
            包含操作结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（主播信息）
            - error: 失败时的错误信息
            - status_code: HTTP状态码
            - api_code: B站API返回的状态码
        """
        try:
            # 验证输入参数
            if not uid or uid <= 0:
                return {
                    "success": False,
                    "message": "获取主播信息失败",
                    "error": "用户ID无效",
                    "status_code": None,
                    "api_code": None
                }

            api_url = "https://api.live.bilibili.com/live_user/v1/Master/info"
            params = {
                "uid": uid
            }

            # 发送请求
            response = requests.get(
                url=api_url,
                headers=self.headers,
                params=params,
                verify=self.verify_ssl,
                timeout=10
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取主播信息失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 根据B站API返回的状态码判断成功与否
            api_code = result.get("code", -1)
            if api_code == 0:
                return {
                    "success": True,
                    "message": "获取主播信息成功",
                    "data": result.get("data", {}),
                    "status_code": response.status_code,
                    "api_code": api_code
                }
            else:
                # 提取错误信息
                error_msg = result.get("msg") or result.get("message", "未知错误")
                return {
                    "success": False,
                    "message": "获取主播信息失败",
                    "error": error_msg,
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": result
                }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取主播信息失败",
                "error": "请求超时",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取主播信息失败",
                "error": "网络连接错误",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取主播信息失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "api_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取主播信息过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None
            }

    def get_anchor_common_areas(self, room_id: Union[str, int]) -> Dict[str, Any]:
        """
        获取主播常用分区信息

        参数:
            room_id: 直播间ID（整数或字符串）

        返回:
            包含操作结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（分区列表）
            - error: 失败时的错误信息
            - status_code: HTTP状态码
            - api_code: B站API返回的状态码
        """
        try:
            # 验证输入参数
            if not room_id:
                return {
                    "success": False,
                    "message": "获取分区信息失败",
                    "error": "房间ID不能为空",
                    "status_code": None,
                    "api_code": None
                }

            # API配置
            api_url = "https://api.live.bilibili.com/room/v1/Area/getMyChooseArea"
            params = {"roomid": str(room_id)}

            # 发送API请求
            response = requests.get(
                api_url,
                headers=self.headers,
                params=params,
                timeout=10,
                verify=self.verify_ssl
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取分区信息失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 解析JSON响应
            result = response.json()

            # 验证基本结构
            if not isinstance(result, dict) or "code" not in result:
                return {
                    "success": False,
                    "message": "获取分区信息失败",
                    "error": "API返回无效的响应格式",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_data": result
                }

            # 检查API错误码
            api_code = result.get("code", -1)
            if api_code != 0:
                error_msg = result.get("message") or result.get("msg") or "未知错误"
                return {
                    "success": False,
                    "message": "获取分区信息失败",
                    "error": f"API错误: {error_msg}",
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": result
                }

            # 验证数据格式
            if "data" not in result or not isinstance(result["data"], list):
                return {
                    "success": False,
                    "message": "获取分区信息失败",
                    "error": "API返回数据格式无效",
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": result
                }

            # 验证分区数据
            for area in result["data"]:
                required_keys = {"id", "name", "parent_id", "parent_name"}
                if not required_keys.issubset(area.keys()):
                    return {
                        "success": False,
                        "message": "获取分区信息失败",
                        "error": "分区数据缺少必需字段",
                        "status_code": response.status_code,
                        "api_code": api_code,
                        "response_data": result
                    }

            return {
                "success": True,
                "message": "获取分区信息成功",
                "data": result["data"],
                "status_code": response.status_code,
                "api_code": api_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取分区信息失败",
                "error": "请求超时",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取分区信息失败",
                "error": "网络连接错误",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取分区信息失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "api_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取分区信息过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None
            }

    def get_room_base_info(self, room_id: int) -> Dict[str, Any]:
        """
        获取直播间基本信息

        Args:
            room_id: 直播间短ID

        Returns:
            包含操作结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（直播间信息）
            - error: 失败时的错误信息
            - status_code: HTTP状态码
            - api_code: B站API返回的状态码
        """
        try:
            # 验证输入参数
            if not room_id or room_id <= 0:
                return {
                    "success": False,
                    "message": "获取房间信息失败",
                    "error": "房间ID无效",
                    "status_code": None,
                    "api_code": None
                }

            api_url = "https://api.live.bilibili.com/xlive/web-room/v1/index/getRoomBaseInfo"
            params = {
                "req_biz": "web_room_componet",
                "room_ids": room_id
            }

            # 发送API请求
            response = requests.get(
                api_url,
                headers=self.headers,
                params=params,
                verify=self.verify_ssl
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取房间信息失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 解析JSON响应
            data = response.json()

            # 验证API响应
            api_code = data.get("code", -1)
            if api_code != 0:
                error_msg = data.get("message") or data.get("msg") or "未知错误"
                return {
                    "success": False,
                    "message": "获取房间信息失败",
                    "error": f"API错误: {error_msg}",
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": data
                }

            # 提取房间信息
            by_room_ids = data.get("data", {}).get("by_room_ids", {})
            if not by_room_ids:
                return {
                    "success": False,
                    "message": "获取房间信息失败",
                    "error": "未找到房间信息",
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": data
                }

            # 返回第一个房间信息（即使多个也取第一个）
            room_info = next(iter(by_room_ids.values()), None)
            if not room_info:
                return {
                    "success": False,
                    "message": "获取房间信息失败",
                    "error": "房间信息为空",
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": data
                }

            return {
                "success": True,
                "message": "获取房间信息成功",
                "data": room_info,
                "status_code": response.status_code,
                "api_code": api_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取房间信息失败",
                "error": "请求超时",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取房间信息失败",
                "error": "网络连接错误",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取房间信息失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "api_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取房间信息过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None
            }

    def get_room_info_old(self, mid: int) -> Dict[str, Any]:
        """
        通过B站UID查询直播间基础信息

        Args:
            mid: B站用户UID

        Returns:
            包含操作结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（直播间信息）
            - error: 失败时的错误信息
            - status_code: HTTP状态码
            - api_code: B站API返回的状态码
        """
        try:
            # 参数验证
            if not isinstance(mid, int) or mid <= 0:
                return {
                    "success": False,
                    "message": "获取房间信息失败",
                    "error": "mid 必须是正整数",
                    "status_code": None,
                    "api_code": None
                }

            api = "https://api.live.bilibili.com/room/v1/Room/getRoomInfoOld"
            params = {"mid": mid}

            # 发送请求
            response = requests.get(
                url=api,
                headers=self.headers,
                params=params,
                timeout=5.0,
                verify=self.verify_ssl
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取房间信息失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 解析JSON响应
            try:
                data = response.json()
            except ValueError as e:
                return {
                    "success": False,
                    "message": "获取房间信息失败",
                    "error": f"解析API响应失败: {str(e)}",
                    "status_code": response.status_code,
                    "api_code": None
                }

            # 检查API返回状态码
            api_code = data.get("code", -1)
            if api_code != 0:
                error_msg = data.get("message") or data.get("msg") or "未知错误"
                return {
                    "success": False,
                    "message": "获取房间信息失败",
                    "error": f"API错误: {error_msg}",
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": data
                }

            # 检查数据是否存在
            result = data.get("data")
            if not result:
                return {
                    "success": False,
                    "message": "获取房间信息失败",
                    "error": "API返回数据为空",
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": data
                }

            # 确保返回完整字段结构
            room_info = {
                "roomStatus": result.get("roomStatus"),
                "roundStatus": result.get("roundStatus"),
                "liveStatus": result.get("liveStatus"),
                "url": result.get("url"),
                "title": result.get("title"),
                "cover": result.get("cover"),
                "online": result.get("online"),
                "roomid": result.get("roomid"),
                "broadcast_type": result.get("broadcast_type"),
                "online_hidden": result.get("online_hidden"),
                "link": result.get("link")  # 添加link字段
            }

            return {
                "success": True,
                "message": "获取房间信息成功",
                "data": room_info,
                "status_code": response.status_code,
                "api_code": api_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取房间信息失败",
                "error": "请求超时",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取房间信息失败",
                "error": "网络连接错误",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取房间信息失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "api_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取房间信息过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None
            }

    def get_fans_members_rank(self, ruid: Union[int, str], page: int = 1,
                              page_size: int = 20, rank_type: Optional[int] = None,
                              include_total_list: bool = False) -> Dict[str, Any]:
        """
        获取粉丝团成员排名

        Args:
            ruid: 主播UID
            page: 页数（默认1）
            page_size: 每页返回数量（默认20，最大30）
            rank_type: 排序方式（1=按粉丝牌亮着的成员亲密度，2=按没上过舰的成员亲密度）
            include_total_list: 是否获取并返回完整的粉丝团成员列表（默认为False）

        Returns:
            包含操作结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（粉丝团成员信息）
            - error: 失败时的错误信息
            - status_code: HTTP状态码
            - api_code: B站API返回的状态码
        """
        try:
            # 验证输入参数
            if not ruid:
                return {
                    "success": False,
                    "message": "获取粉丝团成员失败",
                    "error": "主播UID不能为空",
                    "status_code": None,
                    "api_code": None
                }

            if page <= 0:
                return {
                    "success": False,
                    "message": "获取粉丝团成员失败",
                    "error": "页数必须大于0",
                    "status_code": None,
                    "api_code": None
                }

            # 限制page_size在有效范围内
            if page_size <= 0 or page_size > 30:
                page_size = 20  # 使用默认值

            # API配置
            api_url = "https://api.live.bilibili.com/xlive/general-interface/v1/rank/getFansMembersRank"

            # 构建请求参数
            params = {
                "ruid": str(ruid),
                "page": page,
                "page_size": page_size
            }

            # 添加排序参数
            if rank_type in [1, 2]:
                params["rank_type"] = rank_type
                # 当rank_type=2时需要ts参数
                if rank_type == 2:
                    params["ts"] = int(time.time() * 1000)  # 13位时间戳

            # 发送API请求
            response = requests.get(
                api_url,
                headers=self.headers,
                params=params,
                timeout=10,
                verify=self.verify_ssl
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取粉丝团成员失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 解析JSON响应
            result = response.json()

            # 验证基本结构
            if not isinstance(result, dict) or "code" not in result:
                return {
                    "success": False,
                    "message": "获取粉丝团成员失败",
                    "error": "API返回无效的响应格式",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_data": result
                }

            # 检查API错误码
            api_code = result.get("code", -1)
            if api_code != 0:
                error_msg = result.get("message") or result.get("msg") or "未知错误"
                return {
                    "success": False,
                    "message": "获取粉丝团成员失败",
                    "error": f"API错误: {error_msg}",
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": result
                }

            # 验证数据格式
            if "data" not in result or not isinstance(result["data"], dict):
                return {
                    "success": False,
                    "message": "获取粉丝团成员失败",
                    "error": "API返回数据格式无效",
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": result
                }

            data = result["data"]

            # 基础返回数据
            response_data = {
                "item": data.get("item", []),  # 粉丝团成员列表
                "num": data.get("num", 0),  # 粉丝团成员总数
                "medal_status": data.get("medal_status", 0),  # 粉丝牌状态
                "page_info": {
                    "current_page": page,
                    "page_size": page_size,
                    "total_members": data.get("num", 0)
                }
            }

            # 如果需要获取完整列表
            if include_total_list:
                total_list = self._get_complete_fans_list(ruid, rank_type)
                response_data["total_list"] = total_list

            return {
                "success": True,
                "message": "获取粉丝团成员成功",
                "data": response_data,
                "status_code": response.status_code,
                "api_code": api_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取粉丝团成员失败",
                "error": "请求超时",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取粉丝团成员失败",
                "error": "网络连接错误",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取粉丝团成员失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "api_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取粉丝团成员过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None
            }

    def _get_complete_fans_list(self, ruid: Union[int, str],
                                rank_type: Optional[int] = None) -> List[Dict[str, Any]]:
        """
        获取完整的粉丝团成员列表（内部方法）

        Args:
            ruid: 主播UID
            rank_type: 排序方式

        Returns:
            完整的粉丝团成员列表
        """
        complete_list = []
        page = 1

        while True:
            # 构建请求参数
            params = {
                "ruid": str(ruid),
                "page": page,
                "page_size": 30  # 使用最大页大小
            }

            # 添加排序参数
            if rank_type in [1, 2]:
                params["rank_type"] = rank_type
                if rank_type == 2:
                    params["ts"] = int(time.time() * 1000)

            try:
                # 发送API请求
                response = requests.get(
                    "https://api.live.bilibili.com/xlive/general-interface/v1/rank/getFansMembersRank",
                    headers=self.headers,
                    params=params,
                    timeout=10,
                    verify=self.verify_ssl
                )

                if response.status_code != 200:
                    break

                result = response.json()
                if result.get("code") != 0:
                    break

                data = result["data"]
                current_list = data.get("item", [])
                complete_list.extend(current_list)

                # 检查是否还有更多页
                total_members = data.get("num", 0)
                if not current_list or len(complete_list) >= total_members:
                    break

                page += 1

            except Exception:
                break

        return complete_list

    def get_user_relation_stat(self, vmid: Union[int, str]) -> Dict[str, Any]:
        """
        获取用户关注数和粉丝数统计

        Args:
            vmid: 用户MID

        Returns:
            包含操作结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（关注粉丝统计信息）
            - error: 失败时的错误信息
            - status_code: HTTP状态码
            - api_code: B站API返回的状态码
        """
        try:
            # 验证输入参数
            if not vmid:
                return {
                    "success": False,
                    "message": "获取用户关系统计失败",
                    "error": "用户MID不能为空",
                    "status_code": None,
                    "api_code": None
                }

            # API配置
            api_url = "https://api.bilibili.com/x/relation/stat"

            # 构建请求参数
            params = {
                "vmid": str(vmid)
            }

            # 发送API请求
            response = requests.get(
                api_url,
                headers=self.headers,
                params=params,
                timeout=10,
                verify=self.verify_ssl
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取用户关系统计失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 解析JSON响应
            result = response.json()

            # 验证基本结构
            if not isinstance(result, dict) or "code" not in result:
                return {
                    "success": False,
                    "message": "获取用户关系统计失败",
                    "error": "API返回无效的响应格式",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_data": result
                }

            # 检查API错误码
            api_code = result.get("code", -1)
            if api_code != 0:
                error_msg = result.get("message") or result.get("msg") or "未知错误"
                return {
                    "success": False,
                    "message": "获取用户关系统计失败",
                    "error": f"API错误: {error_msg}",
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": result
                }

            # 验证数据格式
            if "data" not in result or not isinstance(result["data"], dict):
                return {
                    "success": False,
                    "message": "获取用户关系统计失败",
                    "error": "API返回数据格式无效",
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": result
                }

            data = result["data"]

            # 提取关键信息
            response_data = {
                "mid": data.get("mid"),  # 用户MID
                "following": data.get("following", 0),  # 关注数
                "follower": data.get("follower", 0),  # 粉丝数
                "black": data.get("black", 0),  # 黑名单数
                "whisper": data.get("whisper", 0),  # 悄悄关注数
                "raw_data": data  # 原始数据
            }

            return {
                "success": True,
                "message": "获取用户关系统计成功",
                "data": response_data,
                "status_code": response.status_code,
                "api_code": api_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取用户关系统计失败",
                "error": "请求超时",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取用户关系统计失败",
                "error": "网络连接错误",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取用户关系统计失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "api_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取用户关系统计过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None
            }


class BilibiliSpecialApiManager:
    """
    B站需要登陆的API管理器，用于获取直播间相关状态信息。

    特性：
    - 自动从Cookie中解析必要认证信息
    - 支持SSL验证配置
    - 提供直播间状态信息获取功能
    - 统一的错误处理和响应格式
    """

    def __init__(self, headers: Dict[str, str], verify_ssl: bool = True):
        """
        初始化管理器

        Args:
            headers: 包含Cookie等认证信息的请求头字典
            verify_ssl: 是否验证SSL证书（默认True，生产环境建议开启）
        """
        self.headers = headers.copy()  # 避免修改原始headers
        self.verify_ssl = verify_ssl
        self.initialization_result = self._initialize_manager()

    def _initialize_manager(self) -> Dict[str, Any]:
        """
        初始化管理器的内部实现

        Returns:
            包含初始化结果的字典
        """
        try:
            # 解析Cookie
            if "cookie" not in self.headers:
                return {
                    "success": False,
                    "message": "初始化失败",
                    "error": "请求头中缺少cookie字段"
                }

            self.cookie = self.headers["cookie"]
            self.cookies = Tools.parse_cookie(self.cookie)

            # 提取必要字段
            required_fields = ["DedeUserID"]
            missing_fields = [field for field in required_fields if field not in self.cookies]
            if missing_fields:
                return {
                    "success": False,
                    "message": "初始化失败",
                    "error": f"Cookie中缺少必要字段: {', '.join(missing_fields)}"
                }

            self.user_id = self.cookies["DedeUserID"]

            return {
                "success": True,
                "message": "直播间信息管理器初始化成功",
                "data": {
                    "user_id": self.user_id
                }
            }

        except Exception as e:
            return {
                "success": False,
                "message": "初始化过程中发生异常",
                "error": str(e)
            }

    def get_live_stream_info(self, room_id: int) -> Dict[str, Any]:
        """
        获取直播间推流信息

        Args:
            room_id: 直播间房间ID,必须和 cookie 对应

        Returns:
            包含推流信息的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（包含推流地址等信息）
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
        """
        try:
            # 检查管理器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "获取推流信息失败",
                    "error": "管理器未正确初始化",
                    "status_code": None
                }

            # 检查房间ID是否有效
            if not room_id or room_id <= 0:
                return {
                    "success": False,
                    "message": "获取推流信息失败",
                    "error": "房间ID无效",
                    "status_code": None
                }

            # 构建API请求
            api_url = "https://api.live.bilibili.com/live_stream/v1/StreamList/get_stream_by_roomId"
            params = {"room_id": room_id}

            # 发送请求
            response = requests.get(
                url=api_url,
                headers=self.headers,
                params=params,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取推流信息失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            if result.get("code") != 0:
                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": result.get("code")
                }

            # 检查数据是否存在
            if "data" not in result:
                return {
                    "success": False,
                    "message": "API响应格式异常",
                    "error": "响应中缺少必要的数据字段",
                    "status_code": response.status_code,
                    "response_data": result
                }

            # 成功返回
            return {
                "success": True,
                "message": "推流信息获取成功",
                "data": result["data"],
                "status_code": response.status_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取推流信息失败",
                "error": "请求超时",
                "status_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取推流信息失败",
                "error": "网络连接错误",
                "status_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取推流信息失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取推流信息过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }

    def get_nav_info(self) -> Dict[str, Any]:
        """
        获取导航栏用户信息（需要登录）

        Returns:
            包含用户信息的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（包含用户信息）
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
        """
        try:
            # 检查管理器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "获取用户信息失败",
                    "error": "管理器未正确初始化",
                    "status_code": None
                }

            # 构建API请求
            api_url = "https://api.bilibili.com/x/web-interface/nav"

            # 发送请求
            response = requests.get(
                url=api_url,
                headers=self.headers,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取用户信息失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            if result.get("code") != 0:
                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": result.get("code")
                }

            # 检查用户是否已登录
            if not result.get("data", {}).get("isLogin", False):
                return {
                    "success": False,
                    "message": "获取用户信息失败",
                    "error": "用户未登录",
                    "status_code": response.status_code,
                    "response_data": result
                }

            # 成功返回
            return {
                "success": True,
                "message": "用户信息获取成功",
                "data": result.get("data", {}),
                "status_code": response.status_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取用户信息失败",
                "error": "请求超时",
                "status_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取用户信息失败",
                "error": "网络连接错误",
                "status_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取用户信息失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取用户信息过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }

    def get_reserve_list(self) -> Dict[str, Any]:
        """
        获取用户直播预约列表

        Returns:
            包含预约列表结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（包含预约列表）
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
        """
        try:
            # 检查管理器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "获取预约列表失败",
                    "error": "管理器未正确初始化",
                    "status_code": None
                }

            # 构建API请求
            api_url = "https://api.live.bilibili.com/xlive/app-ucenter/v2/schedule/GetReserveList"

            # 发送请求
            response = requests.get(
                url=api_url,
                headers=self.headers,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取预约列表失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            if result.get("code") != 0:
                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": result.get("code")
                }

            # 成功返回 - 处理list为None的情况
            list_data = result.get("data", {}).get("list")
            if list_data is None:
                # 当list为None时，转换为空列表
                list_data = []

            return {
                "success": True,
                "message": "预约列表获取成功",
                "data": {
                    "list": list_data,
                    "full_response": result  # 包含完整的API响应
                },
                "status_code": response.status_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取预约列表失败",
                "error": "请求超时",
                "status_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取预约列表失败",
                "error": "网络连接错误",
                "status_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取预约列表失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取预约列表过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }

    def get_room_highlight_info(self) -> Dict[str, Any]:
        """
        获取直播间高亮状态信息，包括房间ID

        Returns:
            包含房间信息的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（包含room_id等）
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
        """
        try:
            # 检查管理器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "获取房间信息失败",
                    "error": "管理器未正确初始化",
                    "status_code": None
                }

            # 构建API请求
            api_url = "https://api.live.bilibili.com/xlive/app-blink/v1/highlight/getRoomHighlightState"

            # 发送请求
            response = requests.get(
                url=api_url,
                headers=self.headers,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取房间信息失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            if result.get("code") != 0:
                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": result.get("code")
                }

            # 检查数据是否存在
            if "data" not in result or "room_id" not in result["data"]:
                return {
                    "success": False,
                    "message": "API响应格式异常",
                    "error": "响应中缺少必要的房间信息字段",
                    "status_code": response.status_code,
                    "response_data": result
                }

            # 成功返回
            return {
                "success": True,
                "message": "房间信息获取成功",
                "data": {
                    "room_id": result["data"]["room_id"],
                    "highlight_info": result["data"]  # 包含所有高亮状态信息
                },
                "status_code": response.status_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取房间信息失败",
                "error": "请求超时",
                "status_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取房间信息失败",
                "error": "网络连接错误",
                "status_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取房间信息失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取房间信息过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }

    def get_room_news(self, uid: int, room_id: int) -> Dict[str, Any]:
        """
        获取直播间公告信息

        Args:
            uid: 用户id
            room_id: 直播间ID

        Returns:
            包含公告信息的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（包含公告内容等）
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
        """
        try:
            # 检查管理器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "获取直播间公告失败",
                    "error": "管理器未正确初始化",
                    "status_code": None
                }

            # 检查房间ID是否有效
            if not room_id or room_id <= 0:
                return {
                    "success": False,
                    "message": "获取直播间公告失败",
                    "error": "房间ID无效",
                    "status_code": None
                }

            # 构建API请求
            api_url = "https://api.live.bilibili.com/xlive/app-blink/v1/index/getRoomNews"
            params = {
                'room_id': room_id,
                'uid': uid
            }

            # 发送请求
            response = requests.get(
                url=api_url,
                headers=self.headers,
                params=params,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取直播间公告失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            if result.get("code") != 0:
                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": result.get("code")
                }

            # 检查数据是否存在
            if "data" not in result:
                return {
                    "success": False,
                    "message": "API响应格式异常",
                    "error": "响应中缺少必要的数据字段",
                    "status_code": response.status_code,
                    "response_data": result
                }

            # 成功返回
            return {
                "success": True,
                "message": "直播间公告获取成功",
                "data": result["data"],
                "status_code": response.status_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取直播间公告失败",
                "error": "请求超时",
                "status_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取直播间公告失败",
                "error": "网络连接错误",
                "status_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取直播间公告失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取直播间公告过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }

    def get_medal_wall(self, target_id: int) -> Dict[str, Any]:
        """
        获取指定用户的所有粉丝勋章信息（最多200个）

        Args:
            target_id: 目标用户ID

        Returns:
            包含粉丝勋章信息的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（包含勋章列表等）
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
        """
        try:
            # 检查管理器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "获取粉丝勋章墙失败",
                    "error": "管理器未正确初始化",
                    "status_code": None
                }

            # 检查目标ID是否有效
            if not target_id or target_id <= 0:
                return {
                    "success": False,
                    "message": "获取粉丝勋章墙失败",
                    "error": "目标用户ID无效",
                    "status_code": None
                }

            # 构建API请求
            api_url = "https://api.live.bilibili.com/xlive/web-ucenter/user/MedalWall"
            params = {
                'target_id': target_id
            }

            # 发送请求
            response = requests.get(
                url=api_url,
                headers=self.headers,
                params=params,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取粉丝勋章墙失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            if result.get("code") != 0:
                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": result.get("code")
                }

            # 检查数据是否存在
            if "data" not in result:
                return {
                    "success": False,
                    "message": "API响应格式异常",
                    "error": "响应中缺少必要的数据字段",
                    "status_code": response.status_code,
                    "response_data": result
                }

            # 成功返回
            return {
                "success": True,
                "message": "粉丝勋章墙获取成功",
                "data": result["data"],
                "status_code": response.status_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取粉丝勋章墙失败",
                "error": "请求超时",
                "status_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取粉丝勋章墙失败",
                "error": "网络连接错误",
                "status_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取粉丝勋章墙失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取粉丝勋章墙过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }

    def get_user_medal_info(self, uid: int, up_uid: int) -> Dict[str, Any]:
        """
        获取用户与特定主播的粉丝勋章详细信息

        Args:
            uid: 用户ID
            up_uid: 主播用户ID

        Returns:
            包含粉丝勋章详细信息的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（包含勋章详情等）
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
        """
        try:
            # 检查管理器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "获取粉丝勋章信息失败",
                    "error": "管理器未正确初始化",
                    "status_code": None
                }

            # 检查参数是否有效
            if not uid or uid <= 0:
                return {
                    "success": False,
                    "message": "获取粉丝勋章信息失败",
                    "error": "用户ID无效",
                    "status_code": None
                }

            if not up_uid or up_uid <= 0:
                return {
                    "success": False,
                    "message": "获取粉丝勋章信息失败",
                    "error": "主播用户ID无效",
                    "status_code": None
                }

            # 构建API请求
            api_url = "https://api.live.bilibili.com/xlive/app-ucenter/v1/fansMedal/user_medal_info"
            params = {
                'uid': uid,
                'up_uid': up_uid
            }

            # 发送请求
            response = requests.get(
                url=api_url,
                headers=self.headers,
                params=params,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取粉丝勋章信息失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            if result.get("code") != 0:
                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": result.get("code")
                }

            # 检查数据是否存在
            if "data" not in result:
                return {
                    "success": False,
                    "message": "API响应格式异常",
                    "error": "响应中缺少必要的数据字段",
                    "status_code": response.status_code,
                    "response_data": result
                }

            # 成功返回
            return {
                "success": True,
                "message": "粉丝勋章信息获取成功",
                "data": result["data"],
                "status_code": response.status_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取粉丝勋章信息失败",
                "error": "请求超时",
                "status_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取粉丝勋章信息失败",
                "error": "网络连接错误",
                "status_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取粉丝勋章信息失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取粉丝勋章信息过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }

    def get_medal_panel(self, page: int = 1, page_size: int = 10, room_id: Optional[int] = None,
                        target_id: Optional[int] = None, get_all_pages: bool = False) -> Dict[str, Any]:
        """
        获取用户粉丝勋章面板信息

        Args:
            page: 页码（默认1）
            page_size: 每页数量（默认10）
            room_id: 房间ID
            target_id: 房间主播UID
            get_all_pages: 是否获取全部页数据（默认False）

        Returns:
            包含粉丝勋章面板信息的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（包含勋章列表等）
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
        """
        try:
            # 检查管理器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "获取粉丝勋章面板失败",
                    "error": "管理器未正确初始化",
                    "status_code": None
                }

            # 设置默认目标ID
            if target_id is None:
                target_id = int(self.user_id)

            # 检查参数有效性
            if page <= 0:
                return {
                    "success": False,
                    "message": "获取粉丝勋章面板失败",
                    "error": "页码必须大于0",
                    "status_code": None
                }

            if page_size <= 0 or page_size > 50:
                return {
                    "success": False,
                    "message": "获取粉丝勋章面板失败",
                    "error": "每页数量必须在1-50之间",
                    "status_code": None
                }

            # 构建API请求
            api_url = "https://api.live.bilibili.com/xlive/app-ucenter/v1/fansMedal/panel"
            params = {
                'page': page,
                'page_size': page_size
            }

            # 添加可选参数
            if room_id:
                params['room_id'] = room_id
            if target_id:
                params['target_id'] = target_id

            # 发送请求
            response = requests.get(
                url=api_url,
                headers=self.headers,
                params=params,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取粉丝勋章面板失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            if result.get("code") != 0:
                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": result.get("code")
                }

            # 检查数据是否存在
            if "data" not in result:
                return {
                    "success": False,
                    "message": "API响应格式异常",
                    "error": "响应中缺少必要的数据字段",
                    "status_code": response.status_code,
                    "response_data": result
                }

            data = result["data"]

            # 如果需要获取全部页数据
            if get_all_pages:
                all_pages_data = self._get_all_pages_medal_data(
                    initial_data=data,
                    room_id=room_id,
                    target_id=target_id,
                    page_size=page_size
                )

                if not all_pages_data["success"]:
                    return all_pages_data

                data = all_pages_data["data"]

            # 成功返回
            return {
                "success": True,
                "message": "粉丝勋章面板获取成功",
                "data": data,
                "status_code": response.status_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取粉丝勋章面板失败",
                "error": "请求超时",
                "status_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取粉丝勋章面板失败",
                "error": "网络连接错误",
                "status_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取粉丝勋章面板失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取粉丝勋章面板过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }

    def _get_all_pages_medal_data(self, initial_data: Dict[str, Any], room_id: Optional[int] = None,
                                  target_id: Optional[int] = None, page_size: int = 10) -> Dict[str, Any]:
        """
        获取所有页的勋章数据

        Args:
            initial_data: 第一页的数据
            room_id: 房间ID
            target_id: 目标用户ID
            page_size: 每页数量

        Returns:
            包含所有页数据的字典
        """
        try:
            page_info = initial_data.get("page_info", {})
            total_pages = page_info.get("total_page", 1)
            current_page = page_info.get("current_page", 1)

            # 如果只有一页，直接返回
            if total_pages <= 1:
                return {
                    "success": True,
                    "message": "已获取所有页数据",
                    "data": initial_data
                }


            all_list_data = initial_data.get("list", [])
            all_special_list_data = initial_data.get("special_list", [])

            # 从第二页开始获取
            for page in range(2, total_pages + 1):

                # 构建API请求
                api_url = "https://api.live.bilibili.com/xlive/app-ucenter/v1/fansMedal/panel"
                params = {
                    'page': page,
                    'page_size': page_size
                }

                # 添加可选参数
                if room_id:
                    params['room_id'] = room_id
                if target_id:
                    params['target_id'] = target_id

                # 发送请求
                response = requests.get(
                    url=api_url,
                    headers=self.headers,
                    params=params,
                    verify=self.verify_ssl,
                    timeout=30
                )

                # 检查HTTP状态码
                if response.status_code != 200:
                    return {
                        "success": False,
                        "message": f"获取第 {page} 页数据失败",
                        "error": f"HTTP错误: {response.status_code}",
                        "status_code": response.status_code
                    }

                # 解析响应
                result = response.json()

                # 检查B站API返回状态
                if result.get("code") != 0:
                    return {
                        "success": False,
                        "message": f"获取第 {page} 页数据失败",
                        "error": result.get("message", "未知错误"),
                        "status_code": response.status_code,
                        "api_code": result.get("code")
                    }

                page_data = result.get("data", {})

                # 合并数据
                all_list_data.extend(page_data.get("list", []))
                # 特殊列表通常只有第一页有，但为了完整性也合并
                if page == 2:  # 只在第二页合并特殊列表，避免重复
                    all_special_list_data.extend(page_data.get("special_list", []))

                # 添加小延迟，避免请求过快
                import time
                time.sleep(0.5)

            # 更新数据
            initial_data["list"] = all_list_data
            if all_special_list_data:
                initial_data["special_list"] = all_special_list_data

            # 更新分页信息
            initial_data["page_info"] = {
                "number": len(all_list_data),
                "current_page": 1,
                "has_more": False,
                "next_page": None,
                "next_light_status": page_info.get("next_light_status", 0),
                "total_page": 1,
                "is_all_pages": True,  # 标记为已获取所有页
                "original_total_pages": total_pages
            }

            return {
                "success": True,
                "message": f"成功获取所有 {total_pages} 页数据",
                "data": initial_data
            }

        except Exception as e:
            return {
                "success": False,
                "message": "获取所有页数据过程中发生错误",
                "error": str(e)
            }

    def get_room_emoticons(self, room_id: int, platform: str = "pc") -> Dict[str, Any]:
        """
        获取直播间表情包信息

        Args:
            room_id: 直播间ID（长号）
            platform: 平台类型，可选值：pc, android, ios（默认：pc）

        Returns:
            包含表情包信息的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（包含表情包列表等）
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
        """
        try:
            # 检查管理器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "获取直播间表情包失败",
                    "error": "管理器未正确初始化",
                    "status_code": None
                }

            # 检查房间ID是否有效
            if not room_id or room_id <= 0:
                return {
                    "success": False,
                    "message": "获取直播间表情包失败",
                    "error": "房间ID无效",
                    "status_code": None
                }

            # 验证平台参数
            valid_platforms = ["pc", "android", "ios"]
            if platform not in valid_platforms:
                return {
                    "success": False,
                    "message": "获取直播间表情包失败",
                    "error": f"平台参数无效，必须是: {', '.join(valid_platforms)}",
                    "status_code": None
                }

            # 构建API请求
            api_url = "https://api.live.bilibili.com/xlive/web-ucenter/v2/emoticon/GetEmoticons"
            params = {
                'room_id': room_id,
                'platform': platform
            }

            # 发送请求
            response = requests.get(
                url=api_url,
                headers=self.headers,
                params=params,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取直播间表情包失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            if result.get("code") != 0:
                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": result.get("code")
                }

            # 检查数据是否存在
            if "data" not in result:
                return {
                    "success": False,
                    "message": "API响应格式异常",
                    "error": "响应中缺少必要的数据字段",
                    "status_code": response.status_code,
                    "response_data": result
                }

            # 处理表情包数据，确保list字段不为None
            emoticon_data = result.get("data", {})
            if "data" in emoticon_data and emoticon_data["data"] is None:
                emoticon_data["data"] = []

            # 成功返回
            return {
                "success": True,
                "message": "直播间表情包获取成功",
                "data": emoticon_data,
                "status_code": response.status_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取直播间表情包失败",
                "error": "请求超时",
                "status_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取直播间表情包失败",
                "error": "网络连接错误",
                "status_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取直播间表情包失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取直播间表情包过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }


class BilibiliCSRFAuthenticator:
    """
    B站CSRF认证管理器，用于处理需要CSRF令牌的API请求。

    该类专门用于B站直播相关的CSRF认证操作，特别是直播公告的更新。
    自动从Cookie中提取必要的认证信息，并提供简化的API调用接口。

    特性：
    - 自动从Cookie中解析CSRF令牌（bili_jct）
    - 自动提取用户ID（DedeUserID）
    - 支持SSL验证配置
    - 提供直播公告更新功能
    - 统一的错误处理和响应格式
    """

    def __init__(self, headers: Dict[str, str], verify_ssl: bool = True):
        """
        初始化CSRF认证管理器

        Args:
            headers: 包含Cookie等认证信息的请求头字典
            verify_ssl: 是否验证SSL证书（默认True，生产环境建议开启）

        Returns:
            包含操作结果的字典，包含以下键：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（如认证器实例）
            - error: 失败时的错误信息
        """
        self.headers = headers.copy()  # 避免修改原始headers
        self.verify_ssl = verify_ssl
        self.initialization_result = self._initialize_authenticator()

    def _initialize_authenticator(self) -> Dict[str, Any]:
        """
        初始化认证器的内部实现

        Returns:
            包含初始化结果的字典
        """
        try:
            # 解析Cookie
            if "cookie" not in self.headers:
                return {
                    "success": False,
                    "message": "初始化失败",
                    "error": "请求头中缺少cookie字段"
                }

            self.cookie = self.headers["cookie"]
            self.cookies = Tools.parse_cookie(self.cookie)

            # 提取必要字段
            required_fields = ["bili_jct", "DedeUserID"]
            missing_fields = [field for field in required_fields if field not in self.cookies]
            if missing_fields:
                return {
                    "success": False,
                    "message": "初始化失败",
                    "error": f"Cookie中缺少必要字段: {', '.join(missing_fields)}"
                }

            self.user_id = self.cookies["DedeUserID"]
            self.csrf = self.cookies["bili_jct"]

            return {
                "success": True,
                "message": "认证器初始化成功",
                "data": {
                    "user_id": self.user_id,
                    "csrf_token": self.csrf
                }
            }

        except Exception as e:
            return {
                "success": False,
                "message": "初始化过程中发生异常",
                "error": str(e)
            }

    def validate_csrf_token(self) -> Dict[str, Any]:
        """
        验证CSRF令牌是否有效

        Returns:
            包含验证结果的字典：
            - success: 验证是否成功
            - valid: CSRF令牌是否有效
            - message: 结果描述信息
        """
        if not self.initialization_result["success"]:
            return {
                "success": False,
                "valid": False,
                "message": "认证器未正确初始化"
            }

        is_valid = bool(self.csrf and len(self.csrf) == 32)

        return {
            "success": True,
            "valid": is_valid,
            "message": "CSRF令牌有效" if is_valid else "CSRF令牌无效"
        }

    def get_user_info(self) -> Dict[str, Any]:
        """
        获取用户基本信息

        Returns:
            包含用户信息的字典：
            - success: 操作是否成功
            - data: 用户信息字典（包含user_id, csrf_token, has_valid_csrf）
            - message: 结果描述信息
        """
        if not self.initialization_result["success"]:
            return {
                "success": False,
                "message": "无法获取用户信息，认证器未正确初始化",
                "error": self.initialization_result.get("error", "未知错误")
            }

        validation_result = self.validate_csrf_token()

        return {
            "success": True,
            "data": {
                "user_id": self.user_id,
                "csrf_token": self.csrf,
                "has_valid_csrf": validation_result["valid"]
            },
            "message": "用户信息获取成功"
        }

    def cancel_reserve(self, sid: int, from_value: int = 13) -> Dict[str, Any]:
        """
        取消直播预约

        Args:
            sid: 预约活动ID
            from_value: 来源标识（默认13）

        Returns:
            包含操作结果的字典：
            - success: 操作是否成功（基于API返回的code）
            - message: 结果描述信息
            - data: API返回的完整数据
            - error: 失败时的错误信息
            - status_code: HTTP状态码
            - api_code: API返回的code
        """
        # 检查认证器是否正常初始化
        if not self.initialization_result["success"]:
            return {
                "success": False,
                "message": "取消预约失败",
                "error": "认证器未正确初始化",
                "status_code": None,
                "api_code": None,
                "data": None
            }

        # 检查CSRF token
        if not self.csrf:
            return {
                "success": False,
                "message": "取消预约失败",
                "error": "缺少bili_jct值，无法进行身份验证",
                "status_code": None,
                "api_code": None,
                "data": None
            }

        # 检查sid参数
        if not sid or sid <= 0:
            return {
                "success": False,
                "message": "取消预约失败",
                "error": "无效的预约活动ID",
                "status_code": None,
                "api_code": None,
                "data": None
            }

        try:
            # 生成随机visit_id (12位字母数字)
            visit_id = ''.join(random.choices(string.ascii_lowercase + string.digits, k=12))

            # 构造请求参数
            payload = {
                "sid": sid,
                "from": from_value,
                "csrf_token": self.csrf,
                "csrf": self.csrf,
                "visit_id": visit_id
            }

            # 发送POST请求
            response = requests.post(
                url="https://api.live.bilibili.com/xlive/app-ucenter/v2/schedule/CancelReserve",
                headers=self.headers,
                data=payload,
                timeout=10,
                verify=self.verify_ssl
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "取消预约失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 解析JSON响应
            result = response.json()

            # 根据API返回的code判断操作是否成功
            api_code = result.get("code", -1)
            is_success = (api_code == 0)

            return {
                "success": is_success,
                "message": result.get("message", "操作完成"),
                "data": result,
                "error": None if is_success else result.get("message", "未知错误"),
                "status_code": response.status_code,
                "api_code": api_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "取消预约失败",
                "error": "请求超时",
                "status_code": None,
                "api_code": None,
                "data": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "取消预约失败",
                "error": "网络连接错误",
                "status_code": None,
                "api_code": None,
                "data": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "取消预约失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "api_code": None,
                "data": None
            }
        except json.JSONDecodeError as e:
            return {
                "success": False,
                "message": "取消预约失败",
                "error": f"解析响应失败: {str(e)}",
                "status_code": None,
                "api_code": None,
                "data": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "取消预约过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None,
                "data": None
            }

    def change_room_area(self, room_id: int, area_id: int) -> Dict[str, Any]:
        """
        更改直播分区

        Args:
            room_id: 直播间ID
            area_id: 二级分区ID

        Returns:
            包含操作结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（如sub_session_key）
            - error: 失败时的错误信息
            - status_code: HTTP状态码
            - api_code: B站API返回的code
        """
        try:
            # 检查认证器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "更改分区失败",
                    "error": "认证器未正确初始化",
                    "status_code": None,
                    "api_code": None
                }

            # 构建API请求
            api = "https://api.live.bilibili.com/xlive/app-blink/v2/room/AnchorChangeRoomArea"
            headers = self.headers.copy()
            csrf = self.csrf

            params = {
                "platform": "pc",
                "room_id": room_id,
                "area_id": area_id,
                "csrf": csrf,
                "csrf_token": csrf,
            }

            # 发送请求
            response = requests.post(
                url=api,
                headers=headers,
                params=params,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "更改分区失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()
            api_code = result.get("code", -1)

            # 根据API返回的code判断操作结果
            if api_code == 0:
                return {
                    "success": True,
                    "message": "分区更改成功",
                    "data": result.get("data", {}),
                    "status_code": response.status_code,
                    "api_code": api_code
                }
            else:
                error_message = result.get("message", "未知错误")
                return {
                    "success": False,
                    "message": f"分区更改失败: {error_message}",
                    "error": error_message,
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": result
                }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "更改分区失败",
                "error": "请求超时",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "更改分区失败",
                "error": "网络连接错误",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "更改分区失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "api_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "更改分区过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None
            }

    def change_room_news(self, room_id: int, content: str) -> Dict[str, Any]:
        """
        更新直播公告

        Args:
            room_id: 直播间ID
            content: 公告内容

        Returns:
            包含操作结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（API返回的data字段）
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
        """
        try:
            # 检查认证器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "更新直播公告失败",
                    "error": "认证器未正确初始化",
                    "status_code": None
                }

            # 验证输入参数
            if not room_id or room_id <= 0:
                return {
                    "success": False,
                    "message": "更新直播公告失败",
                    "error": "直播间ID无效",
                    "status_code": None
                }

            if not content or len(content.strip()) == 0:
                return {
                    "success": False,
                    "message": "更新直播公告失败",
                    "error": "公告内容不能为空",
                    "status_code": None
                }

            headers = self.headers.copy()
            csrf = self.csrf

            api = "https://api.live.bilibili.com/xlive/app-blink/v1/index/updateRoomNews"
            updateRoomNews_data = {
                'room_id': room_id,
                'uid': self.cookies["DedeUserID"],
                'content': content,
                'csrf_token': csrf,
                'csrf': csrf
            }

            # 发送请求
            response = requests.post(
                verify=self.verify_ssl,
                url=api,
                headers=headers,
                data=updateRoomNews_data,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "更新直播公告失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            if result.get("code") != 0:
                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": result.get("code")
                }

            # 成功返回
            return {
                "success": True,
                "message": "直播公告更新成功",
                "data": result.get("data", {}),
                "status_code": response.status_code,
                "api_response": result  # 包含完整的API响应
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "更新直播公告失败",
                "error": "请求超时",
                "status_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "更新直播公告失败",
                "error": "网络连接错误",
                "status_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "更新直播公告失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "更新直播公告过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }

    def change_room_title(self, room_id: int, title: str) -> Dict[str, Any]:
        """
        更新直播标题

        Args:
            room_id: 直播间ID
            title: 新的直播标题

        Returns:
            包含操作结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据
            - error: 失败时的错误信息
            - status_code: HTTP状态码
            - api_code: B站API返回的状态码
        """
        try:
            # 检查认证器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "更改标题失败",
                    "error": "认证器未正确初始化",
                    "status_code": None,
                    "api_code": None
                }

            # 验证输入参数
            if not room_id or room_id <= 0:
                return {
                    "success": False,
                    "message": "更改标题失败",
                    "error": "房间ID无效",
                    "status_code": None,
                    "api_code": None
                }

            if not title or len(title.strip()) == 0:
                return {
                    "success": False,
                    "message": "更改标题失败",
                    "error": "标题不能为空",
                    "status_code": None,
                    "api_code": None
                }

            # 准备请求参数
            headers = self.headers.copy()
            csrf = self.csrf
            api_url = "https://api.live.bilibili.com/room/v1/Room/update"
            data = {
                'room_id': room_id,
                'title': title,
                'csrf_token': csrf,
                'csrf': csrf
            }

            # 发送请求
            response = requests.post(
                url=api_url,
                headers=headers,
                data=data,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "更改标题失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 根据B站API返回的状态码判断成功与否
            api_code = result.get("code", -1)
            if api_code == 0:
                return {
                    "success": True,
                    "message": "标题更改成功",
                    "data": result.get("data", {}),
                    "status_code": response.status_code,
                    "api_code": api_code
                }
            else:
                # 提取错误信息
                error_msg = result.get("msg") or result.get("message", "未知错误")
                return {
                    "success": False,
                    "message": "标题更改失败",
                    "error": error_msg,
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": result
                }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "更改标题失败",
                "error": "请求超时",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "更改标题失败",
                "error": "网络连接错误",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "更改标题失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "api_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "更改标题过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None
            }

    def create_live_room(self) -> Dict[str, Any]:
        """
        开通直播间（创建直播间房间）

        Returns:
            包含开通结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（包含room_id等）
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
            - api_code: B站API返回的错误码（如果有）
        """
        try:
            # 检查认证器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "开通直播间失败",
                    "error": "认证器未正确初始化",
                    "status_code": None,
                    "api_code": None
                }

            # 检查必要的CSRF token
            if not self.csrf:
                return {
                    "success": False,
                    "message": "开通直播间失败",
                    "error": "缺少bili_jct值，无法进行CSRF验证",
                    "status_code": None,
                    "api_code": None
                }

            api_url = "https://api.live.bilibili.com/xlive/app-blink/v1/preLive/CreateRoom"

            # 准备请求数据
            data = {
                "platform": "web",
                "visit_id": "",
                "csrf": self.csrf,
                "csrf_token": self.csrf,
            }

            # 发送POST请求
            response = requests.post(
                url=api_url,
                data=data,
                headers=self.headers,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "开通直播间失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 解析JSON响应
            result = response.json()

            # 处理已知的成功和失败情况
            api_code = result.get("code", 0)

            # 成功情况
            if api_code == 0:
                return {
                    "success": True,
                    "message": "直播间开通成功",
                    "data": result.get("data", {}),
                    "status_code": response.status_code,
                    "api_code": api_code
                }

            # 已知的失败情况
            elif api_code == 1531193016:  # 已经创建过直播间
                return {
                    "success": True,  # 虽然API返回错误码，但从业务角度看是成功的（已存在）
                    "message": "直播间已存在",
                    "data": result.get("data", {}),
                    "status_code": response.status_code,
                    "api_code": api_code
                }

            # 其他失败情况
            else:
                return {
                    "success": False,
                    "message": "开通直播间失败",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": result
                }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "开通直播间失败",
                "error": "请求超时",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "开通直播间失败",
                "error": "网络连接错误",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "开通直播间失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "api_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "开通直播间过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None
            }

    def create_reserve(self, title: str, live_plan_start_time: int, create_dynamic: bool = False,
                       business_type: int = 10) -> Dict[str, Any]:
        """
        创建直播预约

        Args:
            title: 预约标题
            live_plan_start_time: 直播计划开始时间(Unix时间戳)
            create_dynamic: 是否同步发布动态(默认False)
            business_type: 业务类型(默认10)

        Returns:
            包含预约结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（包含sid等）
            - error: 失败时的错误信息
            - status_code: HTTP状态码
            - api_code: B站API返回的code
        """
        try:
            # 检查认证器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "创建预约失败",
                    "error": "认证器未正确初始化",
                    "status_code": None,
                    "api_code": None
                }

            # 验证必要参数
            if not self.csrf:
                return {
                    "success": False,
                    "message": "创建预约失败",
                    "error": "缺少bili_jct参数，无法获取csrf token",
                    "status_code": None,
                    "api_code": None
                }

            if not title or not live_plan_start_time:
                return {
                    "success": False,
                    "message": "创建预约失败",
                    "error": "标题和开始时间为必填参数",
                    "status_code": None,
                    "api_code": None
                }

            # 生成随机visit_id (16位字母数字组合)
            visit_id = ''.join(random.choices(string.ascii_lowercase + string.digits, k=16))

            # 构建请求负载
            payload = {
                "title": title,
                "type": "2",  # 固定值
                "from": "23",  # 固定值
                "create_dynamic": "1" if create_dynamic else "0",
                "live_plan_start_time": str(live_plan_start_time),
                "business_type": str(business_type),
                "csrf_token": self.csrf,
                "csrf": self.csrf,
                "visit_id": visit_id
            }

            api_url = "https://api.live.bilibili.com/xlive/app-ucenter/v2/schedule/CreateReserve"

            response = requests.post(
                verify=self.verify_ssl,
                url=api_url,
                headers=self.headers,
                data=payload,
                timeout=10
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "创建预约失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 根据B站API返回的code判断是否成功
            api_code = result.get("code", -1)
            if api_code == 0:
                # 成功创建预约
                return {
                    "success": True,
                    "message": "预约创建成功",
                    "data": {
                        "sid": result.get("data", {}).get("sid"),
                        "api_response": result
                    },
                    "status_code": response.status_code,
                    "api_code": api_code
                }
            else:
                # 预约创建失败
                error_message = result.get("message", "未知错误")
                common_errors = {
                    75876: "已超出预约发起上限",
                    75882: "发起直播预约开播时间不可早于当前时间后5分钟",
                    10016: "创建预约失败"
                }

                # 使用预定义的错误消息或API返回的消息
                if api_code in common_errors:
                    error_message = common_errors[api_code]

                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": error_message,
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "api_response": result
                }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "创建预约失败",
                "error": "请求超时",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "创建预约失败",
                "error": "网络连接错误",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "创建预约失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "api_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "创建预约过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None
            }

    def get_dynamic(self, host_mid: int, all: bool = False) -> Dict[str, Any]:
        """
        获取用户动态列表

        Args:
            host_mid: 用户ID
            all: 是否获取全部动态（分页获取）

        Returns:
            包含动态列表的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的动态数据
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
        """
        try:
            # 检查管理器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "获取动态列表失败",
                    "error": "认证器未正确初始化",
                    "status_code": None
                }

            # 检查用户ID是否有效
            if not host_mid or host_mid <= 0:
                return {
                    "success": False,
                    "message": "获取动态列表失败",
                    "error": "用户ID无效",
                    "status_code": None
                }

            # 构建API请求
            api_url = "https://api.bilibili.com/x/polymer/web-dynamic/v1/feed/space"
            params = {
                "offset": "",
                "host_mid": host_mid
            }

            # 发送请求
            response = requests.get(
                url=api_url,
                headers=self.headers,
                params=params,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取动态列表失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            if result.get("code") != 0:
                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": result.get("code")
                }

            # 检查数据是否存在
            if "data" not in result or "items" not in result["data"]:
                return {
                    "success": False,
                    "message": "API响应格式异常",
                    "error": "响应中缺少必要的数据字段",
                    "status_code": response.status_code,
                    "response_data": result
                }

            # 获取动态数据
            dynamics = result["data"]["items"]

            # 如果需要获取全部动态，则继续分页请求
            if all and result["data"].get("has_more", False):
                while result["data"].get("has_more", False):
                    params["offset"] = result["data"].get("offset", "")

                    # 发送分页请求
                    response = requests.get(
                        url=api_url,
                        headers=self.headers,
                        params=params,
                        verify=self.verify_ssl,
                        timeout=30
                    )

                    # 检查HTTP状态码
                    if response.status_code != 200:
                        break

                    # 解析响应
                    result = response.json()

                    # 检查B站API返回状态
                    if result.get("code") != 0:
                        break

                    # 检查数据是否存在
                    if "data" not in result or "items" not in result["data"]:
                        break

                    # 添加新获取的动态
                    for item in result["data"]["items"]:
                        if item not in dynamics:
                            dynamics.append(item)

            # 成功返回
            return {
                "success": True,
                "message": "动态列表获取成功",
                "data": dynamics,
                "status_code": response.status_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取动态列表失败",
                "error": "请求超时",
                "status_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取动态列表失败",
                "error": "网络连接错误",
                "status_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取动态列表失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取动态列表过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }

    def get_emoticons(self, room_id: int) -> Dict[str, Any]:
        """
        获取直播间表情列表

        Args:
            room_id: 直播间ID

        Returns:
            包含表情列表的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（表情列表）
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
        """
        try:
            # 检查认证器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "获取表情列表失败",
                    "error": "认证器未正确初始化",
                    "status_code": None
                }

            # 检查房间ID是否有效
            if not room_id or room_id <= 0:
                return {
                    "success": False,
                    "message": "获取表情列表失败",
                    "error": "房间ID无效",
                    "status_code": None
                }

            # 构建API请求
            api_url = "https://api.live.bilibili.com/xlive/web-ucenter/v2/emoticon/GetEmoticons"
            params = {
                "platform": "pc",
                "room_id": room_id
            }

            # 发送请求
            response = requests.get(
                url=api_url,
                headers=self.headers,
                params=params,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取表情列表失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            if result.get("code") != 0:
                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": result.get("code")
                }

            # 检查数据是否存在
            if "data" not in result or "data" not in result["data"]:
                return {
                    "success": False,
                    "message": "API响应格式异常",
                    "error": "响应中缺少必要的数据字段",
                    "status_code": response.status_code,
                    "response_data": result
                }

            # 成功返回
            return {
                "success": True,
                "message": "表情列表获取成功",
                "data": result["data"]["data"],
                "status_code": response.status_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取表情列表失败",
                "error": "请求超时",
                "status_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取表情列表失败",
                "error": "网络连接错误",
                "status_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取表情列表失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取表情列表过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }

    def get_fans_members_rank(self, uid: int) -> Dict[str, Any]:
        """
        获取指定用户的粉丝团成员列表

        Args:
            uid: 要查询的B站用户UID

        Returns:
            包含查询结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的粉丝团成员列表数据
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
            - total_count: 总成员数量（成功时）
        """
        try:
            # 检查认证器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "获取粉丝团成员列表失败",
                    "error": "认证器未正确初始化",
                    "status_code": None
                }

            # 验证UID参数
            if not uid or uid <= 0:
                return {
                    "success": False,
                    "message": "获取粉丝团成员列表失败",
                    "error": "无效的用户UID",
                    "status_code": None
                }

            api_url = "https://api.live.bilibili.com/xlive/general-interface/v1/rank/getFansMembersRank"
            headers = self.headers
            page = 1
            fans_members = []
            has_more_data = True
            max_retries = 3

            while has_more_data:
                params = {
                    "ruid": uid,
                    "page": page,
                    "page_size": 30,
                }

                # 添加重试机制
                for attempt in range(max_retries):
                    try:
                        response = requests.get(
                            api_url,
                            headers=headers,
                            params=params,
                            verify=self.verify_ssl,
                            timeout=30
                        )

                        # 检查HTTP状态码
                        if response.status_code != 200:
                            if attempt < max_retries - 1:
                                time.sleep(2)  # 等待后重试
                                continue
                            else:
                                return {
                                    "success": False,
                                    "message": "获取粉丝团成员列表失败",
                                    "error": f"HTTP错误: {response.status_code}",
                                    "status_code": response.status_code
                                }

                        result = response.json()

                        # 检查API返回状态
                        if result.get("code") != 0:
                            return {
                                "success": False,
                                "message": "B站API返回错误",
                                "error": result.get("message", "未知错误"),
                                "status_code": response.status_code,
                                "api_code": result.get("code")
                            }

                        # 处理数据
                        current_page_items = result["data"].get("item", [])
                        if current_page_items:
                            fans_members.extend(current_page_items)
                            page += 1
                        else:
                            has_more_data = False

                        break  # 成功获取数据，跳出重试循环

                    except requests.exceptions.Timeout:
                        if attempt < max_retries - 1:
                            time.sleep(5)  # 超时后等待5秒重试
                            continue
                        else:
                            return {
                                "success": False,
                                "message": "获取粉丝团成员列表失败",
                                "error": "请求超时",
                                "status_code": None
                            }
                    except requests.exceptions.RequestException as e:
                        if attempt < max_retries - 1:
                            time.sleep(5)  # 网络错误后等待5秒重试
                            continue
                        else:
                            return {
                                "success": False,
                                "message": "获取粉丝团成员列表失败",
                                "error": f"网络请求异常: {str(e)}",
                                "status_code": None
                            }

            # 成功返回
            return {
                "success": True,
                "message": "粉丝团成员列表获取成功",
                "data": fans_members,
                "total_count": len(fans_members),
                "status_code": 200
            }

        except Exception as e:
            return {
                "success": False,
                "message": "获取粉丝团成员列表过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }

    def get_navigation_info(self) -> Dict[str, Any]:
        """
        获取登录后导航栏用户信息

        Returns:
            包含导航信息的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（包含用户详细信息）
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
        """
        try:
            # 检查管理器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "获取导航信息失败",
                    "error": "认证器未正确初始化",
                    "status_code": None
                }

            # 构建API请求
            api_url = "https://api.bilibili.com/x/web-interface/nav"

            # 发送请求
            response = requests.get(
                url=api_url,
                headers=self.headers,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取导航信息失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            if result.get("code") != 0:
                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": result.get("code")
                }

            # 检查数据是否存在
            if "data" not in result:
                return {
                    "success": False,
                    "message": "API响应格式异常",
                    "error": "响应中缺少必要的数据字段",
                    "status_code": response.status_code,
                    "response_data": result
                }

            # 成功返回
            return {
                "success": True,
                "message": "导航信息获取成功",
                "data": result["data"],
                "status_code": response.status_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取导航信息失败",
                "error": "请求超时",
                "status_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取导航信息失败",
                "error": "网络连接错误",
                "status_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取导航信息失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取导航信息过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }

    def get_user_live_info(self) -> Dict[str, Any]:
        """
        获取用户直播相关信息

        Returns:
            包含用户直播信息的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（包含用户直播信息）
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
        """
        try:
            # 检查认证器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "获取用户直播信息失败",
                    "error": "认证器未正确初始化",
                    "status_code": None
                }

            # 构建API请求
            api_url = "https://api.live.bilibili.com/xlive/web-ucenter/user/get_user_info"

            # 发送请求
            response = requests.get(
                url=api_url,
                headers=self.headers,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "获取用户直播信息失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            if result.get("code") != 0:
                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": result.get("code")
                }

            # 检查数据是否存在
            if "data" not in result:
                return {
                    "success": False,
                    "message": "API响应格式异常",
                    "error": "响应中缺少必要的数据字段",
                    "status_code": response.status_code,
                    "response_data": result
                }

            # 成功返回
            return {
                "success": True,
                "message": "用户直播信息获取成功",
                "data": result["data"],
                "status_code": response.status_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "获取用户直播信息失败",
                "error": "请求超时",
                "status_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "获取用户直播信息失败",
                "error": "网络连接错误",
                "status_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "获取用户直播信息失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "获取用户直播信息过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }

    def rename_fans_medal(self, medal_name: str) -> Dict[str, Any]:
        """
        修改粉丝勋章名称

        Args:
            medal_name: 新的粉丝勋章名称

        Returns:
            包含操作结果的字典，固定键名：
            - success: 操作是否成功（布尔值）
            - message: 操作结果消息
            - data: 附加数据（字典）
            - error: 错误信息（失败时存在）
            - status_code: HTTP状态码
            - api_code: B站API返回的代码
        """
        # 检查认证器是否正常初始化
        if not self.initialization_result["success"]:
            return {
                "success": False,
                "message": "操作失败",
                "error": "认证器未正确初始化",
                "status_code": None,
                "api_code": None
            }

        api_url = "https://api.live.bilibili.com/fans_medal/v1/medal/rename"

        try:
            # 准备请求参数
            params = {
                "uid": self.cookies.get("DedeUserID", ""),
                "source": "1",
                "medal_name": medal_name,
                "platform": "pc",
                "csrf_token": self.csrf,
                "csrf": self.csrf
            }

            # 准备请求头
            headers = {
                **self.headers,
                "origin": "https://link.bilibili.com",
                "referer": "https://link.bilibili.com/p/center/index",
                "content-type": "application/x-www-form-urlencoded",
                "priority": "u=1, i"
            }

            # 发送POST请求
            response = requests.post(
                api_url,
                headers=headers,
                data=params,
                timeout=10,
                verify=self.verify_ssl
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "请求失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 尝试解析JSON响应
            try:
                result = response.json()
            except ValueError:
                return {
                    "success": False,
                    "message": "响应解析失败",
                    "error": "无法解析JSON响应",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 根据B站API返回的code判断操作结果
            api_code = result.get("code", -1)
            api_message = result.get("message", result.get("msg", "未知错误"))

            if api_code == 0:
                return {
                    "success": True,
                    "message": "粉丝勋章名称修改成功",
                    "data": result.get("data", {}),
                    "status_code": response.status_code,
                    "api_code": api_code
                }
            else:
                return {
                    "success": False,
                    "message": f"B站API返回错误: {api_message}",
                    "error": api_message,
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": result
                }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "请求超时",
                "error": "网络请求超时",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "网络连接错误",
                "error": "无法连接到服务器",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "网络请求异常",
                "error": f"请求失败: {str(e)}",
                "status_code": None,
                "api_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "操作过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None
            }

    def start_live(self, room_id: int, area_id: int, platform: Literal["pc_link", "web_link", "android_link"]) -> Dict:
        """
        开始直播

        Args:
            room_id: 直播间ID
            area_id: 二级分区id
            platform: 直播平台

        Returns:
            包含开播结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（包含直播流信息等）
            - error: 失败时的错误信息
            - status_code: HTTP状态码
            - api_code: B站API返回的code
        """
        try:
            # 检查认证器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "开播失败",
                    "error": "认证器未正确初始化",
                    "status_code": None,
                    "api_code": None
                }

            # 参数验证
            if not room_id or room_id <= 0:
                return {
                    "success": False,
                    "message": "开播失败",
                    "error": "房间ID无效",
                    "status_code": None,
                    "api_code": None
                }

            if not area_id or area_id <= 0:
                return {
                    "success": False,
                    "message": "开播失败",
                    "error": "分区ID无效",
                    "status_code": None,
                    "api_code": None
                }

            if platform not in ["pc_link", "web_link", "android_link"]:
                return {
                    "success": False,
                    "message": "开播失败",
                    "error": "平台参数无效",
                    "status_code": None,
                    "api_code": None
                }

            api = "https://api.live.bilibili.com/room/v1/Room/startLive"
            headers = self.headers
            csrf = self.csrf

            # 构建请求参数
            startLivedata = {
                "access_key": "",  # 留空
                "appkey": "aae92bc66f3edfab",  # 固定应用密钥
                "platform": platform,
                "room_id": room_id,
                "area_v2": area_id,
                "build": "9343",  # 客户端版本号
                "backup_stream": 0,
                "csrf": csrf,
                "csrf_token": csrf,
                "ts": str(int(time.time()))  # 当前UNIX时间戳
            }

            # 对参数按字典序排序
            sorted_params = sorted(startLivedata.items(), key=lambda x: x[0])

            # 生成签名字符串 (参数串 + 固定盐值)
            query_string = "&".join(f"{k}={v}" for k, v in sorted_params)
            sign_string = query_string + "af125a0d5279fd576c1b4418a3e8276d"

            # 计算MD5签名
            md5_sign = hashlib.md5(sign_string.encode('utf-8')).hexdigest()

            # 添加签名到参数
            startLivedata["sign"] = md5_sign

            # 发送请求
            response = requests.post(
                url=api,
                headers=headers,
                params=startLivedata,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "开播失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()
            api_code = result.get("code")

            # 判断开播结果
            if api_code == 0:
                # 开播成功或重复开播
                change_status = result.get("data", {}).get("change", 0)
                if change_status == 1:
                    message = "开播成功"
                else:
                    message = result.get("message", "重复开播")

                return {
                    "success": True,
                    "message": message,
                    "data": result.get("data", {}),
                    "status_code": response.status_code,
                    "api_code": api_code
                }
            else:
                # 开播失败
                error_msg = result.get("message", "未知错误")
                return {
                    "success": False,
                    "message": "开播失败",
                    "error": error_msg,
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": result
                }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "开播失败",
                "error": "请求超时",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "开播失败",
                "error": "网络连接错误",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "开播失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "api_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "开播过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None
            }

    def stop_live(self, room_id: int, platform: Literal["pc_link", "web_link", "android_link"]) -> Dict[str, Any]:
        """
        结束直播

        Args:
            room_id: 直播间ID
            platform: 平台类型

        Returns:
            包含操作结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据
            - error: 失败时的错误信息
            - status_code: HTTP状态码
            - api_code: B站API返回的代码
        """
        try:
            # 检查认证器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "结束直播失败",
                    "error": "认证器未正确初始化",
                    "status_code": None,
                    "api_code": None
                }

            # 构建API请求
            api_url = "https://api.live.bilibili.com/room/v1/Room/stopLive"
            headers = self.headers.copy()
            csrf = self.csrf

            data = {
                "platform": platform,
                "room_id": room_id,
                "csrf": csrf,
                "csrf_token": csrf,
            }

            # 发送请求
            response = requests.post(
                url=api_url,
                headers=headers,
                data=data,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "结束直播失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()
            api_code = result.get("code")

            # 判断操作是否成功
            if api_code == 0:
                # 成功结束直播（包括重复关播的情况）
                return {
                    "success": True,
                    "message": result.get("message", "结束直播成功"),
                    "data": {
                        "change": result.get("data", {}).get("change", 0),
                        "status": result.get("data", {}).get("status", ""),
                        "raw_response": result
                    },
                    "status_code": response.status_code,
                    "api_code": api_code
                }
            else:
                # API返回错误
                return {
                    "success": False,
                    "message": "结束直播失败",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "response_data": result
                }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "结束直播失败",
                "error": "请求超时",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "结束直播失败",
                "error": "网络连接错误",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "结束直播失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "api_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "结束直播过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None
            }

    def update_cover(self, cover_url: str) -> Dict[str, Any]:
        """
        更新直播间封面

        Args:
            cover_url: 通过上传接口获取的封面图片URL

        Returns:
            包含更新结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
        """
        try:
            # 检查认证器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "更新封面失败",
                    "error": "认证器未正确初始化",
                    "status_code": None
                }

            # 检查封面URL是否有效
            if not cover_url or not cover_url.startswith(('http://', 'https://')):
                return {
                    "success": False,
                    "message": "更新封面失败",
                    "error": "封面URL无效",
                    "status_code": None
                }

            # 构建请求参数
            api_url = "https://api.live.bilibili.com/xlive/app-blink/v1/preLive/UpdatePreLiveInfo"
            update_cover_data = {
                "platform": "web",
                "mobi_app": "web",
                "build": 1,
                "cover": cover_url,
                "coverVertical": "",
                "liveDirectionType": 1,
                "csrf_token": self.cookies["bili_jct"],
                "csrf": self.cookies["bili_jct"],
            }

            # 发送请求
            response = requests.post(
                api_url,
                headers=self.headers,
                data=update_cover_data,
                verify=self.verify_ssl,
                timeout=30
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "更新封面失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            if result.get("code") != 0:
                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": result.get("code")
                }

            # 成功返回
            return {
                "success": True,
                "message": "直播间封面更新成功",
                "data": result.get("data", {}),
                "status_code": response.status_code
            }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "更新封面失败",
                "error": "请求超时",
                "status_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "更新封面失败",
                "error": "网络连接错误",
                "status_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "更新封面失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "更新封面过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }

    def upload_cover(self, image_binary: bytes) -> Dict[str, Any]:
        """
        上传直播间封面到B站(符合官方请求格式)

        Args:
            image_binary: png/jpeg图像的二进制格式数据

        Returns:
            包含上传结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（如图片URL）
            - error: 失败时的错误信息
            - status_code: HTTP状态码（如果有）
        """
        try:
            # 检查认证器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "上传失败",
                    "error": "认证器未正确初始化",
                    "status_code": None
                }

            # 检查图片数据是否有效
            if not image_binary or len(image_binary) == 0:
                return {
                    "success": False,
                    "message": "上传失败",
                    "error": "图片数据为空或无效",
                    "status_code": None
                }

            # 构建请求参数
            api_url = "https://api.bilibili.com/x/upload/web/image"

            # 准备multipart/form-data数据
            boundary = '----WebKitFormBoundary' + ''.join(random.choices(string.ascii_letters + string.digits, k=16))
            headers = self.headers.copy()  # 复制headers避免修改原始数据
            headers["Content-Type"] = f"multipart/form-data; boundary={boundary}"

            # 构建multipart body
            data_parts = []

            # 添加普通字段
            fields = {
                "bucket": "live",
                "dir": "new_room_cover",
                "csrf": self.cookies["bili_jct"]
            }

            for name, value in fields.items():
                data_parts.append(
                    f'--{boundary}\r\n'
                    f'Content-Disposition: form-data; name="{name}"\r\n\r\n'
                    f'{value}\r\n'
                )

            data_parts.append(
                f'--{boundary}\r\n'
                f'Content-Disposition: form-data; name="file"; filename="blob"\r\n'
                f'Content-Type: image/jpeg\r\n\r\n'
            )
            data_parts.append(image_binary)
            data_parts.append(f'\r\n--{boundary}--\r\n')

            # 构建最终body
            body = b''
            for part in data_parts:
                if isinstance(part, str):
                    body += part.encode('utf-8')
                else:
                    body += part

            # 发送请求
            response = requests.post(
                url=api_url,
                headers=headers,
                data=body,
                verify=self.verify_ssl,
                timeout=30  # 添加超时设置
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "上传失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 检查B站API返回状态
            if result.get("code") != 0:
                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": result.get("message", "未知错误"),
                    "status_code": response.status_code,
                    "api_code": result.get("code")
                }

            # 成功返回 - 修正为使用location字段
            if 'data' in result and 'location' in result['data']:
                return {
                    "success": True,
                    "message": "封面上传成功",
                    "data": {
                        "location": result['data']['location'],
                        "etag": result['data'].get('etag', ''),
                        "image_url": result['data']['location']  # 使用location作为图片URL
                    },
                    "status_code": response.status_code
                }
            else:
                return {
                    "success": False,
                    "message": "上传响应格式异常",
                    "error": "响应中缺少必要的数据字段",
                    "status_code": response.status_code,
                    "response_data": result
                }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "上传失败",
                "error": "请求超时",
                "status_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "上传失败",
                "error": "网络连接错误",
                "status_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "上传失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "上传过程中发生未知错误",
                "error": str(e),
                "status_code": None
            }

    def send_danmaku(self, room_id: int, message: str, font_size: int = 25,
                     color: int = 16777215, mode: int = 1, bubble: int = 0,
                     reply_mid: int = 0, reply_uname: str = "") -> Dict[str, Any]:
        """
        发送直播间弹幕

        Args:
            room_id: 直播间ID
            message: 弹幕内容
            font_size: 字体大小，默认25
            color: 十进制颜色值，默认16777215（白色）
            mode: 展示模式，默认1
            bubble: 气泡，默认0
            reply_mid: 要@的用户mid，默认0（不@）
            reply_uname: 要@的用户名称，默认空字符串

        Returns:
            包含发送结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据（包含弹幕信息）
            - error: 失败时的错误信息
            - status_code: HTTP状态码
            - api_code: B站API返回的code
            - blocked_reason: 屏蔽原因（如果被屏蔽）
        """
        try:
            # 检查认证器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "发送弹幕失败",
                    "error": "认证器未正确初始化",
                    "status_code": None,
                    "api_code": None,
                    "blocked_reason": None
                }

            # 验证必要参数
            if not self.csrf:
                return {
                    "success": False,
                    "message": "发送弹幕失败",
                    "error": "缺少bili_jct参数，无法获取csrf token",
                    "status_code": None,
                    "api_code": None,
                    "blocked_reason": None
                }

            if not room_id or room_id <= 0:
                return {
                    "success": False,
                    "message": "发送弹幕失败",
                    "error": "房间ID无效",
                    "status_code": None,
                    "api_code": None,
                    "blocked_reason": None
                }

            if not message or len(message.strip()) == 0:
                return {
                    "success": False,
                    "message": "发送弹幕失败",
                    "error": "弹幕内容不能为空",
                    "status_code": None,
                    "api_code": None,
                    "blocked_reason": None
                }

            # 检查弹幕长度限制（B站限制通常为20个字符）
            if len(message) > 20:
                return {
                    "success": False,
                    "message": "发送弹幕失败",
                    "error": "弹幕内容过长，最多20个字符",
                    "status_code": None,
                    "api_code": None,
                    "blocked_reason": None
                }

            # 构建请求负载
            payload = {
                "roomid": room_id,
                "msg": message,
                "rnd": int(time.time()),  # 当前Unix时间戳
                "fontsize": font_size,
                "color": color,
                "mode": mode,
                "bubble": bubble,
                "room_type": 0,
                "jumpfrom": 0,
                "reply_mid": reply_mid,
                "reply_attr": 0,
                "reply_uname": reply_uname,
                "replay_dmid": "",
                "statistics": '{"appId":100,"platform":5}',
                "csrf": self.csrf,
                "csrf_token": self.csrf
            }

            api_url = "https://api.live.bilibili.com/msg/send"

            response = requests.post(
                url=api_url,
                headers=self.headers,
                data=payload,
                verify=self.verify_ssl,
                timeout=10
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "发送弹幕失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text,
                    "blocked_reason": None
                }

            # 解析响应
            result = response.json()

            # 根据B站API返回的code判断是否成功
            api_code = result.get("code", -1)
            api_message = result.get("message", "")
            api_msg = result.get("msg", "")

            # 处理特殊情况：code为0但实际发送失败（屏蔽词等情况）
            if api_code == 0:
                # 检查是否为屏蔽词导致的失败
                if api_message == "f" or api_msg == "f":
                    return {
                        "success": False,
                        "message": "发送弹幕失败",
                        "error": "弹幕内容包含B站屏蔽词",
                        "status_code": response.status_code,
                        "api_code": api_code,
                        "api_response": result,
                        "blocked_reason": "bilibili_sensitive_words"
                    }
                elif api_message == "k" or api_msg == "k":
                    return {
                        "success": False,
                        "message": "发送弹幕失败",
                        "error": "弹幕内容被主播设置的屏蔽词拦截",
                        "status_code": response.status_code,
                        "api_code": api_code,
                        "api_response": result,
                        "blocked_reason": "streamer_blocked_words"
                    }
                else:
                    # 真正成功的情况
                    return {
                        "success": True,
                        "message": "弹幕发送成功",
                        "data": {
                            "mode_info": result.get("data", {}).get("mode_info", {}),
                            "dm_v2": result.get("data", {}).get("dm_v2"),
                            "api_response": result
                        },
                        "status_code": response.status_code,
                        "api_code": api_code,
                        "blocked_reason": None
                    }
            else:
                # 弹幕发送失败
                error_message = result.get("message", "未知错误")
                common_errors = {
                    -101: "账号未登录",
                    -111: "CSRF校验失败",
                    -400: "请求参数错误",
                    1003212: "弹幕内容超出限制长度",
                    10031: "发送频率过快",
                    10030: "重复弹幕",
                    10032: "弹幕包含敏感词"
                }

                # 使用预定义的错误消息或API返回的消息
                if api_code in common_errors:
                    error_message = common_errors[api_code]

                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": error_message,
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "api_response": result,
                    "blocked_reason": None
                }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "发送弹幕失败",
                "error": "请求超时",
                "status_code": None,
                "api_code": None,
                "blocked_reason": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "发送弹幕失败",
                "error": "网络连接错误",
                "status_code": None,
                "api_code": None,
                "blocked_reason": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "发送弹幕失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "api_code": None,
                "blocked_reason": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "发送弹幕过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None,
                "blocked_reason": None
            }

    def wear_fans_medal(self, medal_id: int, target_id: int) -> Dict[str, Any]:
        """
        佩戴粉丝勋章

        Args:
            medal_id: 粉丝勋章ID
            target_id: 目标用户ID（主播UID）

        Returns:
            包含佩戴结果的字典：
            - success: 操作是否成功
            - message: 结果描述信息
            - data: 成功时的数据
            - error: 失败时的错误信息
            - status_code: HTTP状态码
            - api_code: B站API返回的code
        """
        try:
            # 检查认证器是否正常初始化
            if not self.initialization_result["success"]:
                return {
                    "success": False,
                    "message": "佩戴粉丝勋章失败",
                    "error": "认证器未正确初始化",
                    "status_code": None,
                    "api_code": None
                }

            # 验证必要参数
            if not self.csrf:
                return {
                    "success": False,
                    "message": "佩戴粉丝勋章失败",
                    "error": "缺少bili_jct参数，无法获取csrf token",
                    "status_code": None,
                    "api_code": None
                }

            if not medal_id or medal_id <= 0:
                return {
                    "success": False,
                    "message": "佩戴粉丝勋章失败",
                    "error": "勋章ID无效",
                    "status_code": None,
                    "api_code": None
                }

            if not target_id or target_id <= 0:
                return {
                    "success": False,
                    "message": "佩戴粉丝勋章失败",
                    "error": "目标用户ID无效",
                    "status_code": None,
                    "api_code": None
                }

            # 构建请求负载
            payload = {
                "medal_id": medal_id,
                "target_id": target_id,
                "csrf_token": self.csrf,
                "csrf": self.csrf
            }

            api_url = "https://api.live.bilibili.com/xlive/app-ucenter/v1/fansMedal/wear"

            response = requests.post(
                url=api_url,
                headers=self.headers,
                data=payload,
                verify=self.verify_ssl,
                timeout=10
            )

            # 检查HTTP状态码
            if response.status_code != 200:
                return {
                    "success": False,
                    "message": "佩戴粉丝勋章失败",
                    "error": f"HTTP错误: {response.status_code}",
                    "status_code": response.status_code,
                    "api_code": None,
                    "response_text": response.text
                }

            # 解析响应
            result = response.json()

            # 根据B站API返回的code判断是否成功
            api_code = result.get("code", -1)

            # 成功佩戴粉丝勋章
            if api_code == 0:
                return {
                    "success": True,
                    "message": "粉丝勋章佩戴成功",
                    "data": {
                        "api_response": result
                    },
                    "status_code": response.status_code,
                    "api_code": api_code
                }
            else:
                # 佩戴粉丝勋章失败
                error_message = result.get("message", "未知错误")
                common_errors = {
                    -101: "账号未登录",
                    -111: "CSRF校验失败",
                    -400: "请求参数错误",
                    10032: "勋章不存在",
                    10033: "没有该勋章的佩戴权限",
                    10034: "勋章佩戴失败"
                }

                # 使用预定义的错误消息或API返回的消息
                if api_code in common_errors:
                    error_message = common_errors[api_code]

                return {
                    "success": False,
                    "message": "B站API返回错误",
                    "error": error_message,
                    "status_code": response.status_code,
                    "api_code": api_code,
                    "api_response": result
                }

        except requests.exceptions.Timeout:
            return {
                "success": False,
                "message": "佩戴粉丝勋章失败",
                "error": "请求超时",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.ConnectionError:
            return {
                "success": False,
                "message": "佩戴粉丝勋章失败",
                "error": "网络连接错误",
                "status_code": None,
                "api_code": None
            }
        except requests.exceptions.RequestException as e:
            return {
                "success": False,
                "message": "佩戴粉丝勋章失败",
                "error": f"网络请求异常: {str(e)}",
                "status_code": None,
                "api_code": None
            }
        except Exception as e:
            return {
                "success": False,
                "message": "佩戴粉丝勋章过程中发生未知错误",
                "error": str(e),
                "status_code": None,
                "api_code": None
            }

@lru_cache(maxsize=None)
def get_w_s_a():
    if get_b_u_c_m().get_default_user_id():
        headers = {
            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 '
                          '(KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3',
            'cookie': Tools.dict_to_cookie_string(get_b_u_c_m().get_user_cookies()['data'])
        }
        w_s_a = WbiSigna(headers, GlobalVariableOfData.sslVerification)
    else:
        w_s_a = None
    return w_s_a

@lru_cache(maxsize=None)
def get_b_u_c_m():
    b_u_c_m = BilibiliUserConfigManager(config_path=GlobalVariableOfData.scriptsUsersConfigFilepath)
    return b_u_c_m

@lru_cache(maxsize=None)
def get_b_l_i_r():
    headers = {
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 '
                      '(KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'
    }

    # 初始化API对象
    b_l_i_r = BilibiliLogInRegister(headers, GlobalVariableOfData.sslVerification)
    return b_l_i_r

@lru_cache(maxsize=None)
def get_i_c():
    headers = {
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 '
                      '(KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'
    }

    # 初始化API对象
    i_c = ImproveCookies(headers, GlobalVariableOfData.sslVerification)
    return i_c

@lru_cache(maxsize=None)
def get_b_a_g():
    headers = {
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 '
                      '(KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'
    }

    # 初始化API对象
    b_a_g = BilibiliApiGeneric(headers, GlobalVariableOfData.sslVerification)
    return b_a_g

@lru_cache(maxsize=None)
def get_b_s_a_m():
    if get_b_u_c_m().get_default_user_id():
        headers = {
            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 '
                          '(KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3',
            'cookie': Tools.dict_to_cookie_string(get_b_u_c_m().get_user_cookies()['data'])
        }

        b_r_m = BilibiliSpecialApiManager(headers, GlobalVariableOfData.sslVerification)
    else:
        b_r_m = None
    return b_r_m

@lru_cache(maxsize=None)
def get_b_l_d_m():
    if get_b_u_c_m().get_default_user_id():
        headers = {
            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 '
                          '(KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3',
            'cookie': Tools.dict_to_cookie_string(get_b_u_c_m().get_user_cookies()['data'])
        }
        dm = BiliDanmu(headers)
    else:
        dm = None
    return dm

@lru_cache(maxsize=None)
def get_b_csrf_a():
    if get_b_u_c_m().get_default_user_id():
        headers = {
            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 '
                          '(KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3',
            'cookie': Tools.dict_to_cookie_string(get_b_u_c_m().get_user_cookies()['data'])
        }

        b_csrf_a = BilibiliCSRFAuthenticator(headers, GlobalVariableOfData.sslVerification)
    else:
        b_csrf_a = None
    return b_csrf_a

@lru_cache(maxsize=None)
def get_c_d_m():
    # 创建用户常用数据实例
    c_d_m = CommonDataManager(Path(GlobalVariableOfData.scriptsDataDirpath) / "commonData.json")
    return c_d_m

@lru_cache(maxsize=None)
def get_uid_nickname_dict():
    # 获取 用户数据文件中保存的用户，并在用户过期后删除用户
    uid_nickname_dict = {}
    """账号字典"""
    for uid_dict in get_b_u_c_m().get_all_users()["data"]["users"]:
        uid = uid_dict["user_id"]
        headers = {
            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 '
                          '(KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3',
            'cookie': Tools.dict_to_cookie_string(get_b_u_c_m().get_user_cookies(int(uid))["data"])
        }
        is_login = BilibiliSpecialApiManager(headers, GlobalVariableOfData.sslVerification).get_nav_info()["data"]
        if is_login["isLogin"]:
            uid_nickname_dict[get_b_a_g().get_bilibili_user_card(uid)['data']['data']['card']['name']] = uid
        else:
            log_save(obs.LOG_INFO, f"❌{get_b_a_g().get_bilibili_user_card(uid)['data']['data']['card']['name']}过期")
            if get_b_u_c_m().get_default_user_id() == uid:
                get_b_u_c_m().clear_default_user()
            get_b_u_c_m().delete_user(int(uid))
    if not get_b_u_c_m().get_user_cookies()["success"]:
        uid_nickname_dict['添加或选择一个账号登录'] = '-1'
    log_save(obs.LOG_INFO, f"║║载入账号字典：{uid_nickname_dict}")
    return uid_nickname_dict

@lru_cache(maxsize=None)
def get_default_user_nickname():
    # 获取 '登录用户' 的昵称
    if get_b_u_c_m().get_default_user_id():
        default_user_nickname: Optional[str] = list(get_uid_nickname_dict().keys())[list(get_uid_nickname_dict().values()).index(get_b_u_c_m().get_default_user_id())]
        """登录用户的昵称，没有登录则为None"""
        log_save(obs.LOG_INFO, f"║║用户：{default_user_nickname} 已登录")
    else:
        default_user_nickname: Optional[str] = None
        """登录用户的昵称，没有登录则为None"""
        log_save(obs.LOG_INFO, f"║║用户：⚠️未登录账号")
    return default_user_nickname

@lru_cache(maxsize=None)
def get_room_info_old():
    # 获取 '登录用户' 对应的直播间基础信息
    if get_b_u_c_m().get_default_user_id():
        room_info_old = get_b_a_g().get_room_info_old(int(get_b_u_c_m().get_default_user_id()))
        """直播间基础信息"""
        log_save(obs.LOG_INFO, f"║║登录账户 的 直播间基础信息：{room_info_old}")
    else:
        room_info_old = None
        """直播间基础信息"""
        log_save(obs.LOG_INFO, f"║║登录账户 的 直播间基础信息：⚠️未登录账号")
    return room_info_old

@lru_cache(maxsize=None)
def get_room_status():
    # 获取 '登录用户' 的 直播间状态
    if get_b_u_c_m().get_default_user_id():
        room_status = get_room_info_old()["data"]["roomStatus"]
        """登录用户的直播间存在状态"""
        if room_status:
            log_save(obs.LOG_INFO, f"║║登录账户 的 直播间状态：🈶直播间")
        else:
            log_save(obs.LOG_INFO, f"║║登录账户 的 直播间状态：🈚直播间")
    else:
        room_status = None
        """登录用户的直播间存在状态"""
        log_save(obs.LOG_INFO, f"║║登录账户 的 直播间状态：⚠️未登录账号")
    return room_status

@lru_cache(maxsize=None)
def get_room_id():
    # 获取 '登录用户' 的 直播间id
    if get_b_u_c_m().get_default_user_id():
        if get_room_status():
            room_id = get_room_info_old()["data"]["roomid"]
            """登录用户的直播间id"""
            log_save(obs.LOG_INFO, f"║║登录账户 的 直播间id：{room_id}")
        else:
            room_id = None
            """登录用户的直播间id"""
            log_save(obs.LOG_INFO, f"║║登录账户 的 直播间id：⚠️无直播间")
    else:
        room_id = None
        """登录用户的直播间id"""
        log_save(obs.LOG_INFO, f"║║登录账户 的 直播间id：⚠️未登录账号")
    return room_id

@lru_cache(maxsize=None)
def get_room_base_info():
    # 获取 '登录用户' 直播间基本信息
    if get_b_u_c_m().get_default_user_id():
        if get_room_status():
            room_base_info = get_b_a_g().get_room_base_info(get_room_id())["data"]
            """直播间基本信息"""
            log_save(obs.LOG_INFO, f"║║登录账户 的 直播间基本信息：{room_base_info}")
        else:
            room_base_info = None
            """直播间基本信息"""
            log_save(obs.LOG_INFO, f"║║登录账户 的 直播间基本信息：⚠️无直播间")
    else:
        room_base_info = None
        """直播间基本信息"""
        log_save(obs.LOG_INFO, f"║║登录账户 的 直播间基本信息：⚠️未登录账号")
    return room_base_info

@lru_cache(maxsize=None)
def get_room_title():
    # 获取 '登录用户' 直播间标题
    if get_b_u_c_m().get_default_user_id():
        if get_room_status():
            room_title = get_room_base_info()["title"]
            """登录用户直播间标题"""
            log_save(obs.LOG_INFO, f"║║登录账户 的 直播间标题：{room_title}")
        else:
            room_title = None
            """登录用户直播间标题"""
            log_save(obs.LOG_INFO, f"║║登录账户 的 直播间标题：⚠️无直播间")
    else:
        room_title = None
        """登录用户直播间标题"""
        log_save(obs.LOG_INFO, f"║║登录账户 的 直播间标题：⚠️未登录账号")
    return room_title

@lru_cache(maxsize=None)
def get_common_title4number():
    # 添加当前直播间标题 到 常用直播间标 题配置文件
    common_title4number = {}
    """常用直播间标题】{'0': 't1', '1': 't2', '2': 't3',}"""
    if get_b_u_c_m().get_default_user_id():
        if get_room_status():
            get_c_d_m().add_data(get_b_u_c_m().get_default_user_id(), "title", get_room_title())
            for number, commonTitle in enumerate(get_c_d_m().get_data(get_b_u_c_m().get_default_user_id(), "title")):
                common_title4number[commonTitle] = str(number)
            log_save(obs.LOG_INFO, f"║║登录账户 的 常用直播间标题：{common_title4number}")
        else:
            log_save(obs.LOG_INFO, f"║║登录账户 的 常用直播间标题：⚠️无直播间")
    else:
        log_save(obs.LOG_INFO, f"║║登录账户 的 常用直播间标题：⚠️未登录账号")
    return common_title4number

@lru_cache(maxsize=None)
def get_room_news():
    # 获取 直播间公告
    if get_b_u_c_m().get_default_user_id():
        if get_room_status():
            room_news = get_b_s_a_m().get_room_news(int(get_b_u_c_m().get_default_user_id()), get_b_s_a_m().get_room_highlight_info()["data"]["room_id"])["data"]["content"]
            """直播间公告"""
            log_save(obs.LOG_INFO, f"║║登录账户 的 直播间公告：{room_news}")
        else:
            room_news = None
            """直播间公告"""
            log_save(obs.LOG_INFO, f"║║登录账户 的 直播间公告：⚠️无直播间")
    else:
        room_news = None
        """直播间公告"""
        log_save(obs.LOG_INFO, f"║║登录账户 的 直播间公告：⚠️未登录账号")
    return room_news

@lru_cache(maxsize=None)
def get_area():
    # 获取 '登录用户' 直播间的分区
    if get_b_u_c_m().get_default_user_id():
        if get_room_status():
            area = {
                "parent_area_id": str(get_room_base_info()["parent_area_id"]),
                "parent_area_name": get_room_base_info()["parent_area_name"],
                "area_id": str(get_room_base_info()["area_id"]),
                "area_name": get_room_base_info()["area_name"],
            }
            """登录用户的直播间分区】{"parent_area_id": 3, "parent_area_name": "手游", "area_id": 255, "area_name": "明日方舟"}"""
            log_save(obs.LOG_INFO, f"║║登录账户 的 直播间分区数据：{area}")
        else:
            area = None
            """登录用户的直播间分区】{"parent_area_id": 3, "parent_area_name": "手游", "area_id": 255, "area_name": "明日方舟"}"""
            log_save(obs.LOG_INFO, f"║║登录账户 的 直播间分区数据：⚠️无直播间")
    else:
        area = None
        """登录用户的直播间分区】{"parent_area_id": 3, "parent_area_name": "手游", "area_id": 255, "area_name": "明日方舟"}"""
        log_save(obs.LOG_INFO, f"║║登录账户 的 直播间分区数据：⚠️未登录账号")
    return area

@lru_cache(maxsize=None)
def get_common_areas():
    # 获取 '登录用户' 直播间 常用分区信息
    if get_b_u_c_m().get_default_user_id():
        if get_room_status():
            common_areas = get_b_a_g().get_anchor_common_areas(get_room_id())["data"]
            """获取 '登录用户' 直播间 常用分区信息】[{"id": "255", "name": "明日方舟", "parent_id": "3", "parent_name": "手游",}, ]"""
            log_save(obs.LOG_INFO, f"║║登录账户 的 常用分区信息：{common_areas}")
        else:
            common_areas = None
            """获取 '登录用户' 直播间 常用分区信息】[{"id": "255", "name": "明日方舟", "parent_id": "3", "parent_name": "手游",}, ]"""
            log_save(obs.LOG_INFO, f"║║登录账户 的 常用分区信息：⚠️无直播间")
    else:
        common_areas = None
        """获取 '登录用户' 直播间 常用分区信息】[{"id": "255", "name": "明日方舟", "parent_id": "3", "parent_name": "手游",}, ]"""
        log_save(obs.LOG_INFO, f"║║登录账户 的 常用分区信息：⚠️未登录账号")
    return common_areas

@lru_cache(maxsize=None)
def get_common_area_id_dict_str4common_area_name_dict_str():
    # 获取 '登录用户' 常用直播间分区字典
    common_area_id_dict_str4common_area_name_dict_str = {}
    """登录用户的常用直播间分区字典】{'{parent_id: id}': '{parent_name: name}', }"""
    if get_b_u_c_m().get_default_user_id():
        if get_room_status():
            if get_common_areas():
                for common_area in get_common_areas():
                    common_area_id = json.dumps({common_area['parent_id']: common_area['id']}, ensure_ascii=False)
                    common_area_name = json.dumps({common_area['parent_name']: common_area['name']}, ensure_ascii=False)
                    common_area_id_dict_str4common_area_name_dict_str[common_area_name] = common_area_id
            else:
                common_area_id_dict_str4common_area_name_dict_str = {"无常用分区": "-1"}
            id_dict_str4name_dict_value_list = list(common_area_id_dict_str4common_area_name_dict_str.values())
            log_save(obs.LOG_INFO, f"║║登录账户 的 常用直播间分区：{id_dict_str4name_dict_value_list}")
        else:
            common_area_id_dict_str4common_area_name_dict_str = {"⚠️无直播间": '-1'}
            log_save(obs.LOG_INFO, f"║║登录账户 的 常用直播间分区：⚠️无直播间")
    else:
        common_area_id_dict_str4common_area_name_dict_str = {"⚠️无直播间": '-1'}
        log_save(obs.LOG_INFO, f"║║登录账户 的 常用直播间分区：⚠️未登录账号")
    return common_area_id_dict_str4common_area_name_dict_str

@lru_cache(maxsize=None)
def get_area_obj_data_list():
    # 获取 B站直播分区信息
    if get_b_u_c_m().get_default_user_id():
        area_obj_data_list = get_b_a_g().get_area_obj_list()
        """B站直播分区信息"""
        log_save(obs.LOG_INFO, f"║║获取B站直播分区信息：{area_obj_data_list}")
    else:
        area_obj_data_list = None
        """B站直播分区信息"""
        log_save(obs.LOG_INFO, f"║║获取B站直播分区信息：⚠️未登录账号")
    return area_obj_data_list

@lru_cache(maxsize=None)
def get_parent_live_area_name4parent_live_area_id():
    # 获取 直播间父分区数据
    parent_live_area_name4parent_live_area_id = {}
    """直播间父分区数据"""
    if get_b_u_c_m().get_default_user_id():
        if get_room_status():
            for AreaObjData in get_area_obj_data_list()['data']:
                parent_live_area_name4parent_live_area_id[AreaObjData["name"]] = str(AreaObjData["id"])
            if not get_area():
                parent_live_area_name4parent_live_area_id |= {"请选择一级分区": "-1"}
            log_save(obs.LOG_INFO, f"║║获取 直播间父分区数据：{parent_live_area_name4parent_live_area_id}")
        else:
            parent_live_area_name4parent_live_area_id = {'⚠️无直播间': "-1"}
            log_save(obs.LOG_INFO, f"║║获取 直播间父分区数据：⚠️无直播间")
    else:
        parent_live_area_name4parent_live_area_id = {"⚠️未登录账号": "-1"}
        log_save(obs.LOG_INFO, f"║║获取 直播间父分区数据：⚠️未登录账号")
    return parent_live_area_name4parent_live_area_id

@lru_cache(maxsize=None)
def get_sub_live_area_name4sub_live_area_id():
    # 获取 登录账户 的 直播间父分区 对应的 直播间子分区数据
    sub_live_area_name4sub_live_area_id = {}
    """登录账户 的 直播间父分区 对应的 直播间子分区数据"""
    if get_b_u_c_m().get_default_user_id():
        if get_room_status():
            if get_area():
                for AreaObjData in get_area_obj_data_list()["data"]:
                    if str(get_area()["parent_area_id"]) == str(AreaObjData["id"]):
                        for subAreaObj in AreaObjData["list"]:
                            sub_live_area_name4sub_live_area_id[subAreaObj["name"]] = str(subAreaObj["id"])
                        break
            else:
                sub_live_area_name4sub_live_area_id = {"请选择一级分区": "-1"}
        else:
            sub_live_area_name4sub_live_area_id = {'⚠️无直播间': "-1"}
    else:
        sub_live_area_name4sub_live_area_id = {"⚠️未登录账号": "-1"}
    log_save(obs.LOG_INFO, f"║║获取 直播间父分区 对应的 直播间子分区数据：{sub_live_area_name4sub_live_area_id}")
    return sub_live_area_name4sub_live_area_id

@lru_cache(maxsize=None)
def get_live_status():
    # 获取 '登录用户' 的 直播状态
    if get_b_u_c_m().get_default_user_id():
        if get_room_status():
            live_status = get_room_info_old()["data"]["liveStatus"]
            """登录用户的直播状态】0：未开播 1：直播中"""
            if live_status:
                log_save(obs.LOG_INFO, f"║║登录账户 的 直播状态：直播中👌")
            else:
                log_save(obs.LOG_INFO, f"║║登录账户 的 直播状态：未开播🙌")
        else:
            live_status = None
            """登录用户的直播状态】0：未开播 1：直播中"""
            log_save(obs.LOG_INFO, f"║║登录账户 的 直播状态：⚠️无直播间")
    else:
        live_status = None
        """登录用户的直播状态】0：未开播 1：直播中"""
        log_save(obs.LOG_INFO, f"║║登录账户 的 直播状态：⚠️未登录账号")
    return live_status

@lru_cache(maxsize=None)
def get_reserve_list():
    # 登录用户的直播预约列表信息
    if get_b_u_c_m().get_default_user_id():
        if get_room_status():
            reserve_list = get_b_s_a_m().get_reserve_list()["data"]["list"]
            """获取 '登录用户' 的 直播预约列表信息"""
            log_save(obs.LOG_INFO, f"║║登录账户 的 直播预约列表信息：{reserve_list}")
        else:
            reserve_list = None
            """获取 '登录用户' 的 直播预约列表信息"""
            log_save(obs.LOG_INFO, f"║║登录账户 的 直播预约列表信息：⚠️无直播间")
    else:
        reserve_list = None
        """获取 '登录用户' 的 直播预约列表信息"""
        log_save(obs.LOG_INFO, f"║║登录账户 的 直播预约列表信息：⚠️未登录账号")
    return reserve_list

@lru_cache(maxsize=None)
def get_reserve_name4reserve_sid():
    # 登录用户的直播预约字典
    reserve_name4reserve_sid = {}
    """获取 '登录用户' 的 直播预约字典"""
    if get_b_u_c_m().get_default_user_id():
        if get_room_status():
            if get_reserve_list():
                for reserve in get_reserve_list():
                    reserve_sid = str(reserve['reserve_info']['sid'])
                    reserve_name = reserve['reserve_info']['name']
                    reserve_time = datetime.fromtimestamp(reserve['reserve_info']['live_plan_start_time'])
                    reserve_name4reserve_sid[f"{reserve_name}|{reserve_time}"] = reserve_sid
                    log_save(obs.LOG_INFO, f"║║登录账户 的 直播预约：{(list(reserve_name4reserve_sid.keys()))}")
            else:
                reserve_name4reserve_sid = {"无直播预约": "-1"}
        else:
            reserve_name4reserve_sid = {"⚠️无直播间": "-1"}
            log_save(obs.LOG_INFO, f"║║登录账户 的 直播预约：⚠️无直播间")
    else:
        reserve_name4reserve_sid = {"⚠️未登录账号": "-1"}
        log_save(obs.LOG_INFO, f"║║登录账户 的 直播预约：⚠️未登录账号")
    return reserve_name4reserve_sid

@lru_cache(maxsize=None)
def get_common_danmu_setting():
    """
    弹幕客户端创建数/弹幕客户端创建间隔/是否显示进房消息/是否显示粉丝徽章/是否显示其他的粉丝徽章/是否显示未点亮的粉丝徽章/换行显示/是否标记管理员，is_admin不受影响/是否显示时间/防重复的缓存条数/防重复的缓存时长/头像大小/粉丝勋章文字大小/内容文字大小/时间文字大小
    """
    danmu_setting_list = []
    if get_b_u_c_m().get_default_user_id():
        danmu_client_creations_number = get_c_d_m().get_data(get_b_u_c_m().get_default_user_id(), "danmuSetting")
        if not danmu_client_creations_number:
            setting = "20/300/1/1/1/1/1/0/0/20/3/16/14/14/14"
            get_c_d_m().add_data(get_b_u_c_m().get_default_user_id(), "danmuSetting", setting, 1)
        danmu_setting_list = [int(item) for item in get_c_d_m().get_data(get_b_u_c_m().get_default_user_id(), "danmuSetting")[0].split("/")]
    return danmu_setting_list

@lru_cache(maxsize=None)
def get_common_danmu_roomid_dict():
    danmu_roomid_uname_dict = {}
    if get_b_u_c_m().get_default_user_id():
        common_danmu_roomid = get_c_d_m().get_data(get_b_u_c_m().get_default_user_id(), "danmuRoomid")
        if common_danmu_roomid:
            for danmu_roomid in common_danmu_roomid:
                danmu_roomid_uname_dict[get_b_a_g().get_room_base_info(int(danmu_roomid))["data"]['uname']] = str(danmu_roomid)
        else:
            if get_room_status():
                get_c_d_m().add_data(get_b_u_c_m().get_default_user_id(), "danmuRoomid", str(get_room_id()), 99)
                danmu_roomid_uname_dict[get_b_a_g().get_room_base_info(int(get_room_id()))["data"]['uname']] = str(get_room_id())
    return danmu_roomid_uname_dict

@lru_cache(maxsize=None)
def get_common_danmu_web_socket_server_prot():
    danmu_web_socket_server_prot = get_c_d_m().get_data(get_b_u_c_m().get_default_user_id(), "danmuWssProt")
    if not danmu_web_socket_server_prot:
        get_c_d_m().add_data(get_b_u_c_m().get_default_user_id(), "danmuWssProt", "8765", 1)
    return get_c_d_m().get_data(get_b_u_c_m().get_default_user_id(), "danmuWssProt")[0]

@lru_cache(maxsize=None)
def get_common_danmu_own_big_expression():
    danmu_own_big_expression_dict = {}
    own_big_expression = Path(GlobalVariableOfData.scriptsDataDirpath / "img/own")
    Path(own_big_expression).mkdir(parents=True, exist_ok=True)
    image_extensions = {'.jpg', '.jpeg', '.png', '.gif', '.bmp', '.tiff', '.webp', '.svg'}
    image_files = Tools.list_files_by_extension(str(own_big_expression), image_extensions)
    for image_file in image_files:
        danmu_own_big_expression_dict[image_file.split(".")[0]] = str(own_big_expression / image_file)
    get_c_d_m().add_data(get_b_u_c_m().get_default_user_id(), "danmuOwnImg", json.dumps(danmu_own_big_expression_dict, ensure_ascii=False), 1)
    return json.loads(get_c_d_m().get_data(get_b_u_c_m().get_default_user_id(), "danmuOwnImg")[0])

@lru_cache(maxsize=None)
def get_common_danmu_web_css():
    danmu_web_css = get_c_d_m().get_data(get_b_u_c_m().get_default_user_id(), "danmuWebCss")
    if not danmu_web_css:
        get_c_d_m().add_data(
            get_b_u_c_m().get_default_user_id(),
            "danmuWebCss",
            "body { background-color: rgba(0, 0, 0, 0); margin: 0px auto; overflow: hidden; }",
            1
        )
    return get_c_d_m().get_data(get_b_u_c_m().get_default_user_id(), "danmuWebCss")[0]

@lru_cache(maxsize=None)
def get_common_danmu_emoticons():
    danmu_emoticons_dict = {}
    for emoji in get_b_s_a_m().get_room_emoticons(int(str(list(get_common_danmu_roomid_dict().values())[0])))["data"]["data"][0]["emoticons"]:
        danmu_emoticons_dict[emoji["emoji"]] = json.dumps(emoji, ensure_ascii=False)
    return danmu_emoticons_dict

@lru_cache(maxsize=None)
def get_common_widget_visibility() -> Dict[str, int]:
    widget_visibility_dict = {}
    widget_visibility_setting = get_c_d_m().get_data(get_b_u_c_m().get_default_user_id(), "widgetVisibility")
    if not widget_visibility_setting:
        widget_visibility_dict_ = json.dumps({}, ensure_ascii=False)
        get_c_d_m().add_data(get_b_u_c_m().get_default_user_id(), "widgetVisibility", widget_visibility_dict_, 1)
    widget_visibility_dict_list = get_c_d_m().get_data(get_b_u_c_m().get_default_user_id(), "widgetVisibility")
    for widget_visibility in json.loads(widget_visibility_dict_list[0]):
        widget_visibility_dict[widget_visibility] = int(json.loads(widget_visibility_dict_list[0])[widget_visibility])
    return widget_visibility_dict

def clear_cache():
    # 清除函数缓存
    get_w_s_a.cache_clear()
    get_b_u_c_m.cache_clear()
    get_b_a_g.cache_clear()
    get_b_l_i_r.cache_clear()
    get_i_c.cache_clear()
    get_b_l_d_m.cache_clear()
    get_b_s_a_m.cache_clear()
    get_c_d_m.cache_clear()
    get_uid_nickname_dict.cache_clear()
    get_default_user_nickname.cache_clear()
    get_room_info_old.cache_clear()
    get_room_status.cache_clear()
    get_room_id.cache_clear()
    get_room_base_info.cache_clear()
    get_room_title.cache_clear()
    get_common_title4number.cache_clear()
    get_room_news.cache_clear()
    get_area.cache_clear()
    get_common_areas.cache_clear()
    get_common_area_id_dict_str4common_area_name_dict_str.cache_clear()
    get_area_obj_data_list.cache_clear()
    get_parent_live_area_name4parent_live_area_id.cache_clear()
    get_sub_live_area_name4sub_live_area_id.cache_clear()
    get_live_status.cache_clear()
    get_reserve_list.cache_clear()
    get_reserve_name4reserve_sid.cache_clear()
    get_common_danmu_setting.cache_clear()
    get_common_danmu_roomid_dict.cache_clear()
    get_common_danmu_web_socket_server_prot.cache_clear()
    get_common_danmu_own_big_expression.cache_clear()
    get_common_danmu_web_css.cache_clear()
    get_common_danmu_emoticons.cache_clear()
    get_common_widget_visibility.cache_clear()

# ====================================================================================================================


# -----------------------------------------------------------
# OBS Script Functions                                      -
# -----------------------------------------------------------

script_version = bytes.fromhex('302e342e39').decode('utf-8')
"""脚本版本.encode().hex()"""


class GlobalVariableOfData:
    """定义了一些全局变量"""
    ws_server = None
    cdm = None
    props_dict: Dict[str, Any] = {}
    """属性集字典"""
    causeOfTheFrontDeskIncident = ""
    """前台事件引起的原因"""
    update_widget_for_props_dict: Dict[str, Set[str]] = {}
    """根据控件属性集更新控件"""
    script_loading_is: bool = False
    """是否正式加载脚本"""
    widget_loading_number: int = 0
    """控件加载顺序"""
    isScript_propertiesIs: bool = False  # Script_properties()被调用
    """是否允许Script_properties()被调用"""
    script_settings: bool = None  # #脚本的所有设定属性集
    """脚本的所有设定属性集"""

    logRecording: str = ""  # #日志记录的文本
    """日志记录的文本"""
    networkConnectionStatus: bool = False  # #网络连接状态
    """网络连接状态"""
    sslVerification: bool = True
    """SSL验证"""

    # 文件配置类-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    scriptsDataDirpath: Optional[Path] = None  # #脚本所在目录，末尾带/
    """脚本所在目录，末尾不带/"""
    scriptsUsersConfigFilepath: Optional[Path] = None  # #用户配置文件路径
    """用户配置文件路径"""
    scriptsTempDir: Optional[Path] = None  # #临时文件文件夹
    """临时文件文件夹"""
    scriptsLogDir: Optional[Path] = None  # #日志文件文件夹
    """日志文件文件夹"""
    scriptsCacheDir: Optional[Path] = None  # #缓存文件文件夹
    """缓存文件文件夹"""

    # 用户类-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    loginQrCode_key: str = None  # ##登陆二维码密钥
    """登陆二维码密钥"""
    loginQrCodeReturn: Optional[Dict[str, Union[Dict[str, str], int]]] = {}  # ##登陆二维码返回数据
    """登陆二维码返回数据"""
    loginQRCodePillowImg = None  # ##登录二维码的pillow_img实例
    """登录二维码的pillow_img实例"""
    HTML_CONTENT = ""
    """html模板"""
    server_thread = None
    """服务线程"""
    danmu_running = False
    """弹幕运行标志"""
    danmu_run_status = False
    """弹幕运行状态"""



class ExplanatoryDictionary:
    """定义了一些数据的说明字典"""
    textBox_type_name4textBox_type: Dict[int, str] = {
        obs.OBS_TEXT_INFO_NORMAL: '正常信息',
        obs.OBS_TEXT_INFO_WARNING: '警告信息',
        obs.OBS_TEXT_INFO_ERROR: '错误信息'
    }
    """只读文本框的消息类型 说明字典"""

    information4frontend_event: Dict[int, str] = {
        # 推流相关事件
        obs.OBS_FRONTEND_EVENT_STREAMING_STARTING: "推流正在启动",
        obs.OBS_FRONTEND_EVENT_STREAMING_STARTED: "推流已开始",
        obs.OBS_FRONTEND_EVENT_STREAMING_STOPPING: "推流正在停止",
        obs.OBS_FRONTEND_EVENT_STREAMING_STOPPED: "推流已停止",

        # 录制相关事件
        obs.OBS_FRONTEND_EVENT_RECORDING_STARTING: "录制正在启动",
        obs.OBS_FRONTEND_EVENT_RECORDING_STARTED: "录制已开始",
        obs.OBS_FRONTEND_EVENT_RECORDING_STOPPING: "录制正在停止",
        obs.OBS_FRONTEND_EVENT_RECORDING_STOPPED: "录制已停止",
        obs.OBS_FRONTEND_EVENT_RECORDING_PAUSED: "录制已暂停",
        obs.OBS_FRONTEND_EVENT_RECORDING_UNPAUSED: "录制已恢复",

        # 回放缓存相关事件
        obs.OBS_FRONTEND_EVENT_REPLAY_BUFFER_STARTING: "回放缓存正在启动",
        obs.OBS_FRONTEND_EVENT_REPLAY_BUFFER_STARTED: "回放缓存已开始",
        obs.OBS_FRONTEND_EVENT_REPLAY_BUFFER_STOPPING: "回放缓存正在停止",
        obs.OBS_FRONTEND_EVENT_REPLAY_BUFFER_STOPPED: "回放缓存已停止",
        obs.OBS_FRONTEND_EVENT_REPLAY_BUFFER_SAVED: "回放已保存",

        # 场景相关事件
        obs.OBS_FRONTEND_EVENT_SCENE_CHANGED: "当前场景已改变",
        obs.OBS_FRONTEND_EVENT_PREVIEW_SCENE_CHANGED: "预览场景已改变",
        obs.OBS_FRONTEND_EVENT_SCENE_LIST_CHANGED: "场景列表已改变",

        # 转场相关事件
        obs.OBS_FRONTEND_EVENT_TRANSITION_CHANGED: "转场效果已改变",
        obs.OBS_FRONTEND_EVENT_TRANSITION_STOPPED: "转场效果已停止",
        obs.OBS_FRONTEND_EVENT_TRANSITION_LIST_CHANGED: "转场列表已改变",
        obs.OBS_FRONTEND_EVENT_TRANSITION_DURATION_CHANGED: "转场持续时间已更改",

        # 配置文件相关事件
        obs.OBS_FRONTEND_EVENT_PROFILE_CHANGING: "配置文件即将切换",
        obs.OBS_FRONTEND_EVENT_PROFILE_CHANGED: "配置文件已切换",
        obs.OBS_FRONTEND_EVENT_PROFILE_LIST_CHANGED: "配置文件列表已改变",
        obs.OBS_FRONTEND_EVENT_PROFILE_RENAMED: "配置文件已重命名",

        # 场景集合相关事件
        obs.OBS_FRONTEND_EVENT_SCENE_COLLECTION_CHANGING: "场景集合即将切换",
        obs.OBS_FRONTEND_EVENT_SCENE_COLLECTION_CHANGED: "场景集合已切换",
        obs.OBS_FRONTEND_EVENT_SCENE_COLLECTION_LIST_CHANGED: "场景集合列表已改变",
        obs.OBS_FRONTEND_EVENT_SCENE_COLLECTION_RENAMED: "场景集合已重命名",
        obs.OBS_FRONTEND_EVENT_SCENE_COLLECTION_CLEANUP: "场景集合清理完成",

        # 工作室模式事件
        obs.OBS_FRONTEND_EVENT_STUDIO_MODE_ENABLED: "工作室模式已启用",
        obs.OBS_FRONTEND_EVENT_STUDIO_MODE_DISABLED: "工作室模式已禁用",

        # 系统级事件
        obs.OBS_FRONTEND_EVENT_EXIT: "OBS 即将退出",
        obs.OBS_FRONTEND_EVENT_FINISHED_LOADING: "OBS 完成加载",
        obs.OBS_FRONTEND_EVENT_SCRIPTING_SHUTDOWN: "脚本关闭中",

        # 虚拟摄像头事件
        obs.OBS_FRONTEND_EVENT_VIRTUALCAM_STARTED: "虚拟摄像头已启动",
        obs.OBS_FRONTEND_EVENT_VIRTUALCAM_STOPPED: "虚拟摄像头已停止",

        # 控制条事件
        obs.OBS_FRONTEND_EVENT_TBAR_VALUE_CHANGED: "转场控制条(T-Bar)值已改变",

        # OBS 28+ 新增事件
        obs.OBS_FRONTEND_EVENT_SCREENSHOT_TAKEN: "截图已完成",
        obs.OBS_FRONTEND_EVENT_THEME_CHANGED: "主题已更改"
    }
    """obs前台事件 说明字典"""

    log_type: Dict[int, str] = {
        obs.LOG_INFO: "INFO",
        obs.LOG_DEBUG: "DEBUG",
        obs.LOG_WARNING: "WARNING",
        obs.LOG_ERROR: "ERROR"
    }
    """obs日志警告等级 说明字典"""

    information4login_qr_return_code: Dict[int, str] = {
        0: "登录成功",
        86101: "未扫码",
        86090: "二维码已扫码未确认",
        86038: "二维码已失效",
    }
    """登陆二维码返回码 说明字典"""


def log_save(log_level, log_str: str) -> None:
    """
    输出并保存日志
    Args:
        log_level: 日志等级

            - obs.LOG_INFO
            - obs.LOG_DEBUG
            - obs.LOG_WARNING
            - obs.LOG_ERROR
        log_str: 日志内容
    Returns: None
    """
    now: datetime = datetime.now()
    formatted: str = now.strftime("%Y/%m/%d %H:%M:%S")
    log_text: str = f"{script_version} 【{formatted}】【{ExplanatoryDictionary.log_type[log_level]}】 \t{log_str}"
    obs.script_log(log_level, log_str)
    GlobalVariableOfData.logRecording += log_text + "\n"


@dataclass
class ControlBase:
    """控件基类"""
    ControlType: Literal[
        "Base", "CheckBox", "DigitalDisplay", "TextBox", "Button", "ComboBox", "PathBox", "Group"] = "Base"
    """📵控件的基本类型"""
    Obj: Any = None
    """📵控件的obs对象"""
    Props: str = None
    """📵控件属于哪个属性集"""
    Number: int = 0
    """📵控件的加载顺序数"""
    Name: str = ""
    """📵控件的唯一名"""
    Description: str = ""
    """📵控件显示给用户的信息"""
    Visible: bool = False
    """控件的可见状态"""
    Enabled: bool = False
    """控件的可用状态"""
    ModifiedIs: bool = False
    """📵控件变动是否触发钩子函数"""


class Widget:
    """表单管理器，管理所有控件"""

    class CheckBoxPs:
        """复选框控件管理器"""

        @dataclass
        class CheckBoxP(ControlBase):
            """复选框控件实例"""
            ControlType: str = "CheckBox"
            """📵复选框的控件类型为 CheckBox"""
            Bool: bool = False
            """复选框的选中状态"""

            def __repr__(self) -> str:
                type_name = "未知类复选框"
                return f"<CheckBoxP Name='{self.Name}' Number={self.Number} Type='{type_name}' Bool={self.Bool}>"

        def __init__(self):
            self._controls: Dict[str, Widget.CheckBoxPs.CheckBoxP] = {}
            self._loading_order: List[Widget.CheckBoxPs.CheckBoxP] = []

        def add(self, name: str, **kwargs) -> CheckBoxP:
            """添加复选框控件"""
            if name in self._controls:
                raise ValueError(f"复选框 '{name}' 已存在")
            # 确保Name属性设置正确
            if "Name" not in kwargs:
                kwargs["Name"] = name
            control = Widget.CheckBoxPs.CheckBoxP(**kwargs)
            self._controls[name] = control
            self._loading_order.append(control)
            setattr(self, name, control)
            return control

        def get(self, name: str) -> Optional[CheckBoxP]:
            """获取复选框控件"""
            return self._controls.get(name)

        def remove(self, name: str) -> bool:
            """移除复选框控件"""
            if name in self._controls:
                control = self._controls.pop(name)
                if hasattr(self, name):
                    delattr(self, name)
                if control in self._loading_order:
                    self._loading_order.remove(control)
                return True
            return False

        def __iter__(self) -> Iterator[CheckBoxP]:
            """迭代所有复选框控件"""
            return iter(self._controls.values())

        def __len__(self) -> int:
            """复选框控件数量"""
            return len(self._controls)

        def __contains__(self, name: str) -> bool:
            """检查复选框控件是否存在"""
            return name in self._controls

        def get_loading_order(self) -> List[CheckBoxP]:
            """获取按载入次序排序的复选框控件列表"""
            return sorted(self._loading_order, key=lambda c: c.Number)

    class DigitalDisplayPs:
        """数字框控件管理器"""

        @dataclass
        class DigitalDisplayP(ControlBase):
            """数字框控件实例"""
            ControlType: str = "DigitalDisplay"
            """📵数字框的控件类型为 PathBox"""
            Type: Literal["ThereIsASlider", "NoSlider"] = ""
            """📵数字框的类型"""
            Value: int = 0
            """数字框显示的数值"""
            Suffix: str = ""
            """数字框显示的数值的单位"""
            Min: int = 0
            """数字框显示的数值的最小值"""
            Max: int = 0
            """数字框显示的数值的最大值"""
            Step: int = 0
            """数字框显示的步长"""

            def __repr__(self) -> str:
                type_name = "滑块数字框" if self.Type == "ThereIsASlider" else "普通数字框"
                return f"<DigitalDisplayP Name='{self.Name}' Number={self.Number} Type='{type_name}' Min={self.Min} Max={self.Max}>"

        def __init__(self):
            self._controls: Dict[str, Widget.DigitalDisplayPs.DigitalDisplayP] = {}
            self._loading_order: List[Widget.DigitalDisplayPs.DigitalDisplayP] = []

        def add(self, name: str, **kwargs) -> DigitalDisplayP:
            """添加数字框控件"""
            if name in self._controls:
                raise ValueError(f"数字框 '{name}' 已存在")
            # 确保Name属性设置正确
            if "Name" not in kwargs:
                kwargs["Name"] = name
            control = Widget.DigitalDisplayPs.DigitalDisplayP(**kwargs)
            self._controls[name] = control
            self._loading_order.append(control)
            setattr(self, name, control)
            return control

        def get(self, name: str) -> Optional[DigitalDisplayP]:
            """获取数字框控件"""
            return self._controls.get(name)

        def remove(self, name: str) -> bool:
            """移除数字框控件"""
            if name in self._controls:
                control = self._controls.pop(name)
                if hasattr(self, name):
                    delattr(self, name)
                if control in self._loading_order:
                    self._loading_order.remove(control)
                return True
            return False

        def __iter__(self) -> Iterator[DigitalDisplayP]:
            """迭代所有数字框控件"""
            return iter(self._controls.values())

        def __len__(self) -> int:
            """数字框控件数量"""
            return len(self._controls)

        def __contains__(self, name: str) -> bool:
            """检查数字框控件是否存在"""
            return name in self._controls

        def get_loading_order(self) -> List[DigitalDisplayP]:
            """获取按载入次序排序的数字框控件列表"""
            return sorted(self._loading_order, key=lambda c: c.Number)

    class TextBoxPs:
        """文本框控件管理器"""

        @dataclass
        class TextBoxP(ControlBase):
            """文本框控件实例"""
            ControlType: str = "TextBox"
            """📵文本框的控件类型为 TextBox"""
            Type: Optional[int] = None  # 文本框类型
            """📵文本框的类型"""
            LongDescription: str = ""
            """📵长描述"""
            Text: str = ""
            """文本框显示的文字"""
            InfoType: Any = obs.OBS_TEXT_INFO_NORMAL  # 信息类型
            """
            文本框中文字的警告类型
            obs.OBS_TEXT_INFO_NORMAL, obs.OBS_TEXT_INFO_WARNING, obs.OBS_TEXT_INFO_ERROR
            """

            def __repr__(self) -> str:
                type_name = "未知类文本框"
                if self.Type == obs.OBS_TEXT_DEFAULT:
                    type_name = "单行文本"
                elif self.Type == obs.OBS_TEXT_PASSWORD:
                    type_name = "单行文本（带密码）"
                elif self.Type == obs.OBS_TEXT_MULTILINE:
                    type_name = "多行文本"
                elif self.Type == obs.OBS_TEXT_INFO:
                    type_name = "只读信息文本"
                return f"<TextBoxP Name='{self.Name}' Number={self.Number} Type='{type_name}' Text='{self.Text}'>"

        def __init__(self):
            self._controls: Dict[str, Widget.TextBoxPs.TextBoxP] = {}
            self._loading_order: List[Widget.TextBoxPs.TextBoxP] = []

        def add(self, name: str, **kwargs) -> TextBoxP:
            """添加文本框控件"""
            if name in self._controls:
                raise ValueError(f"文本框 '{name}' 已存在")
            # 确保Name属性设置正确
            if "Name" not in kwargs:
                kwargs["Name"] = name
            control = Widget.TextBoxPs.TextBoxP(**kwargs)
            self._controls[name] = control
            self._loading_order.append(control)
            setattr(self, name, control)
            return control

        def get(self, name: str) -> Optional[TextBoxP]:
            """获取文本框控件"""
            return self._controls.get(name)

        def remove(self, name: str) -> bool:
            """移除文本框控件"""
            if name in self._controls:
                control = self._controls.pop(name)
                if hasattr(self, name):
                    delattr(self, name)
                if control in self._loading_order:
                    self._loading_order.remove(control)
                return True
            return False

        def __iter__(self) -> Iterator[TextBoxP]:
            """迭代所有文本框控件"""
            return iter(self._controls.values())

        def __len__(self) -> int:
            """文本框控件数量"""
            return len(self._controls)

        def __contains__(self, name: str) -> bool:
            """检查文本框控件是否存在"""
            return name in self._controls

        def get_loading_order(self) -> List[TextBoxP]:
            """获取按载入次序排序的文本框控件列表"""
            return sorted(self._loading_order, key=lambda c: c.Number)

    class ButtonPs:
        """按钮控件管理器"""

        @dataclass
        class ButtonP(ControlBase):
            """按钮控件实例"""
            ControlType: str = "Button"
            """📵按钮的控件类型为 Button"""
            Type: Optional[int] = None  # 按钮类型
            """📵按钮的类型 """
            Callback: Optional[Callable[[Any, Any], Literal[True, False]]] = None  # 回调函数
            """📵按钮被按下后触发的回调函数"""
            Url: str = ""  # 需要打开的 URL
            """📵URL类型的按钮被按下后跳转的URL"""

            def __repr__(self) -> str:
                type_name = "未知类按钮"
                if self.Type == obs.OBS_BUTTON_DEFAULT:
                    type_name = "标准按钮"
                elif self.Type == obs.OBS_BUTTON_URL:
                    type_name = "打开 URL 的按钮"
                return f"<ButtonP Name='{self.Name}' Number={self.Number} Type='{type_name}' Callback={self.Callback is not None}>"

        def __init__(self):
            self._controls: Dict[str, Widget.ButtonPs.ButtonP] = {}
            self._loading_order: List[Widget.ButtonPs.ButtonP] = []

        def add(self, name: str, **kwargs) -> ButtonP:
            """添加按钮控件"""
            if name in self._controls:
                raise ValueError(f"按钮 '{name}' 已存在")
            # 确保Name属性设置正确
            if "Name" not in kwargs:
                kwargs["Name"] = name
            control = Widget.ButtonPs.ButtonP(**kwargs)
            self._controls[name] = control
            self._loading_order.append(control)
            setattr(self, name, control)
            return control

        def get(self, name: str) -> Optional[ButtonP]:
            """获取按钮控件"""
            return self._controls.get(name)

        def remove(self, name: str) -> bool:
            """移除按钮控件"""
            if name in self._controls:
                control = self._controls.pop(name)
                if hasattr(self, name):
                    delattr(self, name)
                if control in self._loading_order:
                    self._loading_order.remove(control)
                return True
            return False

        def __iter__(self) -> Iterator[ButtonP]:
            """迭代所有按钮控件"""
            return iter(self._controls.values())

        def __len__(self) -> int:
            """按钮控件数量"""
            return len(self._controls)

        def __contains__(self, name: str) -> bool:
            """检查按钮控件是否存在"""
            return name in self._controls

        def get_loading_order(self) -> List[ButtonP]:
            """获取按载入次序排序的按钮控件列表"""
            return sorted(self._loading_order, key=lambda c: c.Number)

    class ComboBoxPs:
        """组合框控件管理器"""

        @dataclass
        class ComboBoxP(ControlBase):
            """组合框控件实例"""
            ControlType: str = "ComboBox"
            """📵组合框的控件类型为 ComboBox"""
            Type: Optional[int] = None  # 组合框类型
            """📵组合框类型"""
            LongDescription: str = ""
            """📵长描述"""
            Text: str = ""
            """组合框显示的文字"""
            Value: str = ""
            """组合框显示的文字对应的值"""
            Dictionary: Dict[str, Any] = field(default_factory=dict)  # 数据字典
            """组合框选项字典"""

            def __repr__(self) -> str:
                type_name = "未知类组合框"
                if self.Type == obs.OBS_COMBO_TYPE_EDITABLE:
                    type_name = "可以编辑。 仅与字符串列表一起使用"
                elif self.Type == obs.OBS_COMBO_TYPE_LIST:
                    type_name = "不可编辑。显示为组合框"
                elif self.Type == obs.OBS_COMBO_TYPE_RADIO:
                    type_name = "不可编辑。显示为单选按钮"
                return f"<ComboBoxP Name='{self.Name}' Number={self.Number} Type='{type_name}' Text='{self.Text}'>"

        def __init__(self):
            self._controls: Dict[str, Widget.ComboBoxPs.ComboBoxP] = {}
            self._loading_order: List[Widget.ComboBoxPs.ComboBoxP] = []

        def add(self, name: str, **kwargs) -> ComboBoxP:
            """添加组合框控件"""
            if name in self._controls:
                raise ValueError(f"组合框 '{name}' 已存在")
            # 确保Name属性设置正确
            if "Name" not in kwargs:
                kwargs["Name"] = name
            control = Widget.ComboBoxPs.ComboBoxP(**kwargs)
            self._controls[name] = control
            self._loading_order.append(control)
            setattr(self, name, control)
            return control

        def get(self, name: str) -> Optional[ComboBoxP]:
            """获取组合框控件"""
            return self._controls.get(name)

        def remove(self, name: str) -> bool:
            """移除组合框控件"""
            if name in self._controls:
                control = self._controls.pop(name)
                if hasattr(self, name):
                    delattr(self, name)
                if control in self._loading_order:
                    self._loading_order.remove(control)
                return True
            return False

        def __iter__(self) -> Iterator[ComboBoxP]:
            """迭代所有组合框控件"""
            return iter(self._controls.values())

        def __len__(self) -> int:
            """组合框控件数量"""
            return len(self._controls)

        def __contains__(self, name: str) -> bool:
            """检查组合框控件是否存在"""
            return name in self._controls

        def get_loading_order(self) -> List[ComboBoxP]:
            """获取按载入次序排序的组合框控件列表"""
            return sorted(self._loading_order, key=lambda c: c.Number)

    class PathBoxPs:
        """路径对话框控件管理器"""

        @dataclass
        class PathBoxP(ControlBase):
            """路径对话框控件实例"""
            ControlType: str = "PathBox"
            """📵路径对话框的控件类型为 PathBox"""
            Type: Optional[int] = None  # 路径对话框类型
            """📵路径对话框的类型"""
            Text: str = ""
            """路径对话框显示的路径"""
            Filter: Optional[str] = ""  # 文件种类（筛选条件）
            """路径对话框筛选的文件种类（筛选条件）"""
            StartPath: str = ""  # 对话框起始路径
            """路径对话框选择文件的起始路径"""

            def __repr__(self) -> str:
                type_name = "未知类型路径对话框"
                if self.Type == obs.OBS_PATH_FILE:
                    type_name = "文件对话框"
                elif self.Type == obs.OBS_PATH_FILE_SAVE:
                    type_name = "保存文件对话框"
                elif self.Type == obs.OBS_PATH_DIRECTORY:
                    type_name = "文件夹对话框"
                return f"<PathBoxP Name='{self.Name}' Number={self.Number} Type='{type_name}' Text='{self.Text}'>"

        def __init__(self):
            self._controls: Dict[str, Widget.PathBoxPs.PathBoxP] = {}
            self._loading_order: List[Widget.PathBoxPs.PathBoxP] = []

        def add(self, name: str, **kwargs) -> PathBoxP:
            """添加路径对话框控件"""
            if name in self._controls:
                raise ValueError(f"路径对话框 '{name}' 已存在")
            # 确保Name属性设置正确
            if "Name" not in kwargs:
                kwargs["Name"] = name
            control = Widget.PathBoxPs.PathBoxP(**kwargs)
            self._controls[name] = control
            self._loading_order.append(control)
            setattr(self, name, control)
            return control

        def get(self, name: str) -> Optional[PathBoxP]:
            """获取路径对话框控件"""
            return self._controls.get(name)

        def remove(self, name: str) -> bool:
            """移除路径对话框控件"""
            if name in self._controls:
                control = self._controls.pop(name)
                if hasattr(self, name):
                    delattr(self, name)
                if control in self._loading_order:
                    self._loading_order.remove(control)
                return True
            return False

        def __iter__(self) -> Iterator[PathBoxP]:
            """迭代所有路径对话框控件"""
            return iter(self._controls.values())

        def __len__(self) -> int:
            """路径对话框控件数量"""
            return len(self._controls)

        def __contains__(self, name: str) -> bool:
            """检查路径对话框控件是否存在"""
            return name in self._controls

        def get_loading_order(self) -> List[PathBoxP]:
            """获取按载入次序排序的路径对话框控件列表"""
            return sorted(self._loading_order, key=lambda c: c.Number)

    class GroupPs:
        """分组框控件管理器"""

        @dataclass
        class GroupP(ControlBase):
            """分组框控件实例（独立控件）"""
            ControlType: str = "Group"
            """📵分组框的控件类型为 Group"""
            Type: Any = None  # 分组框类型
            """
            📵分组框的类型
            [obs.OBS_GROUP_NORMAL, obs.OBS_GROUP_CHECKABLE]
            """
            GroupProps: Any = None  # 统辖属性集
            """📵分组框的自身控件属性集"""
            Bool: Any = False
            """带复选框的分组框的选中状态"""

            def __repr__(self) -> str:
                type_name = "未知类分组框"
                if self.Type == obs.OBS_GROUP_NORMAL:
                    type_name = "只有名称和内容的普通组"
                elif self.Type == obs.OBS_GROUP_CHECKABLE:
                    type_name = "具有复选框、名称和内容的可选组"
                return f"<GroupP Name='{self.Name}' Number={self.Number} Type='{type_name}'>"

        def __init__(self):
            self._groups: Dict[str, Widget.GroupPs.GroupP] = {}
            self._loading_order: List[Widget.GroupPs.GroupP] = []

        def add(self, name: str, **kwargs) -> GroupP:
            """添加分组框控件"""
            if name in self._groups:
                raise ValueError(f"分组框 '{name}' 已存在")
            # 确保Name属性设置正确
            if "Name" not in kwargs:
                kwargs["Name"] = name
            group = Widget.GroupPs.GroupP(**kwargs)
            self._groups[name] = group
            self._loading_order.append(group)
            setattr(self, name, group)
            return group

        def get(self, name: str) -> Optional[GroupP]:
            """获取分组框控件"""
            return self._groups.get(name)

        def remove(self, name: str) -> bool:
            """移除分组框控件"""
            if name in self._groups:
                group = self._groups.pop(name)
                if hasattr(self, name):
                    delattr(self, name)
                if group in self._loading_order:
                    self._loading_order.remove(group)
                return True
            return False

        def __iter__(self) -> Iterator[GroupP]:
            """迭代所有分组框控件"""
            return iter(self._groups.values())

        def __len__(self) -> int:
            """分组框控件数量"""
            return len(self._groups)

        def __contains__(self, name: str) -> bool:
            """检查分组框控件是否存在"""
            return name in self._groups

        def get_loading_order(self) -> List[GroupP]:
            """获取按载入次序排序的分组框控件列表"""
            return sorted(self._loading_order, key=lambda c: c.Number)

    def __init__(self):
        """初始化表单管理器"""
        self.CheckBox = Widget.CheckBoxPs()
        """复选框"""
        self.DigitalDisplay = Widget.DigitalDisplayPs()
        """数字框"""
        self.TextBox = Widget.TextBoxPs()
        """文本框"""
        self.Button = Widget.ButtonPs()
        """按钮"""
        self.ComboBox = Widget.ComboBoxPs()
        """组合框"""
        self.PathBox = Widget.PathBoxPs()
        """路径对话框"""
        self.Group = Widget.GroupPs()
        """分组框"""
        self.widget_Button_dict: Dict[str, Dict[str, Dict[str, str]]] = {}
        """按钮控件名称列表【属性集ps】【控件在自己类中的对象名】【"Name"|"Description"】【控件唯一名|控件用户层介绍】"""
        self.widget_Group_dict: Dict[str, Dict[str, Dict[str, str]]] = {}
        """分组框控件名称列表【属性集ps】【控件在自己类中的对象名】【"Name"|"Description"】【控件唯一名|控件用户层介绍】"""
        self.widget_TextBox_dict: Dict[str, Dict[str, Dict[str, str]]] = {}
        """文本框控件名称列表【属性集ps】【控件在自己类中的对象名】【"Name"|"Description"】【控件唯一名|控件用户层介绍】"""
        self.widget_ComboBox_dict: Dict[str, Dict[str, Dict[str, str]]] = {}
        """组合框控件名称列表【属性集ps】【控件在自己类中的对象名】【"Name"|"Description"】【控件唯一名|控件用户层介绍】"""
        self.widget_PathBox_dict: Dict[str, Dict[str, Dict[str, str]]] = {}
        """路径对话框控件名称列表【属性集ps】【控件在自己类中的对象名】【"Name"|"Description"】【控件唯一名|控件用户层介绍】"""
        self.widget_DigitalDisplay_dict: Dict[str, Dict[str, Dict[str, str]]] = {}
        """数字框控件名称列表【属性集ps】【控件在自己类中的对象名】【"Name"|"Description"】【控件唯一名|控件用户层介绍】"""
        self.widget_CheckBox_dict: Dict[str, Dict[str, Dict[str, str]]] = {}
        """复选框控件名称列表【属性集ps】【控件在自己类中的对象名】【"Name"|"Description"】【控件唯一名|控件用户层介绍】"""
        self.widget_list: List[str] = []
        """一个用于规定控件加载顺序的列表"""
        self.props_Collection: Dict[str, Set[str]] = {}
        """一个用于记录控件属性集名称的集合"""
        self._all_controls: List[Any] = []
        self._loading_dict: Dict[int, Any] = {}

    @property
    def widget_dict_all(self) -> Dict[
        Literal["Button", "Group", "TextBox", "ComboBox", "PathBox", "DigitalDisplay", "CheckBox"], Dict[
            str, Dict[str, Dict[str, Union[Callable[[Any, Any], bool], str]]]]]:
        """记录7大控件类型的所有控件的不变属性"""
        return {
            "Button": self.widget_Button_dict,
            "Group": self.widget_Group_dict,
            "TextBox": self.widget_TextBox_dict,
            "ComboBox": self.widget_ComboBox_dict,
            "PathBox": self.widget_PathBox_dict,
            "DigitalDisplay": self.widget_DigitalDisplay_dict,
            "CheckBox": self.widget_CheckBox_dict,
        }

    @property
    def verification_number_controls(self):
        """和排序列表进行控件数量验证"""
        return len(self.widget_list) == len(self.get_sorted_controls())

    def _update_all_controls(self):
        """更新所有控件列表"""
        self._all_controls = []
        # 收集所有类型的控件
        self._all_controls.extend(self.CheckBox)
        self._all_controls.extend(self.DigitalDisplay)
        self._all_controls.extend(self.TextBox)
        self._all_controls.extend(self.Button)
        self._all_controls.extend(self.ComboBox)
        self._all_controls.extend(self.PathBox)
        self._all_controls.extend(self.Group)

    def loading(self):
        """按载入次序排序所有控件"""
        self._update_all_controls()
        # 按Number属性排序
        sorted_controls = sorted(self._all_controls, key=lambda c: c.Number)
        name_dict = {}  # 用于检测名称冲突

        # 创建载入次序字典
        self._loading_dict = {}
        for control in sorted_controls:
            # 检查名称冲突
            if control.Name in name_dict:
                existing_control = name_dict[control.Name]
                raise ValueError(
                    f"控件名称冲突: 控件 '{control.Name}' "
                    f"(类型: {type(control).__name__}, 载入次序: {control.Number}) 与 "
                    f"'{existing_control.Name}' "
                    f"(类型: {type(existing_control).__name__}, 载入次序: {existing_control.Number}) 重名"
                )
            else:
                name_dict[control.Name] = control
            if control.Number in self._loading_dict:
                existing_control = self._loading_dict[control.Number]
                raise ValueError(
                    f"载入次序冲突: 控件 '{control.Name}' (类型: {type(control).__name__}) 和 "
                    f"'{existing_control.Name}' (类型: {type(existing_control).__name__}) "
                    f"使用相同的Number值 {control.Number}"
                )
            self._loading_dict[control.Number] = control

    def get_control_by_number(self, number: int) -> Optional[Any]:
        """通过载入次序获取控件"""
        self.loading()  # 确保已排序
        return self._loading_dict.get(number)

    def get_control_by_name(self, name: str) -> Optional[Any]:
        """通过名称获取控件"""
        # 在顶级控件中查找
        for manager in [self.CheckBox, self.DigitalDisplay, self.TextBox,
                        self.Button, self.ComboBox, self.PathBox, self.Group]:
            if name in manager:
                return manager.get(name)
        return None

    def get_sorted_controls(self) -> List[Any]:
        """获取按载入次序排序的所有控件列表"""
        self.loading()
        return list(self._loading_dict.values())

    def clean(self):
        """清除所有控件并重置表单"""
        # 重置所有控件管理器
        self.CheckBox = Widget.CheckBoxPs()
        self.DigitalDisplay = Widget.DigitalDisplayPs()
        self.TextBox = Widget.TextBoxPs()
        self.Button = Widget.ButtonPs()
        self.ComboBox = Widget.ComboBoxPs()
        self.PathBox = Widget.PathBoxPs()
        self.Group = Widget.GroupPs()

        # 清空内部存储
        self._all_controls = []
        self._loading_dict = {}

        return self  # 支持链式调用

    def preliminary_configuration_control(self):
        """
        创建初始控件
        """
        for basic_types_controls in self.widget_dict_all:
            log_save(obs.LOG_INFO, f"{basic_types_controls}")
            for Ps in self.widget_dict_all[basic_types_controls]:
                if Ps not in  self.props_Collection:
                    self.props_Collection[Ps] = set()
                log_save(obs.LOG_INFO, f"\t{Ps}")
                for name in self.widget_dict_all[basic_types_controls][Ps]:
                    widget_types_controls = getattr(self, basic_types_controls)
                    widget_types_controls.add(name)
                    log_save(obs.LOG_INFO, f"\t\t添加 {name}")
                    obj = getattr(widget_types_controls, name)
                    obj.Name = self.widget_dict_all[basic_types_controls][Ps][name]["Name"]
                    self.props_Collection[Ps].add(obj.Name)
                    if obj.ControlType in ["DigitalDisplay", "TextBox", "Button", "ComboBox", "PathBox", "Group"]:
                        obj.Type = self.widget_dict_all[basic_types_controls][Ps][name]["Type"]
                    if obj.ControlType in ["Button"]:
                        obj.Callback = self.widget_dict_all[basic_types_controls][Ps][name]["Callback"]
                        if "Url" in self.widget_dict_all[basic_types_controls][Ps][name] or obj.Type == obs.OBS_BUTTON_URL:
                            obj.Url = self.widget_dict_all[basic_types_controls][Ps][name]["Url"]
                    if obj.ControlType in ["Group"]:
                        obj.GroupProps = self.widget_dict_all[basic_types_controls][Ps][name]["GroupProps"]
                    if obj.ControlType in ["TextBox"] or obj.ControlType in ["ComboBox"]:
                        obj.LongDescription = self.widget_dict_all[basic_types_controls][Ps][name].get("LongDescription", "")
                    if obj.ControlType in ["DigitalDisplay"]:
                        obj.Suffix = self.widget_dict_all[basic_types_controls][Ps][name]["Suffix"]
                    if obj.ControlType in ["PathBox"]:
                        obj.Filter = self.widget_dict_all[basic_types_controls][Ps][name]["Filter"]
                        obj.StartPath = self.widget_dict_all[basic_types_controls][Ps][name]["StartPath"]
                    obj.Number = self.widget_list.index(obj.Name)
                    obj.ModifiedIs = self.widget_dict_all[basic_types_controls][Ps][name]["ModifiedIs"]
                    obj.Description = self.widget_dict_all[basic_types_controls][Ps][name]["Description"]
                    obj.Props = Ps

    def __repr__(self) -> str:
        """返回表单的可读表示形式"""
        self._update_all_controls()
        return f"<Widget controls={len(self._all_controls)}>"


def trigger_frontend_event(event):
    """
    处理前端事件
    Args:
        event: obs前端事件

    Returns:

    """
    log_save(obs.LOG_INFO, f"监测到obs前端事件: {ExplanatoryDictionary.information4frontend_event[event]}")

    if GlobalVariableOfData.causeOfTheFrontDeskIncident:
        log_save(obs.LOG_INFO, f"此次 事件 由【{GlobalVariableOfData.causeOfTheFrontDeskIncident}】引起")

    if event == obs.OBS_FRONTEND_EVENT_STREAMING_STARTED:
        if not GlobalVariableOfData.causeOfTheFrontDeskIncident:
            log_save(obs.LOG_INFO, "此次 推流已开始 事件 由前台按钮【开始直播】引起")

        if not get_live_status():
            log_save(obs.LOG_INFO, "未开播，此次 推流已开始 事件 发送 直播申请")
            ButtonFunction.button_function_start_live()
        else:
            log_save(obs.LOG_INFO, "正在直播，此次 推流已开始 事件 不发送 直播申请")
        GlobalVariableOfData.causeOfTheFrontDeskIncident = ""
    elif event == obs.OBS_FRONTEND_EVENT_STREAMING_STOPPED:
        if not GlobalVariableOfData.causeOfTheFrontDeskIncident:
            log_save(obs.LOG_INFO, "此次 推流已结束 事件 由前台按钮【停止直播】引起")

        if GlobalVariableOfData.causeOfTheFrontDeskIncident == "开始直播并复制推流码":
            log_save(obs.LOG_INFO, "此次 推流已结束 事件 不发送 撤销直播申请")
        # else:
            # if get_live_status():
                # log_save(obs.LOG_INFO, "正在直播，此次 推流已结束 事件 发送 撤销直播申请")
                # ButtonFunction.button_function_stop_live()
        GlobalVariableOfData.causeOfTheFrontDeskIncident = ""
    # elif event == obs.OBS_FRONTEND_EVENT_FINISHED_LOADING:
        # 尝试关闭弹幕web
        # log_save(obs.LOG_INFO, "此次 OBS 完成加载 事件 清除哔哩哔哩弹幕浏览器源")
        # ButtonFunction.button_function_remove_danmu_browser()
    elif event == obs.OBS_FRONTEND_EVENT_SCRIPTING_SHUTDOWN:
        if get_live_status():
            log_save(obs.LOG_INFO, "正在直播，此次 脚本关闭中 事件 发送 撤销直播申请")
            ButtonFunction.button_function_stop_live()
    clear_cache()
    return True


def property_modified(t: str) -> bool:
    """
    控件变动拉钩
    Args:
        t: 控件全局唯一名

    Returns:

    """
    log_save(obs.LOG_INFO, f"检测到控件【{t}】变动事件")
    if t == "bottom_button":  # 这个按钮用来标记脚本开始构造控件
        log_save(obs.LOG_INFO, f"检测到脚本构造控件体开始，断开控件事件钩子")
        GlobalVariableOfData.isScript_propertiesIs = True
    if t == "top_button":
        log_save(obs.LOG_INFO, f"检测到脚本构造控件体结束，启动控件事件钩子")
        GlobalVariableOfData.isScript_propertiesIs = False
    if not GlobalVariableOfData.isScript_propertiesIs:
        if t == "room_parentArea_comboBox":
            return ButtonFunction.button_function_start_parent_area()
        elif t == "room_cover_fileDialogBox":
            return ButtonFunction.button_function_update_room_cover()
        elif t == "room_commonAreas_comboBox":
            return ButtonFunction.button_function_true_live_room_common_area()
        elif t == "live_bookings_day_digitalSlider":
            return ButtonFunction.button_function_true_live_appointment_day()
        elif t == "live_bookings_hour_digitalSlider":
            return ButtonFunction.button_function_true_live_appointment_hour()
        elif t == "live_bookings_minute_digitalSlider":
            return ButtonFunction.button_function_true_live_appointment_minute()
        elif t == "enter_room_display_checkBox":
            return ButtonFunction.button_function_setting_danmu_data()
        elif t in [group_info["Name"] for category in widget.widget_Group_dict.values() for group_info in category.values() if "Name" in group_info]:
            return ButtonFunction.button_function_set_widget_visibility()
        else:
            log_save(obs.LOG_INFO, t)
    else:
        log_save(obs.LOG_INFO, f"控件事件钩子已断开")
        return False
    return False


# --- 设置默认值
def script_defaults(settings):  # 设置其默认值
    """
    调用以设置与脚本关联的默认设置(如果有的话)。为了设置其默认值，您通常会调用默认值函数。
    :param settings:与脚本关联的设置。
    """
    # =================================================================================================================
    # 设置脚本属性=======================================================================================================
    GlobalVariableOfData.script_settings = settings

    if not widget.verification_number_controls:
        return None
    # 检查网络连接
    network_connection_info = Tools.check_network_connection()
    GlobalVariableOfData.networkConnectionStatus = network_connection_info["connected"]
    if GlobalVariableOfData.networkConnectionStatus:
        log_save(obs.LOG_INFO, f"⭐检查网络连接: {network_connection_info['message']}⭐")
    else:
        log_save(obs.LOG_ERROR, f"⚠️检查网络连接: {network_connection_info['message']}")
        log_save(obs.LOG_ERROR, f"❌{network_connection_info.get('error', '')}")
        return None
    ssl_verification_info = Tools.check_ssl_verification()
    GlobalVariableOfData.sslVerification = ssl_verification_info['success']
    log_save(obs.LOG_DEBUG, f"🥓[SSL] {ssl_verification_info['message']}")

    # 设置控件属性参数
    GlobalVariableOfData.scriptsDataDirpath = Path(f"{script_path()}bilibili-live")
    log_save(obs.LOG_INFO, f"║║脚本用户数据文件夹路径：{GlobalVariableOfData.scriptsDataDirpath}")
    GlobalVariableOfData.scriptsUsersConfigFilepath = Path(GlobalVariableOfData.scriptsDataDirpath) / "config.json"
    log_save(obs.LOG_INFO, f"║║脚本用户数据路径：{GlobalVariableOfData.scriptsUsersConfigFilepath}")
    GlobalVariableOfData.scriptsTempDir = Path(GlobalVariableOfData.scriptsDataDirpath) / "temp"
    os.makedirs(GlobalVariableOfData.scriptsTempDir, exist_ok=True)
    log_save(obs.LOG_INFO, f"║║脚本临时文件夹路径：{GlobalVariableOfData.scriptsTempDir}")
    GlobalVariableOfData.scriptsLogDir = Path(GlobalVariableOfData.scriptsDataDirpath) / "log"
    os.makedirs(GlobalVariableOfData.scriptsLogDir, exist_ok=True)
    log_save(obs.LOG_INFO, f"║║脚本日志文件夹路径：{GlobalVariableOfData.scriptsLogDir}")
    GlobalVariableOfData.scriptsCacheDir = Path(GlobalVariableOfData.scriptsDataDirpath) / "cache"
    os.makedirs(GlobalVariableOfData.scriptsCacheDir, exist_ok=True)
    log_save(obs.LOG_INFO, f"║║脚本缓存文件夹路径：{GlobalVariableOfData.scriptsCacheDir}")

    # =================================================================================================================
    # 设置属性集合=======================================================================================================
    psg_unv_name = set()
    for psg in get_common_widget_visibility():
        if not bool(get_common_widget_visibility().get(psg, True)):
            psg_unv_name |= widget.props_Collection[psg]
    log_save(obs.LOG_INFO, f"关闭显示：{psg_unv_name}")

    if not GlobalVariableOfData.update_widget_for_props_dict:
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
    log_save(obs.LOG_INFO, f"║║💫更新属性集为{GlobalVariableOfData.update_widget_for_props_dict}的控件")

    # # 设置控件属性
    # widget.Button.startScript.Visible = not GlobalVariableOfData.script_loading_is
    # widget.Button.startScript.Enabled = not GlobalVariableOfData.script_loading_is
    # if not GlobalVariableOfData.script_loading_is:
    #     return True

    update_widget_for_props_name = set()
    for props_name in GlobalVariableOfData.update_widget_for_props_dict:
        update_widget_for_props_name |= GlobalVariableOfData.update_widget_for_props_dict[props_name]
    # =================================================================================================================
    # 设置控件属性=======================================================================================================
    widget_specific_object = widget.Button.top
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else False
        widget_specific_object.Enabled = False

    widget_specific_object = widget.Group.account
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True
        widget_specific_object.Enabled = not bool(get_live_status())
        widget_specific_object.Bool = bool(get_common_widget_visibility().get(widget_specific_object.GroupProps, True))

    widget_specific_object = widget.Group.room
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True
        widget_specific_object.Enabled = True
        widget_specific_object.Bool = bool(get_common_widget_visibility().get(widget_specific_object.GroupProps, True))

    widget_specific_object = widget.Group.liveBroadcastCover
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True
        widget_specific_object.Enabled = True
        widget_specific_object.Bool = bool(get_common_widget_visibility().get(widget_specific_object.GroupProps, True))

    widget_specific_object = widget.Group.liveBroadcastTitle
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True
        widget_specific_object.Enabled = True
        widget_specific_object.Bool = bool(get_common_widget_visibility().get(widget_specific_object.GroupProps, True))

    widget_specific_object = widget.Group.liveBroadcastAnnouncement
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True
        widget_specific_object.Enabled = True
        widget_specific_object.Bool = bool(get_common_widget_visibility().get(widget_specific_object.GroupProps, True))

    widget_specific_object = widget.Group.liveStreamingSection
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True
        widget_specific_object.Enabled = True
        widget_specific_object.Bool = bool(get_common_widget_visibility().get(widget_specific_object.GroupProps, True))

    widget_specific_object = widget.Group.live
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())
        widget_specific_object.Bool = bool(get_common_widget_visibility().get(widget_specific_object.GroupProps, True))

    widget_specific_object = widget.Group.bookingSend
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())
        widget_specific_object.Bool = bool(get_common_widget_visibility().get(widget_specific_object.GroupProps, True))

    widget_specific_object = widget.Group.booking
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())
        widget_specific_object.Bool = bool(get_common_widget_visibility().get(widget_specific_object.GroupProps, True))

    widget_specific_object = widget.Group.danmu
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Bool = bool(get_common_widget_visibility().get(widget_specific_object.GroupProps, True))

    widget_specific_object = widget.Group.danmuDisplayOptions
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Bool = bool(get_common_widget_visibility().get(widget_specific_object.GroupProps, True))

    widget_specific_object = widget.Group.danmuOnOff
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Bool = bool(get_common_widget_visibility().get(widget_specific_object.GroupProps, True))

    widget_specific_object = widget.Group.danmuSend
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_common_danmu_roomid_dict() else False
        widget_specific_object.Enabled = True if get_common_danmu_roomid_dict() else False
        widget_specific_object.Bool = bool(get_common_widget_visibility().get(widget_specific_object.GroupProps, True))

    widget_specific_object = widget.Button.setWidgetVisibility
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else False
        widget_specific_object.Enabled = False

    widget_specific_object = widget.Button.bottom
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else False
        widget_specific_object.Enabled = False

    # 分组框【账号】
    # -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    widget_specific_object = widget.TextBox.loginStatus
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True
        widget_specific_object.Enabled = True
        if get_b_u_c_m().get_default_user_id():
            widget_specific_object.Text = f'{get_default_user_nickname()} 已登录'
        else:
            widget_specific_object.Text = '未登录，请登录后点击【更新账号列表】'
        if get_b_u_c_m().get_default_user_id():
            widget_specific_object.InfoType = obs.OBS_TEXT_INFO_NORMAL
        else:
            widget_specific_object.InfoType = obs.OBS_TEXT_INFO_WARNING

    widget_specific_object = widget.ComboBox.uid
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True
        widget_specific_object.Enabled = True
        widget_specific_object.Text = get_default_user_nickname() if get_b_u_c_m().get_default_user_id() else '添加或选择一个账号登录'
        widget_specific_object.Value = get_b_u_c_m().get_default_user_id() if get_b_u_c_m().get_default_user_id() else '-1'
        widget_specific_object.Dictionary = get_uid_nickname_dict()

    widget_specific_object = widget.Button.login
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_uid_nickname_dict() != {'添加或选择一个账号登录': '-1'} else False
        widget_specific_object.Enabled = True if get_uid_nickname_dict() != {'添加或选择一个账号登录': '-1'} else False

    widget_specific_object = widget.Button.accountListUpdate
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True
        widget_specific_object.Enabled = True

    widget_specific_object = widget.Button.qrAddAccount
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True
        widget_specific_object.Enabled = True

    widget_specific_object = widget.Button.qrPictureDisplay
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else False
        widget_specific_object.Enabled = False

    widget_specific_object = widget.Button.accountDelete
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_uid_nickname_dict() != {'添加或选择一个账号登录': '-1'} else False
        widget_specific_object.Enabled = True if get_uid_nickname_dict() != {'添加或选择一个账号登录': '-1'} else False

    widget_specific_object = widget.Button.accountBackup
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else False
        widget_specific_object.Enabled = False

    widget_specific_object = widget.Button.accountRestore
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else False
        widget_specific_object.Enabled = False

    widget_specific_object = widget.Button.logout
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False

    # 分组框【直播间】
    # -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    widget_specific_object = widget.TextBox.roomStatus
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True
        widget_specific_object.Enabled = True
        if get_b_u_c_m().get_default_user_id():
            if get_room_status():
                if get_live_status():
                    widget_specific_object.Text = f"{str(get_room_id())}直播中"
                else:
                    widget_specific_object.Text = f"{str(get_room_id())}未开播"
            else:
                widget_specific_object.Text = "无直播间"
        else:
            widget_specific_object.Text = "未登录"
        if get_b_u_c_m().get_default_user_id():
            if get_room_status():
                if get_live_status():
                    widget_specific_object.InfoType = obs.OBS_TEXT_INFO_NORMAL
                else:
                    widget_specific_object.InfoType = obs.OBS_TEXT_INFO_WARNING
            else:
                widget_specific_object.InfoType = obs.OBS_TEXT_INFO_WARNING
        else:
            widget_specific_object.InfoType = obs.OBS_TEXT_INFO_ERROR

    widget_specific_object = widget.Button.roomOpened
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else (not bool(get_room_status())) if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = (not bool(get_room_status())) if get_b_u_c_m().get_default_user_id() else False

    widget_specific_object = widget.Button.realNameAuthentication
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else False
        widget_specific_object.Enabled = False

    widget_specific_object = widget.Button.roomCoverView
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())

    widget_specific_object = widget.PathBox.roomCover
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())
        widget_specific_object.Text = ""

    widget_specific_object = widget.Button.roomCoverUpdate
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else False
        widget_specific_object.Enabled = False

    widget_specific_object = widget.ComboBox.roomCommonTitles
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())
        widget_specific_object.Text = get_room_title() if bool(get_room_status()) else ""
        widget_specific_object.Value = "0"
        widget_specific_object.Dictionary = get_common_title4number()

    widget_specific_object = widget.Button.roomTitleChange
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())

    widget_specific_object = widget.TextBox.roomNews
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())
        widget_specific_object.Text = get_room_news() if bool(get_room_status()) else ""

    widget_specific_object = widget.Button.roomNewsChange
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())

    widget_specific_object = widget.ComboBox.roomCommonAreas
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())
        if get_common_areas():
            common_areas_text = list(get_common_area_id_dict_str4common_area_name_dict_str().keys())[0]
            widget_specific_object.Text = common_areas_text
        else:
            widget_specific_object.Text = "无常用分区"
        if get_common_areas():
            common_areas_value = list(get_common_area_id_dict_str4common_area_name_dict_str().values())[0]
            widget_specific_object.Value = common_areas_value
        else:
            widget_specific_object.Value = "-1"
        widget_specific_object.Dictionary = get_common_area_id_dict_str4common_area_name_dict_str()

    widget_specific_object = widget.Button.roomCommonAreasTrue
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else False
        widget_specific_object.Enabled = False

    widget_specific_object = widget.ComboBox.roomParentArea
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())
        widget_specific_object.Text = str(get_area()["parent_area_name"]) if bool(get_area()) else "请选择一级分区"
        widget_specific_object.Value = str(get_area()["parent_area_id"]) if bool(get_area()) else "-1"
        widget_specific_object.Dictionary = get_parent_live_area_name4parent_live_area_id()

    widget_specific_object = widget.Button.roomParentAreaTrue
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else False
        widget_specific_object.Enabled = False

    widget_specific_object = widget.ComboBox.roomSubArea
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())
        widget_specific_object.Text = str(get_area()["area_name"]) if bool(get_area()) else "请确认一级分区"
        widget_specific_object.Value = str(get_area()["area_id"]) if bool(get_area()) else "-1"
        widget_specific_object.Dictionary = get_sub_live_area_name4sub_live_area_id()

    widget_specific_object = widget.Button.roomSubAreaTrue
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())

    widget_specific_object = widget.Button.bliveWebJump
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False

    # 分组框【直播】
    # -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    widget_specific_object = widget.Button.liveFaceAuth
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())

    widget_specific_object = widget.ComboBox.liveStreamingPlatform
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = not bool(get_live_status())
        if not bool(widget_specific_object.Text):
            widget_specific_object.Text = "直播姬（pc）"
        if not bool(widget_specific_object.Value):
            widget_specific_object.Value = "pc_link"
        widget_specific_object.Dictionary = {
            "直播姬（pc）": "pc_link", "web在线直播": "web_link", "bililink": "android_link"
        }

    widget_specific_object = widget.Button.liveStart
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if ((not get_live_status()) and get_room_status()) else False
        widget_specific_object.Enabled = True if ((not get_live_status()) and get_room_status()) else False

    widget_specific_object = widget.Button.liveRtmpAddressCopy
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if (get_live_status() and get_room_status()) else False
        widget_specific_object.Enabled = True if (get_live_status() and get_room_status()) else False

    widget_specific_object = widget.Button.liveRtmpCodeCopy
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if (get_live_status() and get_room_status()) else False
        widget_specific_object.Enabled = True if (get_live_status() and get_room_status()) else False

    widget_specific_object = widget.Button.liveStop
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if (get_live_status() and get_room_status()) else False
        widget_specific_object.Enabled = True if (get_live_status() and get_room_status()) else False

    # 分组框【直播预约】
    # -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    widget_specific_object = widget.DigitalDisplay.liveBookingsDay
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())
        widget_specific_object.Value = 0
        widget_specific_object.Min = 0
        widget_specific_object.Max = 180
        widget_specific_object.Step = 1

    widget_specific_object = widget.Button.liveBookingsDayTrue
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else False
        widget_specific_object.Enabled = False

    widget_specific_object = widget.DigitalDisplay.liveBookingsHour
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())
        widget_specific_object.Value = 0
        widget_specific_object.Min = 0
        widget_specific_object.Max = 23
        widget_specific_object.Step = 1

    widget_specific_object = widget.Button.liveBookingsHourTrue
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else False
        widget_specific_object.Enabled = False

    widget_specific_object = widget.DigitalDisplay.liveBookingsMinute
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())
        widget_specific_object.Value = 6
        widget_specific_object.Min = 5
        widget_specific_object.Max = 59
        widget_specific_object.Step = 1

    widget_specific_object = widget.Button.liveBookingsMinuteTrue
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else False
        widget_specific_object.Enabled = False

    widget_specific_object = widget.CheckBox.liveBookingsDynamic
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())
        widget_specific_object.Bool = False

    widget_specific_object = widget.TextBox.liveBookingsTitle
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())
        widget_specific_object.Text = ""

    widget_specific_object = widget.Button.liveBookingsCreate
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())

    widget_specific_object = widget.ComboBox.liveBookings
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())
        widget_specific_object.Text = "无直播预约"
        if get_b_u_c_m().get_default_user_id():
            if get_room_status():
                if get_reserve_list():
                    for reserve in get_reserve_list():
                        reserve_name = reserve['reserve_info']['name']
                        reserve_time = datetime.fromtimestamp(reserve['reserve_info']['live_plan_start_time'])
                        widget_specific_object.Text = f"{reserve_name}|{reserve_time}"
                else:
                    widget_specific_object.Text = "无直播预约"
            else:
                widget_specific_object.Text = '⚠️无直播间'
        else:
            widget_specific_object.Text = "⚠️未登录账号"
        if get_b_u_c_m().get_default_user_id():
            if get_room_status():
                if get_reserve_list():
                    for reserve in get_reserve_list():
                        widget_specific_object.Value = str(reserve['reserve_info']['sid'])
                else:
                    widget_specific_object.Value = "-1"
            else:
                widget_specific_object.Value = "-1"
        else:
            widget_specific_object.Value = "-1"
        widget_specific_object.Dictionary = get_reserve_name4reserve_sid()

    widget_specific_object = widget.Button.liveBookingsCancel
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else bool(get_room_status())
        widget_specific_object.Enabled = bool(get_room_status())

    # 分组框【弹幕】
    # -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    widget_specific_object = widget.DigitalDisplay.danmuNumCommentsClient
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        if get_b_u_c_m().get_default_user_id():
            if not GlobalVariableOfData.danmu_running:
                widget_specific_object.Enabled = True
            else:
                widget_specific_object.Enabled = False
        else:
            widget_specific_object.Enabled = False
        widget_specific_object.Value = int(get_common_danmu_setting()[0]) if get_common_danmu_setting() else 1
        widget_specific_object.Min = 1
        widget_specific_object.Max = 50
        widget_specific_object.Step = 1

    widget_specific_object = widget.DigitalDisplay.danmuIntervalNumCommentsClient
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        if get_b_u_c_m().get_default_user_id():
            if not GlobalVariableOfData.danmu_running:
                widget_specific_object.Enabled = True
            else:
                widget_specific_object.Enabled = False
        else:
            widget_specific_object.Enabled = False
        widget_specific_object.Value = int(get_common_danmu_setting()[1]) if get_common_danmu_setting() else 0
        widget_specific_object.Min = 0
        widget_specific_object.Max = 3000
        widget_specific_object.Step = 100

    widget_specific_object = widget.CheckBox.enterRoomDisplay
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Bool = bool(get_common_danmu_setting()[2]) if get_common_danmu_setting() else False

    widget_specific_object = widget.CheckBox.medalDisplay
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Bool = bool(get_common_danmu_setting()[3]) if get_common_danmu_setting() else False

    widget_specific_object = widget.CheckBox.medalOtherDisplay
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Bool = bool(get_common_danmu_setting()[4]) if get_common_danmu_setting() else False

    widget_specific_object = widget.CheckBox.medalUnLightDisplay
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Bool = bool(get_common_danmu_setting()[5]) if get_common_danmu_setting() else False

    widget_specific_object = widget.CheckBox.lineBreakDisplay
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Bool = bool(get_common_danmu_setting()[6]) if get_common_danmu_setting() else False

    widget_specific_object = widget.CheckBox.tagAdministratorDisplay
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Bool = bool(get_common_danmu_setting()[7]) if get_common_danmu_setting() else False

    widget_specific_object = widget.CheckBox.timestampDisplay
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Bool = bool(get_common_danmu_setting()[8]) if get_common_danmu_setting() else False

    widget_specific_object = widget.DigitalDisplay.danmuNumCacheEntries
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Value = int(get_common_danmu_setting()[9]) if get_common_danmu_setting() else 2
        widget_specific_object.Min = 2
        widget_specific_object.Max = 30
        widget_specific_object.Step = 1

    widget_specific_object = widget.DigitalDisplay.danmuCacheDuration
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Value = int(get_common_danmu_setting()[10]) if get_common_danmu_setting() else 1
        widget_specific_object.Min = 1
        widget_specific_object.Max = 10
        widget_specific_object.Step = 1

    widget_specific_object = widget.DigitalDisplay.danmuFacePictureSize
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Value = int(get_common_danmu_setting()[11]) if get_common_danmu_setting() else 1
        widget_specific_object.Min = 1
        widget_specific_object.Max = 100
        widget_specific_object.Step = 1

    widget_specific_object = widget.DigitalDisplay.danmuFanMedalTextSize
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Value = int(get_common_danmu_setting()[12]) if get_common_danmu_setting() else 1
        widget_specific_object.Min = 1
        widget_specific_object.Max = 100
        widget_specific_object.Step = 1

    widget_specific_object = widget.DigitalDisplay.danmuMessageTextSize
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Value = int(get_common_danmu_setting()[13]) if get_common_danmu_setting() else 1
        widget_specific_object.Min = 1
        widget_specific_object.Max = 100
        widget_specific_object.Step = 1

    widget_specific_object = widget.DigitalDisplay.danmuTimeTextSize
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Value = int(get_common_danmu_setting()[14]) if get_common_danmu_setting() else 1
        widget_specific_object.Min = 1
        widget_specific_object.Max = 100
        widget_specific_object.Step = 1

    widget_specific_object = widget.Button.settingDanmuData
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False

    widget_specific_object = widget.TextBox.danmuWebCss
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Text = get_common_danmu_web_css()

    widget_specific_object = widget.Button.applyDanmuCss
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False

    widget_specific_object = widget.TextBox.danmuWssProt
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        if get_b_u_c_m().get_default_user_id():
            if not GlobalVariableOfData.danmu_running:
                widget_specific_object.Enabled = True
            else:
                widget_specific_object.Enabled = False
        else:
            widget_specific_object.Enabled = False
        widget_specific_object.Text = get_common_danmu_web_socket_server_prot()

    widget_specific_object = widget.Button.confirmDanmuWssPort
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False

    widget_specific_object = widget.ComboBox.danmuRoom
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Text = str(list(get_common_danmu_roomid_dict().keys())[0]) if get_common_danmu_roomid_dict() else ""
        widget_specific_object.Value = str(list(get_common_danmu_roomid_dict().values())[0]) if get_common_danmu_roomid_dict() else ""
        widget_specific_object.Dictionary = get_common_danmu_roomid_dict()

    widget_specific_object = widget.Button.addDanmuRoomid
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False

    widget_specific_object = widget.Button.delDanmuRoomid
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False

    # 分组框【弹幕启动】
    # -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    widget_specific_object = widget.Button.startDanmuForwardingService
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else False
        widget_specific_object.Enabled = False

    widget_specific_object = widget.Button.addDanmuBrowser
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False

    widget_specific_object = widget.Button.startDanmu
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False

    widget_specific_object = widget.Button.stopDanmuForwardingService
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False

    widget_specific_object = widget.Button.removeDanmuBrowser
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_b_u_c_m().get_default_user_id() else False
        widget_specific_object.Enabled = True if get_b_u_c_m().get_default_user_id() else False

    widget_specific_object = widget.Button.stopDanmu
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else False
        widget_specific_object.Enabled = False

    # 分组框【弹幕发送】
    # -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    widget_specific_object = widget.ComboBox.danmuEmoticons
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_common_danmu_roomid_dict() else False
        widget_specific_object.Enabled = True if get_common_danmu_roomid_dict() else False
        widget_specific_object.Text = ""
        widget_specific_object.Value = ""
        widget_specific_object.Dictionary = get_common_danmu_emoticons() if get_common_danmu_roomid_dict() else {}

    widget_specific_object = widget.Button.mergeEmoticons
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_common_danmu_roomid_dict() else False
        widget_specific_object.Enabled = True if get_common_danmu_roomid_dict() else False

    widget_specific_object = widget.TextBox.danmuSendText
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_common_danmu_roomid_dict() else False
        widget_specific_object.Enabled = True if get_common_danmu_roomid_dict() else False
        widget_specific_object.Text = ""

    widget_specific_object = widget.Button.danmuSend
    if widget_specific_object.Name in update_widget_for_props_name:
        widget_specific_object.Visible = False if widget_specific_object.Name in psg_unv_name else True if get_common_danmu_roomid_dict() else False
        widget_specific_object.Enabled = True if get_common_danmu_roomid_dict() else False

    clear_cache()
    return True


# --- 一个名为script_description的函数返回显示给的描述
def script_description():
    """
    调用以检索要在“脚本”窗口中显示给用户的描述字符串。
    """
    if not GlobalVariableOfData.networkConnectionStatus:
        failure_t = "网络不可用"
    elif not widget.verification_number_controls:
        failure_t = "控件构建错误"
    else:
        failure_t = ""
    if failure_t:
        return f"""
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
</head>
<body style="margin:0; padding:12px; background-color:#2b2b2b; color:#e0e0e0; font-family:'Microsoft YaHei', sans-serif; display:flex; justify-content:center; align-items:center; height:100vh;">
<div style="display:flex; align-items:center; background-color:rgba(255,193,7,0.1); border:1px solid rgba(255,193,7,0.3); padding:12px 20px; max-width:300px;">
    <div style="font-size:20px; color:#ffc107; margin-right:12px;">⚠</div>
    <div style="color:#ffc107; font-weight:600; font-size:16px;">网络不可用</div>
</div>
</body>
</html>
"""
    else:
        return f"""
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
</head>
<body style="margin:0; padding:12px; background-color:#2b2b2b; color:#e0e0e0; font-family:'Microsoft YaHei', sans-serif;">
<div style="background-color:#3a3a3a; border:1px solid #555; border-radius:8px; padding:16px; max-width:100%;">
    <h1 style="color:#ffd700; font-size:18px; margin:0 0 8px 0; text-align:center; padding-bottom:8px; border-bottom:1px solid #555; border-radius:0;">
        脚本使用提示</h1>
    <!-- 版本信息 -->
    <div style="text-align:center; margin-bottom:12px; color:#a0a0a0; font-size:14px;">
        bilibili_live_Anchor脚本版本：{script_version}
    </div>
    <div style="background-color:rgba(255,215,0,0.1); border:1px solid rgba(255,215,0,0.3); border-radius:5px; padding:8px 12px; margin-bottom:12px;">
        <p style="color:#ffd700; margin:0; display:flex; align-items:center;">
            <span style="margin-right:8px;">⚠</span>
            {script_path()}
        </p>
    </div>
    <div style="margin-bottom:12px;">
        <div style="display:flex; align-items:center; margin-bottom:8px; padding:6px;">
            <span style="margin-right:8px;">⟳</span>
            <span>点击<span style="color:#4cd964; font-weight:bold;">重新载入脚本</span>按钮更新脚本</span>
        </div>
        <div style="background-color:rgba(238,67,67,0.1); border:1px solid rgba(238,67,67,0.3); border-radius:5px; padding:8px 12px; margin:12px 0; display:flex; align-items:center;">
            <span style="margin-right:8px;">ⓘ</span>
            <span>请使用<strong style="color:#ee4343;">管理员权限</strong>运行OBS</span>
        </div>
    </div>
    <div style="text-align:center; margin-top:16px;">
        <a href="https://github.com/lanyangyin/OBSscripts-bilibili-live/issues"
           style="display:inline-block; padding:6px 12px; margin:0 4px; background-color:#333; color:#e0e0e0; text-decoration:none; border-radius:4px; border:1px solid #444;">GitHub问题反馈</a>
        <a href="https://message.bilibili.com/#/whisper/mid143474500"
           style="display:inline-block; padding:6px 12px; margin:0 4px; background-color:#4a4a4a; color:#e0e0e0; text-decoration:none; border-radius:4px; border:1px solid #666;">B站私信提问</a>
    </div>
</div>
</body>
</html>
    """


# --- 一个名为script_load的函数将在启动时调用
def script_load(settings):
    """
    在脚本启动时调用与脚本相关的特定设置。所提供的设置参数通常不用于由用户设置的设置;
    相反，该参数用于脚本中可能使用的任何额外的内部设置数据。
    :param settings:与脚本关联的设置。
    """
    log_save(obs.LOG_INFO, "已载入: bilibili_live")

    # 注册事件回调
    log_save(obs.LOG_INFO, "开始监视obs事件")
    obs.obs_frontend_add_event_callback(trigger_frontend_event)
    # obs_data_t 类型的数据对象。这个数据对象可以用来存储和管理设置项，例如场景、源或过滤器的配置信息
    # settings = obs.obs_data_create()


# 控件状态更新时调用
def script_update(settings):
    """
    当用户更改了脚本的设置(如果有的话)时调用。
    这里更改控件属性不会实时显示，
    不要在这里控制控件的【可见】、【可用】、【值】和【名称】
    :param settings:与脚本关联的设置。
    """
    # log_save(obs.LOG_INFO, "╔════监测到控件数据变动════╗")
    # log_save(obs.LOG_INFO, "║    监测到控件数据变动    ║")
    # log_save(obs.LOG_INFO, "╚════监测到控件数据变动════╝")
    return True


# --- 一个名为script_properties的函数定义了用户可以使用的属性
def script_properties():  # 建立控件
    """
    在脚本控制台中建立控件
    调用以定义与脚本关联的用户属性。这些属性用于定义如何向用户显示设置属性。
    通常用于自动生成用户界面小部件，也可以用来枚举特定设置的可用值或有效值。
    Returns:通过 obs_properties_create() 创建的 Obs_properties_t 对象
    obs_properties_t 类型的属性对象。这个属性对象通常用于枚举 libobs 对象的可用设置，
    """
    log_save(obs.LOG_INFO, f"")
    log_save(obs.LOG_INFO, f"╔{'═' * 20}构造控件体 开始{'═' * 20}╗")
    # 网络连通
    if not GlobalVariableOfData.networkConnectionStatus:
        return None
    # 创建一个 OBS 属性集对象，他将包含所有控件对应的属性对象
    props_dict = {"props": obs.obs_properties_create()}
    """控件属性集的字典，仅在这里赋值一次，避免重复赋值导致溢出或者obs崩溃"""
    for props_name in widget.props_Collection:
        props_dict[props_name] = obs.obs_properties_create()

    for w in widget.get_sorted_controls():
        # 获取按载入次序排序的所有控件列表
        if w.ControlType == "CheckBox":
            # 添加复选框控件
            log_save(obs.LOG_INFO, f"复选框控件: {w.Name} 【{w.Description}】")
            obs.obs_properties_add_bool(props_dict[w.Props], w.Name, w.Description)
        elif w.ControlType == "DigitalDisplay":
            # 添加数字控件
            log_save(obs.LOG_INFO, f"数字框控件: {w.Name} 【{w.Description}】")
            if w.Type == "ThereIsASlider":  # 是否为数字控件添加滑动条
                w.Obj = obs.obs_properties_add_int_slider(props_dict[w.Props], w.Name, w.Description, w.Min, w.Max,
                                                          w.Step)
            else:
                w.Obj = obs.obs_properties_add_int(props_dict[w.Props], w.Name, w.Description, w.Min, w.Max, w.Step)
            obs.obs_property_int_set_suffix(w.Obj, w.Suffix)
        elif w.ControlType == "TextBox":
            # 添加文本框控件
            log_save(obs.LOG_INFO, f"文本框控件: {w.Name} 【{w.Description}】")
            w.Obj = obs.obs_properties_add_text(props_dict[w.Props], w.Name, w.Description, w.Type)
            if w.LongDescription:
                obs.obs_property_set_long_description(w.Obj, w.LongDescription)

        elif w.ControlType == "Button":
            # 添加按钮控件
            log_save(obs.LOG_INFO, f"按钮控件: {w.Name} 【{w.Description}】")
            w.Obj = obs.obs_properties_add_button(props_dict[w.Props], w.Name, w.Description, w.Callback)
            obs.obs_property_button_set_type(w.Obj, w.Type)
            if w.Type == obs.OBS_BUTTON_URL:  # 是否为链接跳转按钮
                obs.obs_property_button_set_url(w.Obj, w.Url)
        elif w.ControlType == "ComboBox":
            # 添加组合框控件
            log_save(obs.LOG_INFO, f"组合框控件: {w.Name} 【{w.Description}】")
            w.Obj = obs.obs_properties_add_list(props_dict[w.Props], w.Name, w.Description, w.Type,
                                                obs.OBS_COMBO_FORMAT_STRING)
            if w.LongDescription:
                obs.obs_property_set_long_description(w.Obj, w.LongDescription)
        elif w.ControlType == "PathBox":
            # 添加路径对话框控件
            log_save(obs.LOG_INFO, f"路径对话框控件: {w.Name} 【{w.Description}】")
            w.Obj = obs.obs_properties_add_path(props_dict[w.Props], w.Name, w.Description, w.Type, w.Filter,
                                                w.StartPath)
        elif w.ControlType == "Group":
            # 分组框控件
            log_save(obs.LOG_INFO, f"分组框控件: {w.Name} 【{w.Description}】")
            w.Obj = obs.obs_properties_add_group(props_dict[w.Props], w.Name, w.Description, w.Type,
                                                 props_dict[w.GroupProps])

        if w.ModifiedIs:
            log_save(obs.LOG_INFO, f"为{w.ControlType}: 【{w.Description}】添加钩子函数")
            obs.obs_property_set_modified_callback(w.Obj, lambda ps, p, st, name=w.Name: property_modified(name))

    GlobalVariableOfData.props_dict = props_dict
    # 更新UI界面数据#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*
    update_ui_interface_data()
    log_save(obs.LOG_INFO, f"╚{'═' * 20}构造控件体 结束{'═' * 20}╝")
    log_save(obs.LOG_INFO, f"")
    return props_dict["props"]


def update_ui_interface_data():
    """
    更新UI界面数据
    Returns:
    """
    for w in widget.get_sorted_controls():
        if w.Props in GlobalVariableOfData.update_widget_for_props_dict:
            if w.Name in GlobalVariableOfData.update_widget_for_props_dict[w.Props]:
                if obs.obs_property_visible(w.Obj) != w.Visible:
                    obs.obs_property_set_visible(w.Obj, w.Visible)
                if obs.obs_property_enabled(w.Obj) != w.Enabled:
                    obs.obs_property_set_enabled(w.Obj, w.Enabled)

                if w.ControlType == "CheckBox":
                    if obs.obs_data_get_bool(GlobalVariableOfData.script_settings, w.Name) != w.Bool:
                        obs.obs_data_set_bool(GlobalVariableOfData.script_settings, w.Name, w.Bool)
                elif w.ControlType == "DigitalDisplay":
                    if w.Min != obs.obs_property_int_min(w.Obj) or w.Max != obs.obs_property_int_max(
                            w.Obj) or w.Step != obs.obs_property_int_step(w.Obj):
                        obs.obs_property_int_set_limits(w.Obj, w.Min, w.Max, w.Step)
                    if obs.obs_data_get_int(GlobalVariableOfData.script_settings, w.Name) != w.Value:
                        obs.obs_data_set_int(GlobalVariableOfData.script_settings, w.Name, w.Value)
                elif w.ControlType == "TextBox":
                    if w.Type == obs.OBS_TEXT_INFO:
                        if obs.obs_property_text_info_type(w.Obj) != w.InfoType:
                            obs.obs_property_text_set_info_type(w.Obj, w.InfoType)
                    if obs.obs_data_get_string(GlobalVariableOfData.script_settings, w.Name) != w.Text:
                        obs.obs_data_set_string(GlobalVariableOfData.script_settings, w.Name, w.Text)
                elif w.ControlType == "Button":
                    pass
                elif w.ControlType == "ComboBox":
                    combo_box_option_dictionary = {}
                    for idx in range(obs.obs_property_list_item_count(w.Obj)):
                        combo_box_option_dictionary_key = obs.obs_property_list_item_name(w.Obj, idx)
                        combo_box_option_dictionary_value = obs.obs_property_list_item_string(w.Obj, idx)
                        combo_box_option_dictionary[combo_box_option_dictionary_key] = combo_box_option_dictionary_value
                    if w.Dictionary != combo_box_option_dictionary:
                        obs.obs_property_list_clear(w.Obj)
                        for dict_key in w.Dictionary:
                            if dict_key != w.Text:
                                obs.obs_property_list_add_string(
                                    w.Obj, dict_key, w.Dictionary[dict_key]
                                )
                            else:
                                obs.obs_property_list_insert_string(w.Obj, 0, w.Text, w.Value)
                    if w.Type == obs.OBS_COMBO_TYPE_EDITABLE:
                        if obs.obs_data_get_string(GlobalVariableOfData.script_settings, w.Name) != w.Text:
                            obs.obs_data_set_string(
                                GlobalVariableOfData.script_settings, w.Name, obs.obs_property_list_item_name(w.Obj, 0)
                            )
                    elif w.Type == obs.OBS_COMBO_TYPE_LIST:
                        if obs.obs_data_get_string(GlobalVariableOfData.script_settings, w.Name) != w.Value:
                            obs.obs_data_set_string(
                                GlobalVariableOfData.script_settings, w.Name, obs.obs_property_list_item_string(w.Obj, 0)
                            )
                elif w.ControlType == "PathBox":
                    if obs.obs_data_get_string(GlobalVariableOfData.script_settings, w.Name) != w.Text:
                        obs.obs_data_set_string(GlobalVariableOfData.script_settings, w.Name, w.Text)
                elif w.ControlType == "Group":
                    if w.Type == obs.OBS_GROUP_CHECKABLE:
                        if obs.obs_data_get_bool(GlobalVariableOfData.script_settings, w.Name) != w.Bool:
                            obs.obs_data_set_bool(GlobalVariableOfData.script_settings, w.Name, w.Bool)
                        pass
    return True


def script_unload():
    """
    在脚本被卸载时调用。
    """
    # """注销事件回调"""
    log_save(obs.LOG_INFO, "┌——停止监视obs事件——┐")
    log_save(obs.LOG_INFO, "│  停止监视obs事件  │")
    log_save(obs.LOG_INFO, "└——停止监视obs事件——┘")
    obs.obs_frontend_remove_event_callback(trigger_frontend_event)
    log_save(obs.LOG_INFO, "╔══已卸载: bilibili-live══╗")
    log_save(obs.LOG_INFO, "║  已卸载: bilibili-live  ║")
    log_save(obs.LOG_INFO, "╚══已卸载: bilibili-live══╝")
    # """保存日志文件"""
    log_save(obs.LOG_INFO, "==保存日志文件==")
    log_save(obs.LOG_INFO, f"{'═' * 120}\n")
    # 创建日志目录路径对象
    log_dir = Path(GlobalVariableOfData.scriptsLogDir)

    # 生成新的日志文件名
    new_log_filename = f"{datetime.now().strftime('%Y%m%d_%H%M%S')}.log"
    new_log_path = log_dir / new_log_filename

    # 写入新的日志文件
    with open(new_log_path, "w", encoding="utf-8") as f:
        f.write(str(GlobalVariableOfData.logRecording))

    log_num_max = 100

    # 获取所有.log文件并按修改时间排序（最新的在前）
    log_files = sorted(
        [f for f in log_dir.iterdir() if f.is_file() and f.suffix.lower() == '.log'],
        key=lambda x: x.stat().st_mtime,
        reverse=True
    )

    # 如果文件数量超过100，删除最旧的文件
    if len(log_files) > log_num_max:
        files_to_delete = log_files[log_num_max:]
        for old_file in files_to_delete:
            old_file.unlink()  # 删除文件


class ButtonFunction:
    """按钮回调函数"""

    @staticmethod
    def button_function_start_script(*args):
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        GlobalVariableOfData.script_loading_is = True

        # 更新脚本控制台中的控件
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        log_save(obs.LOG_INFO, f"更新控件配置信息")
        script_defaults(GlobalVariableOfData.script_settings)
        # 更新脚本用户小部件
        log_save(obs.LOG_INFO, f"更新控件UI")
        update_ui_interface_data()
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        return True

    @staticmethod
    def button_function_login(*args):
        """
        登录并刷新控件状态
        """
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        # ＝＝＝＝＝＝＝＝＝＝＝
        # ＝     登录      ＝
        # ＝＝＝＝＝＝＝＝＝＝＝
        GlobalVariableOfData.script_loading_is = True
        uid = obs.obs_data_get_string(GlobalVariableOfData.script_settings, widget.ComboBox.uid.Name)
        if uid in ["-1"]:
            log_save(obs.LOG_WARNING, "请添加或选择一个账号登录")
            return False
        log_save(obs.LOG_INFO, f"即将登录的账号：{uid}")
        log_save(obs.LOG_INFO, f"将选定的账号：{uid}，在配置文件中转移到默认账号的位置")
        try:
            uid = str(uid)
            log_save(obs.LOG_INFO, f"尝试登录用户: {uid}")
            get_b_u_c_m().set_default_user(uid)
            log_save(obs.LOG_INFO, f"用户 {uid} 登录成功")
        except ValueError as e:
            log_save(obs.LOG_ERROR, f"参数错误: {str(e)}")
            raise
        except Exception as e:
            log_save(obs.LOG_WARNING, f"登录过程异常: {str(e)}")
            raise RuntimeError("登录服务暂时不可用") from e

        clear_cache()

        # 更新脚本控制台中的控件
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        log_save(obs.LOG_INFO, f"更新控件配置信息")
        script_defaults(GlobalVariableOfData.script_settings)
        # 更新脚本用户小部件
        log_save(obs.LOG_INFO, f"更新控件UI")
        update_ui_interface_data()
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        return True

    @staticmethod
    def button_function_update_account_list(*args):
        """
        更新账号列表
        """
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]

        # 更新脚本控制台中的控件
        GlobalVariableOfData.update_widget_for_props_dict = {
            "account_props": widget.props_Collection["account_props"]
        }
        if widget.ComboBox.uid.Dictionary == {'添加或选择一个账号登录': '-1'}:
            GlobalVariableOfData.update_widget_for_props_dict =widget.props_Collection
        log_save(obs.LOG_INFO, f"更新控件配置信息")
        script_defaults(GlobalVariableOfData.script_settings)
        # 更新脚本用户小部件
        log_save(obs.LOG_INFO, f"更新控件UI")
        update_ui_interface_data()
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        return True

    @staticmethod
    def button_function_qr_add_account(*args):
        """
        二维码添加账号
        """
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        # 判断是否需要展示登录二维码图片
        if GlobalVariableOfData.loginQRCodePillowImg:
            return ButtonFunction.button_function_show_qr_picture()

        # 申请登录二维码
        url8qrkey = get_b_l_i_r().generate()["data"]
        # 获取二维码url
        url = url8qrkey['url']
        log_save(obs.LOG_INFO, f"获取登录二维码链接{url}")
        # 获取二维码key
        GlobalVariableOfData.loginQrCode_key = url8qrkey['qrcode_key']
        log_save(obs.LOG_INFO, f"获取登录二维码密钥{GlobalVariableOfData.loginQrCode_key}")
        # 获取二维码对象
        qr = Tools.qr_text8pil_img(url)
        # 获取登录二维码的pillow img实例
        GlobalVariableOfData.loginQRCodePillowImg = qr["img"]
        # 输出二维码图形字符串
        log_save(obs.LOG_INFO, f"\n\n{qr['str']}")
        log_save(obs.LOG_INFO, f"字符串二维码已输出，如果乱码或者扫描不上，建议再次点击 按钮【二维码添加账号】获取图片")
        # 获取二维码扫描登陆状态
        GlobalVariableOfData.loginQrCodeReturn = get_b_l_i_r().poll(GlobalVariableOfData.loginQrCode_key)
        log_save(obs.LOG_INFO, f"开始轮询登录状态")
        # 轮询登录状态
        log_save(
            obs.LOG_WARNING,
            str(ExplanatoryDictionary.information4login_qr_return_code[int(GlobalVariableOfData.loginQrCodeReturn["data"]["scan_code"])])
        )

        def check_poll():
            """
            二维码扫描登录状态检测
            @return: cookies，超时为{}
            """
            # 获取uid对应的cookies
            code_old = GlobalVariableOfData.loginQrCodeReturn["data"]["scan_code"]
            GlobalVariableOfData.loginQrCodeReturn = get_b_l_i_r().poll(GlobalVariableOfData.loginQrCode_key)
            # 二维码扫描登陆状态改变时，输出改变后状态
            if code_old != GlobalVariableOfData.loginQrCodeReturn["data"]["scan_code"]:
                log_save(
                    obs.LOG_WARNING,
                    str(
                        ExplanatoryDictionary.information4login_qr_return_code[
                            int(GlobalVariableOfData.loginQrCodeReturn["data"]["scan_code"])
                        ]
                    )
                )
            if GlobalVariableOfData.loginQrCodeReturn["data"]["scan_code"] in [0, 86038]:
                log_save(obs.LOG_INFO, "轮询结束")
                GlobalVariableOfData.loginQRCodePillowImg = None
                # 二维码扫描登陆状态为成功或者超时时获取cookies结束[轮询二维码扫描登陆状态]
                cookies = GlobalVariableOfData.loginQrCodeReturn['data']
                if cookies and GlobalVariableOfData.loginQrCodeReturn["data"]["scan_code"] == 0:
                    buvid_info = get_i_c().get_buvid_info()
                    cookies["buvid3"] = buvid_info['data']['b_3']
                    cookies["buvid4"] = buvid_info['data']['b_4']
                    buvid3_and_bnut = get_i_c().fetch_buvid3_and_bnut()
                    cookies["b_nut"] = buvid3_and_bnut['data']['b_nut']
                    # 获取登陆账号cookies中携带的uid
                    uid = int(cookies['DedeUserID'])
                    all_users_id_list = []
                    for user_dict in get_b_u_c_m().get_all_users()["data"]["users"]:
                        all_users_id_list.append(user_dict["user_id"])
                    if str(uid) in all_users_id_list:
                        log_save(obs.LOG_DEBUG, "已有该用户，正在更新用户登录信息")
                        get_b_u_c_m().update_user(cookies, False)
                    else:
                        get_b_u_c_m().add_user(cookies)
                        log_save(obs.LOG_INFO, f"添加用户成功")
                        if widget.ComboBox.uid.Dictionary == {'添加或选择一个账号登录': '-1'}:
                            get_b_u_c_m().update_user(cookies, True)
                        log_save(obs.LOG_INFO, "请点击按钮【更新账号列表】，更新用户列表")
                else:
                    log_save(obs.LOG_INFO, f"添加用户失败: {GlobalVariableOfData.loginQrCodeReturn}")
                # 结束计时器
                obs.remove_current_callback()

            clear_cache()        # 开始计时器
        obs.timer_add(check_poll, 1000)

        clear_cache()
        return True

    @staticmethod
    def button_function_show_qr_picture(*args):
        """
        显示二维码图片
        """
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        if GlobalVariableOfData.loginQRCodePillowImg:
            log_save(obs.LOG_INFO, f"有可展示的登录二维码图片，展示登录二维码图片")
            GlobalVariableOfData.loginQRCodePillowImg.show()
            return True
        else:
            log_save(obs.LOG_WARNING, f"没有可展示的登录二维码图片，请点击按钮 【二维码添加账号】创建")
            return False

    @staticmethod
    def button_function_del_user(*args):
        """
        删除用户
        """
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        uid = obs.obs_data_get_string(GlobalVariableOfData.script_settings, 'uid_comboBox')
        if uid in ["-1"]:
            log_save(obs.LOG_ERROR, "请选择一个账号")
            return False
        # ＝＝＝＝＝＝＝＝＝＝＝
        # ＝     删除      ＝
        # ＝＝＝＝＝＝＝＝＝＝＝
        log_save(obs.LOG_INFO, f"即将删除的账号：{uid}")
        if get_b_u_c_m().get_default_user_id() == uid:
            get_b_u_c_m().clear_default_user()
        get_b_u_c_m().delete_user(uid)

        clear_cache()

        # 更新脚本控制台中的控件
        if get_b_u_c_m().get_default_user_id() == uid:
            GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        else:
            GlobalVariableOfData.update_widget_for_props_dict = {
                "account_props": widget.props_Collection["account_props"]
            }
        log_save(obs.LOG_INFO, f"更新控件配置信息")
        script_defaults(GlobalVariableOfData.script_settings)
        # 更新脚本用户小部件
        log_save(obs.LOG_INFO, f"更新控件UI")
        update_ui_interface_data()
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        return True

    @staticmethod
    def button_function_backup_users(*args):
        """
        备份用户
        """
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        pass

    @staticmethod
    def button_function_restore_user(*args):
        """
        恢复用户
        """
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        pass

    @staticmethod
    def button_function_logout(*args):
        """
        登出
        """
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        uid = obs.obs_data_get_string(GlobalVariableOfData.script_settings, 'uid_comboBox')
        if uid in ["-1"]:
            log_save(obs.LOG_ERROR, "未登陆账号")
            return False
        # ＝＝＝＝＝＝＝＝＝＝＝＝
        # 　　　　登出        ＝
        # ＝＝＝＝＝＝＝＝＝＝＝＝
        # 移除默认账户
        log_save(obs.LOG_INFO, f"即将登出的账号：{uid}")
        clear_default_user_result = get_b_u_c_m().clear_default_user()
        log_save(obs.LOG_INFO, f"{clear_default_user_result['message']}")
        clear_cache()

        # 更新脚本控制台中的控件
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        log_save(obs.LOG_INFO, f"更新控件配置信息")
        script_defaults(GlobalVariableOfData.script_settings)
        # 更新脚本用户小部件
        log_save(obs.LOG_INFO, f"更新控件UI")
        update_ui_interface_data()
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        return True

    @staticmethod
    def button_function_opened_room(*args):
        """创建直播间"""
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        # 开通直播间
        create_live_room_return = get_b_csrf_a().create_live_room()
        log_save(obs.LOG_INFO, f"开通直播间返回值: {create_live_room_return}")
        # 处理API响应
        code = create_live_room_return.get("api_code", -1)
        message = create_live_room_return.get("message", "未知错误")
        if code == 0:
            # 成功开通，返回房间号
            room_id = create_live_room_return.get("data", {}).get("roomID", "")
            if not room_id:
                log_save(obs.LOG_INFO, "API返回了空房间号")
            log_save(obs.LOG_INFO, room_id)
        elif code == 1531193016:
            # 已经创建过直播间
            log_save(obs.LOG_INFO, "已经创建过直播间")
        elif code == -802:
            log_save(obs.LOG_INFO, "未实名认证，请使用B站手机端登陆账号扫码认证")
            ButtonFunction.button_function_real_name_authentication()
        else:
            # 其他错误
            log_save(obs.LOG_INFO, f"开通直播间失败: {message} (代码: {code})")

        clear_cache()
        return True

    @staticmethod
    def button_function_real_name_authentication(*args):
        """实名认证"""
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        # 获取登录用户的uid
        uid = get_b_u_c_m().get_default_user_id()
        log_save(obs.LOG_INFO, f"获取登录用户的uid：{uid}")
        # 获取人脸认证的链接
        qr_url = f"https://account.bilibili.com/h5/account-h5/middle-redirect?mid={uid}"
        log_save(obs.LOG_INFO, f"获取实名认证的链接：{qr_url}")
        if uid:
            # 获取二维码对象
            qr = Tools.qr_text8pil_img(qr_url)
            qr['img'].show()
        else:
            log_save(obs.LOG_ERROR, f"未登录")

        clear_cache()
        return False

    @staticmethod
    def button_function_check_room_cover(*args):
        """
        查看直播间封面
        """
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        room_cover_url = get_room_base_info()["cover"]
        """登录用户直播间封面链接"""
        log_save(obs.LOG_INFO, f"║║登录账户 的 直播间封面链接：{room_cover_url}")

        Headers = {
            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 '
                          '(KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'
        }

        # # 获取'默认账户'直播间的基础信息
        room_cover_pillow_img = Tools.url2pillow_image(room_cover_url, Headers, GlobalVariableOfData.sslVerification)["PilImg"]
        log_save(obs.LOG_INFO, f"显示16:9封面")
        log_save(obs.LOG_INFO, f"格式: {room_cover_pillow_img.format}，尺寸: {room_cover_pillow_img.size}")
        room_cover_pillow_img.show()
        # room_cover_pillow_img0403 = Tools.pil_image2central_proportion_cutting(room_cover_pillow_img, 4 / 3)
        # log_save(obs.LOG_INFO, f"展示4:3图片")
        # log_save(obs.LOG_INFO, f"格式: {room_cover_pillow_img0403.format}，尺寸: {room_cover_pillow_img0403.size}")
        # room_cover_pillow_img0403.show()

        clear_cache()
        return False

    @staticmethod
    def button_function_update_room_cover(*args):
        """上传直播间封面"""
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        # 获取文件对话框内容
        widget.PathBox.roomCover.Text = obs.obs_data_get_string(
            GlobalVariableOfData.script_settings,widget.PathBox.roomCover.Name
        )
        log_save(obs.LOG_INFO, f"获得图片文件：{widget.PathBox.roomCover.Text}")
        if widget.PathBox.roomCover.Text:
            pil_image = Image.open(widget.PathBox.roomCover.Text)
            log_save(obs.LOG_INFO, f"图片文件PIL_Image实例化，当前文件大小(宽X高)：{pil_image.size}")
            pil_image1609 = Tools.pil_image2central_proportion_cutting(pil_image, 16 / 9)
            pil_image1609_w, pil_image1609_h = pil_image1609.size
            log_save(obs.LOG_INFO, f"图片16:9裁切后大小(宽X高)：{pil_image1609.size}")
            pil_image1609zooming_width1020 = pil_image1609 if pil_image1609_w < 1020 else Tools.pil_image2zooming(
                pil_image1609,
                4,
                target_width=1020
            )
            log_save(obs.LOG_INFO, f"限制宽<1020，进行缩放，缩放后大小：{pil_image1609zooming_width1020.size}")
            pil_image1609 = Tools.pil_image2central_proportion_cutting(pil_image1609zooming_width1020, 16 / 9)
            log_save(obs.LOG_INFO, f"缩放后图片16:9裁切后大小(宽X高)：{pil_image1609.size}")
            pil_image0403 = Tools.pil_image2central_proportion_cutting(pil_image1609zooming_width1020, 4 / 3)
            log_save(obs.LOG_INFO, f"缩放后图片4:3裁切后大小(宽X高)：{pil_image0403.size}")

            log_save(obs.LOG_INFO, f"图片二进制化")
            pil_image1609zooming_width1020_binary = Tools.pil_image2binary(pil_image1609zooming_width1020,
                                                                           img_format="JPEG",
                                                                           compress_level=0)
            # 上传封面图片返回
            upload_cover_return = get_b_csrf_a().upload_cover(pil_image1609zooming_width1020_binary)
            log_save(obs.LOG_INFO, f"上传封面返回：{upload_cover_return}")
            if upload_cover_return["success"]:
                # log_save(obs.LOG_INFO, f"展示4:3图片")
                # pil_image0403.show()
                log_save(obs.LOG_INFO, f"展示16:9图片")
                pil_image1609.show()
                log_save(obs.LOG_INFO, f"上传封面成功")
                # 获得封面图片链接
                cover_url = upload_cover_return['data']['location']
                log_save(obs.LOG_INFO, f"获得封面链接：{cover_url}")
                update_cover_return = get_b_csrf_a().update_cover(cover_url)
                log_save(obs.LOG_INFO, f"更改封面返回：{upload_cover_return}")
                if update_cover_return["success"]:
                    log_save(obs.LOG_INFO, f"更改封面成功")
                else:
                    log_save(obs.LOG_ERROR, f"更改封面失败：{update_cover_return['message']}")
                    return False
            else:
                log_save(obs.LOG_ERROR, f"上传封面失败：{upload_cover_return['message']}")
                return False
        else:
            log_save(obs.LOG_WARNING, "未获取到图片")
            return False

        clear_cache()
        return True

    @staticmethod
    def button_function_face_auth(*args):
        """展示人脸认证的二维码"""
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        # 获取登录用户的uid
        uid = get_b_u_c_m().get_default_user_id()
        log_save(obs.LOG_INFO, f"获取登录用户的uid：{uid}")
        # 获取人脸认证的链接
        qr_url = f"https://www.bilibili.com/blackboard/live/face-auth-middle.html?source_event=400&mid={uid}"
        log_save(obs.LOG_INFO, f"获取人脸认证的链接：{qr_url}")
        if uid:
            # 获取二维码对象
            qr = Tools.qr_text8pil_img(qr_url)
            qr['img'].show()
        else:
            log_save(obs.LOG_ERROR, f"未登录")

        clear_cache()
        return False

    @staticmethod
    def button_function_change_live_room_title(*args):
        """
        更改直播间标题
        Args:
        Returns:
        """
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        room_title = obs.obs_data_get_string(GlobalVariableOfData.script_settings, widget.ComboBox.roomCommonTitles.Name)
        """标题文本框中的文本"""

        turn_title_return = get_b_csrf_a().change_room_title(get_b_s_a_m().get_room_highlight_info()["data"]["room_id"], room_title)
        """更改标题的返回值"""
        log_save(obs.LOG_INFO, f"更改直播间标题返回消息：{turn_title_return}")
        if turn_title_return['success']:
            log_save(obs.LOG_INFO, f"直播间标题更改成功: {room_title}")
        else:
            log_save(obs.LOG_INFO, f"直播间标题更改失败{turn_title_return['message']}")
            return False
        get_c_d_m().add_data(get_b_u_c_m().get_default_user_id(), "title", room_title)

        clear_cache()

        # 更新脚本控制台中的控件
        GlobalVariableOfData.update_widget_for_props_dict = {
            "live_broadcast_title_props": {"room_Titles_comboBox"}
        }
        log_save(obs.LOG_INFO, f"更新控件配置信息")
        script_defaults(GlobalVariableOfData.script_settings)
        # 更新脚本用户小部件
        log_save(obs.LOG_INFO, f"更新控件UI")
        update_ui_interface_data()
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        return True

    @staticmethod
    def button_function_change_live_room_news(*args):
        """
        更改直播间公告
        Args:
        Returns:
        """
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        room_news_textbox_t = obs.obs_data_get_string(GlobalVariableOfData.script_settings, widget.TextBox.roomNews.Name)
        """公告文本框中的文本"""
        
        try:
            turn_news_return = get_b_csrf_a().change_room_news(get_b_s_a_m().get_room_highlight_info()["data"]["room_id"], room_news_textbox_t)["api_response"]
            """更改公告的返回值"""
        except KeyError as e:
            log_save(obs.LOG_ERROR, f"直播间公告更改失败，不存在相应的键{e}，公告不能为空")
            return False
        except Exception as e:
            log_save(obs.LOG_ERROR, f"直播间公告更改失败{e}")
            return False
        else:
            if turn_news_return['code'] == 0:
                log_save(obs.LOG_INFO, f"直播间公告更改成功: {room_news_textbox_t}")
            else:
                log_save(obs.LOG_WARNING, f"直播间公告更改失败{turn_news_return['message']}")
                return False
        
        widget.TextBox.roomNews.Text = room_news_textbox_t

        clear_cache()
        return True

    @staticmethod
    def button_function_true_live_room_common_area(*args):
        """将可 组合框【常用分区】 中的值 映射到 组合框【一级分区】 和 组合框【二级分区】 """
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        # #获取 组合框【常用分区】 当前选项的值
        room_common_areas_combobox_value = obs.obs_data_get_string(
            GlobalVariableOfData.script_settings,widget.ComboBox.roomCommonAreas.Name
        )
        log_save(obs.LOG_INFO, f"获取 组合框【常用分区】 当前选项的值: {room_common_areas_combobox_value}")
        if room_common_areas_combobox_value == "-1":
            log_save(obs.LOG_INFO, f"无常用分区")
            return False
        room_common_parent_area_id = list(json.loads(room_common_areas_combobox_value).keys())[0]
        log_save(obs.LOG_INFO, f"获取 常用分区 父分区id: {room_common_parent_area_id}")
        room_common_sub_area_id = list(json.loads(room_common_areas_combobox_value).values())[0]
        log_save(obs.LOG_INFO, f"获取 常用分区 子分区id: {room_common_sub_area_id}")

        # 更新 组合框【一级分区】
        obs.obs_data_set_string(
            GlobalVariableOfData.script_settings, widget.ComboBox.roomParentArea.Name, room_common_parent_area_id
        )
        # 主动触发组合框【一级分区】变动的回调函数
        obs.obs_property_modified(widget.ComboBox.roomParentArea.Obj, GlobalVariableOfData.script_settings)

        # 更新 组合框【二级分区】
        obs.obs_data_set_string(
            GlobalVariableOfData.script_settings, widget.ComboBox.roomSubArea.Name, room_common_sub_area_id
        )
        return True

    @staticmethod
    def button_function_start_parent_area(*args):
        """确认一级分区"""
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]

        # #获取 组合框【一级分区】 当前选项的值
        parent_live_area_combobox_value = obs.obs_data_get_string(
            GlobalVariableOfData.script_settings,widget.ComboBox.roomParentArea.Name
        )
        """组合框【一级分区】 当前选项的值"""
        if parent_live_area_combobox_value in ["-1"]:
            log_save(obs.LOG_WARNING, "请选择一级分区")
            return False

        # 获取B站直播分区信息
        area_obj_data_list = get_b_a_g().get_area_obj_list()

        # 获取 登录账户 的 直播间父分区 对应的 直播间子分区数据
        sub_live_area_name4sub_live_area_id = {}
        for AreaObjData in area_obj_data_list["data"]:
            if str(parent_live_area_combobox_value) == str(AreaObjData["id"]):
                for subAreaObj in AreaObjData["list"]:
                    sub_live_area_name4sub_live_area_id[str(subAreaObj["id"])] = subAreaObj["name"]
                break
        log_save(obs.LOG_INFO, f"子分区数据临时更新{sub_live_area_name4sub_live_area_id}")

        # 清空二级分区组合框
        obs.obs_property_list_clear(widget.ComboBox.roomSubArea.Obj)
        # 向二级分区组合框中添加选项
        for common_area_id_dict_str in sub_live_area_name4sub_live_area_id:
            if common_area_id_dict_str != widget.ComboBox.roomSubArea.Value:
                obs.obs_property_list_add_string(
                    widget.ComboBox.roomSubArea.Obj,
                    sub_live_area_name4sub_live_area_id[common_area_id_dict_str],
                    common_area_id_dict_str
                )
            else:
                obs.obs_property_list_insert_string(
                    widget.ComboBox.roomSubArea.Obj,
                    0,
                    widget.ComboBox.roomSubArea.Text,
                    widget.ComboBox.roomSubArea.Value)
        obs.obs_data_set_string(
            GlobalVariableOfData.script_settings,
            widget.ComboBox.roomSubArea.Name,
            obs.obs_property_list_item_string(widget.ComboBox.roomSubArea.Obj, 0)
        )

        clear_cache()
        return True

    @staticmethod
    def button_function_start_sub_area(*args):
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]

        # #获取 组合框【一级分区】 当前选项的值
        parent_live_area_combobox_value = obs.obs_data_get_string(
            GlobalVariableOfData.script_settings,widget.ComboBox.roomParentArea.Name
        )
        """组合框【一级分区】 当前选项的值"""
        # #获取 组合框【二级分区】 当前选项的值
        sub_live_area_combobox_value = obs.obs_data_get_string(
            GlobalVariableOfData.script_settings,widget.ComboBox.roomSubArea.Name
        )

        change_room_area_return = get_b_csrf_a().change_room_area(get_b_s_a_m().get_room_highlight_info()["data"]["room_id"], int(sub_live_area_combobox_value))
        log_save(obs.LOG_INFO, f"更新直播间分区返回：{change_room_area_return}")
        if change_room_area_return["success"]:
            log_save(obs.LOG_INFO, f"直播间分区更改成功: {sub_live_area_combobox_value}")
        else:
            if change_room_area_return["api_code"] == 60024:
                ButtonFunction.button_function_face_auth()
            log_save(obs.LOG_WARNING, f"直播间分区更改失败：{change_room_area_return['message']}")
            return False

        # 更改默认常用直播间分区
        common_areas_text = list(get_common_area_id_dict_str4common_area_name_dict_str().keys())[0]
        widget.ComboBox.roomCommonAreas.Text = common_areas_text
        common_areas_value = list(get_common_area_id_dict_str4common_area_name_dict_str().values())[0]
        widget.ComboBox.roomCommonAreas.Value = common_areas_value
        widget.ComboBox.roomCommonAreas.Dictionary = get_common_area_id_dict_str4common_area_name_dict_str()

        widget.ComboBox.roomParentArea.Text = get_area()["parent_area_name"]
        widget.ComboBox.roomParentArea.Value = get_area()["parent_area_id"]

        widget.ComboBox.roomSubArea.Text = get_area()["area_name"]
        widget.ComboBox.roomSubArea.Value = get_sub_live_area_name4sub_live_area_id()[str(get_area()["area_name"])]
        widget.ComboBox.roomSubArea.Dictionary = get_sub_live_area_name4sub_live_area_id()

        clear_cache()

        # 更新脚本控制台中的控件
        GlobalVariableOfData.update_widget_for_props_dict = {
            "live_streaming_section_props": widget.props_Collection["live_streaming_section_props"],
        }
        log_save(obs.LOG_INFO, f"更新控件配置信息")
        script_defaults(GlobalVariableOfData.script_settings)
        # 更新脚本用户小部件
        log_save(obs.LOG_INFO, f"更新控件UI")
        update_ui_interface_data()
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        return True

    @staticmethod
    def button_function_jump_blive_web(*args):
        """
        跳转直播间后台网页
        """
        # OBS 27的URL类型按钮不会触发回调且OBS内部未实现调用系统默认浏览器，这里统一用普通按钮+Python 打开浏览器
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        url = widget.Button.bliveWebJump.Url
        try:
            log_save(obs.LOG_INFO, f"即将尝试在默认浏览器中打开直播间后台网页: {url}")
            webbrowser.open(url)
            log_save(obs.LOG_INFO, "✅ 打开直播间后台网页命令已发送给系统浏览器")
        except Exception as e:
            log_save(obs.LOG_ERROR, f"❌ 打开直播间后台网页失败: {e}")

    # ____________________-------------------____________________---------------------_______________________---------------
    @staticmethod
    def button_function_start_live(*args):
        """
        开始直播
        """
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        # 获取二级分区id
        sub_live_area_combobox_value = widget.ComboBox.roomSubArea.Value
        # 获取开播平台
        live_streaming_platform = obs.obs_data_get_string(
            GlobalVariableOfData.script_settings, widget.ComboBox.liveStreamingPlatform.Name
        )
        log_save(obs.LOG_INFO, f"使用【{live_streaming_platform}】平台 在【{sub_live_area_combobox_value}】分区 开播")

        start_live = get_b_csrf_a().start_live(get_b_s_a_m().get_room_highlight_info()["data"]["room_id"], int(sub_live_area_combobox_value), live_streaming_platform)
        log_save(obs.LOG_INFO, f"开播返回：{start_live}")
        if start_live["success"]:
            log_save(obs.LOG_INFO, f"开播成功。")
        else:
            if start_live["api_code"] == 60024:
                ButtonFunction.button_function_face_auth()
            log_save(obs.LOG_ERROR, f"开播失败：【{start_live['message']}】。")
            return True

        widget.ComboBox.liveStreamingPlatform.Text = list(widget.ComboBox.liveStreamingPlatform.Dictionary.keys())[list(widget.ComboBox.liveStreamingPlatform.Dictionary.values()).index(live_streaming_platform)]
        widget.ComboBox.liveStreamingPlatform.Value = live_streaming_platform

        # 推流地址
        rtmp_server = start_live["data"]["rtmp"]["addr"]
        log_save(obs.LOG_INFO, f"B站rtmp推流地址：{rtmp_server}")
        # rtmp推流码
        rtmp_push_code = start_live["data"]["rtmp"]["code"]
        log_save(obs.LOG_INFO, f"B站rtmp推流码：{rtmp_push_code}")
        # 复制 rtmp推流码 到剪贴板
        cb.copy(rtmp_push_code)
        log_save(obs.LOG_INFO, f"已将rtmp推流码复制到剪贴板")

        # 获取当前流服务
        streaming_service = obs.obs_frontend_get_streaming_service()
        # 获取当前流服务设置
        streaming_service_type = obs.obs_service_get_type(streaming_service)
        log_save(obs.LOG_INFO, f"目前obs的推流类型：【{streaming_service_type}】")
        streaming_service_settings = obs.obs_service_get_settings(streaming_service)
        currently_service_string = obs.obs_data_get_string(streaming_service_settings, "service")
        log_save(obs.LOG_INFO, f"目前obs的推流服务：【{currently_service_string}】")
        currently_rtmp_server = obs.obs_data_get_string(streaming_service_settings, "server")
        log_save(obs.LOG_INFO, f"目前obs的rtmp推流地址：【{currently_rtmp_server}】")
        currently_rtmp_push_code = obs.obs_data_get_string(streaming_service_settings, "key")
        log_save(obs.LOG_INFO, f"目前obs的rtmp推流码：【{currently_rtmp_push_code}】")
        log_save(obs.LOG_INFO, f"obs推流状态：{obs.obs_frontend_streaming_active()}")
        if (streaming_service_type == "rtmp_custom" and currently_rtmp_push_code == rtmp_push_code and currently_rtmp_server == rtmp_server) or \
            (currently_service_string == "Bilibili Live - RTMP | 哔哩哔哩直播 - RTMP" and currently_rtmp_push_code == rtmp_push_code and currently_rtmp_server == rtmp_server):
            log_save(obs.LOG_INFO, f"推流信息未发生变化，准备推流")
            if obs.obs_frontend_streaming_active():
                log_save(obs.LOG_INFO, f"正在推流状态中")
            else:
                log_save(obs.LOG_INFO, f"即将开始推流")
                GlobalVariableOfData.causeOfTheFrontDeskIncident = "开始直播并复制推流码"
                obs.obs_frontend_streaming_start()
        else:
            log_save(obs.LOG_INFO, f"推流信息发生变化，更改推流信息")
            # 停止推流
            if obs.obs_frontend_streaming_active():
                log_save(obs.LOG_INFO, f"正处于推流状态中，停止推流")
                GlobalVariableOfData.causeOfTheFrontDeskIncident = "开始直播并复制推流码"
                obs.obs_frontend_streaming_stop()
            # 写入推流服务
            obs.obs_data_set_string(streaming_service_settings, "service", "Bilibili Live - RTMP | 哔哩哔哩直播 - RTMP")
            log_save(obs.LOG_INFO, f"向obs写入推流服务：【Bilibili Live - RTMP | 哔哩哔哩直播 - RTMP】")
            # 写入推流地址
            obs.obs_data_set_string(streaming_service_settings, "server", rtmp_server)
            log_save(obs.LOG_INFO, f"向obs写入推流地址：【{rtmp_server}】")
            # 写入rtmp推流码
            obs.obs_data_set_string(streaming_service_settings, "key", rtmp_push_code)
            log_save(obs.LOG_INFO, f"向obs写入rtmp推流码：【{rtmp_push_code}】")
            # 应用更新
            obs.obs_service_update(streaming_service, streaming_service_settings)
            # 检查是否需要重启推流
            log_save(obs.LOG_INFO, f"准备推流")

            if not obs.obs_frontend_streaming_active():
                log_save(obs.LOG_INFO, f"开始推流")
                GlobalVariableOfData.causeOfTheFrontDeskIncident = "开始直播并复制推流码"
                obs.obs_frontend_streaming_start()
            currently_service_string = obs.obs_data_get_string(streaming_service_settings, "service")
            log_save(obs.LOG_INFO, f"目前obs的推流服务：【{currently_service_string}】")
            currently_rtmp_server = obs.obs_data_get_string(streaming_service_settings, "server")
            log_save(obs.LOG_INFO, f"目前obs的rtmp推流地址：【{currently_rtmp_server}】")
            currently_rtmp_push_code = obs.obs_data_get_string(streaming_service_settings, "key")
            log_save(obs.LOG_INFO, f"目前obs的rtmp推流码：【{currently_rtmp_push_code}】")
        # 释放流服务设置
        obs.obs_data_release(streaming_service_settings)
        # 保存到配置文件
        obs.obs_frontend_save_streaming_service()

        clear_cache()

        # 更新脚本控制台中的控件
        GlobalVariableOfData.update_widget_for_props_dict = {
            "props": {widget.Group.account.Name},
            "room_props": {widget.TextBox.roomStatus.Name},
            "live_props": widget.props_Collection["live_props"]
        }
        log_save(obs.LOG_INFO, f"更新控件配置信息")
        script_defaults(GlobalVariableOfData.script_settings)
        # 更新脚本用户小部件
        log_save(obs.LOG_INFO, f"更新控件UI")
        update_ui_interface_data()
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        return True

    @staticmethod
    def button_function_rtmp_address_copy(*args):
        """
        复制直播服务器
        """
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        stream_addr = get_b_s_a_m().get_live_stream_info(get_b_s_a_m().get_room_highlight_info()["data"]["room_id"])
        log_save(obs.LOG_INFO, f"获取直播服务器返回：{stream_addr}")
        if stream_addr["success"]:
            log_save(obs.LOG_INFO, f"获取直播服务器成功")
            log_save(obs.LOG_INFO, f"直播服务器：【{stream_addr['data']['rtmp']['addr']}】")
            cb.copy(stream_addr['data']['rtmp']['addr'])
            log_save(obs.LOG_INFO, f"已将 直播服务器 复制到剪贴板")
        else:
            log_save(obs.LOG_ERROR, f"获取直播服务器失败：{stream_addr['error']}")

        clear_cache()
        return True

    @staticmethod
    def button_function_rtmp_stream_code_copy(*args):
        """
        复制直播推流码
        """
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        stream_addr = get_b_s_a_m().get_live_stream_info(get_b_s_a_m().get_room_highlight_info()["data"]["room_id"])
        log_save(obs.LOG_INFO, f"获取直播推流码返回：{stream_addr}")
        if stream_addr["success"]:
            log_save(obs.LOG_INFO, f"获取直播推流码成功")
            log_save(obs.LOG_INFO, f"直播推流码：【{stream_addr['data']['rtmp']['code']}】")
            cb.copy(stream_addr['data']['rtmp']['code'])
            log_save(obs.LOG_INFO, f"已将 直播推流码 复制到剪贴板")
        else:
            log_save(obs.LOG_ERROR, f"获取直播推流码失败：{stream_addr['message']}")
            return False

        clear_cache()
        return True

    @staticmethod
    def button_function_stop_live(*args):
        """
        结束直播
        """
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        # 停止推流
        if obs.obs_frontend_streaming_active():
            log_save(obs.LOG_INFO, f"停止推流")
            GlobalVariableOfData.causeOfTheFrontDeskIncident = "结束直播"
            obs.obs_frontend_streaming_stop()

        # 获取开播平台
        live_streaming_platform = obs.obs_data_get_string(GlobalVariableOfData.script_settings,
                                                          'live_streaming_platform_comboBox')
        log_save(obs.LOG_INFO, f"在【{live_streaming_platform}】平台 结束直播")

        stop_live = get_b_csrf_a().stop_live(get_b_s_a_m().get_room_highlight_info()["data"]["room_id"], live_streaming_platform)
        log_save(obs.LOG_INFO, f"停播返回：{stop_live}")
        if stop_live["success"]:
            log_save(obs.LOG_INFO, f"停播成功。")
        else:
            log_save(obs.LOG_ERROR, f"停播失败：【{stop_live['message']}】。")
            return False

        clear_cache()

        # 更新脚本控制台中的控件
        GlobalVariableOfData.update_widget_for_props_dict = {
            "props": {widget.Group.account.Name},
            "room_props": {widget.TextBox.roomStatus.Name},
            "live_props": widget.props_Collection["live_props"]
        }
        log_save(obs.LOG_INFO, f"更新控件配置信息")
        script_defaults(GlobalVariableOfData.script_settings)
        # 更新脚本用户小部件
        log_save(obs.LOG_INFO, f"更新控件UI")
        update_ui_interface_data()
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        return True

    @staticmethod
    def button_function_true_live_appointment_day(*args):
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        """确认预约天"""
        appointment_day_int = obs.obs_data_get_int(GlobalVariableOfData.script_settings,
                                                   "live_bookings_day_digitalSlider")
        appointment_day_digital_slider_min = obs.obs_property_int_min(widget.DigitalDisplay.liveBookingsDay.Obj)
        appointment_day_digital_slider_max = obs.obs_property_int_max(widget.DigitalDisplay.liveBookingsDay.Obj)
        appointment_hour_int = obs.obs_data_get_int(GlobalVariableOfData.script_settings,
                                                    "live_bookings_hour_digitalSlider")
        appointment_hour_digital_slider_min = obs.obs_property_int_min(widget.DigitalDisplay.liveBookingsHour.Obj)
        appointment_hour_digital_slider_max = obs.obs_property_int_max(widget.DigitalDisplay.liveBookingsHour.Obj)
        appointment_minute_int = obs.obs_data_get_int(GlobalVariableOfData.script_settings,
                                                      "live_bookings_minute_digitalSlider")
        appointment_minute_digital_slider_min = obs.obs_property_int_min(widget.DigitalDisplay.liveBookingsMinute.Obj)
        appointment_minute_digital_slider_max = obs.obs_property_int_max(widget.DigitalDisplay.liveBookingsMinute.Obj)

        if appointment_day_int == 180 and (
                appointment_hour_digital_slider_min != 0 or appointment_hour_digital_slider_max != 0 or appointment_minute_digital_slider_min != 0 or appointment_minute_digital_slider_max != 0):
            log_save(obs.LOG_INFO, f"由于【预约天】等于180天了，所以将【预约时】和【预约分】锁定为：0")
            obs.obs_property_int_set_limits(widget.DigitalDisplay.liveBookingsHour.Obj, 0, 0, 0)
            if appointment_hour_int > 0:
                obs.obs_data_set_int(GlobalVariableOfData.script_settings, "live_bookings_hour_digitalSlider", 0)
            obs.obs_property_int_set_limits(widget.DigitalDisplay.liveBookingsMinute.Obj, 0, 0, 0)
            if appointment_minute_int > 0:
                obs.obs_data_set_int(GlobalVariableOfData.script_settings, "live_bookings_minute_digitalSlider", 0)
            return True

        if (((0 < appointment_day_int < 180) and appointment_hour_int <= 23) or (
                appointment_day_int == 0 and (0 < appointment_hour_int <= 23))) and (
                appointment_hour_digital_slider_min != 0 or appointment_hour_digital_slider_max != 23 or appointment_minute_digital_slider_min != 0 or appointment_minute_digital_slider_max != 59):
            log_save(obs.LOG_INFO,
                     f"由于【预约天】不为180天，且【预约天】和【预约时】其中一个不为0 所以将【预约分】最低值设定为：0")
            obs.obs_property_int_set_limits(widget.DigitalDisplay.liveBookingsHour.Obj, 0, 23, 1)
            obs.obs_property_int_set_limits(widget.DigitalDisplay.liveBookingsMinute.Obj, 0, 59, 1)
            return True

        if appointment_day_int == 0 and appointment_hour_int == 0 and (
                appointment_hour_digital_slider_min != 0 or appointment_hour_digital_slider_max != 23 or appointment_minute_digital_slider_min != 5 or appointment_minute_digital_slider_max != 59):
            log_save(obs.LOG_INFO, f"【预约天】和【预约时】其中均为0 所以将【预约分】最低值设定为：5")
            obs.obs_property_int_set_limits(widget.DigitalDisplay.liveBookingsHour.Obj, 0, 23, 1)
            obs.obs_property_int_set_limits(widget.DigitalDisplay.liveBookingsMinute.Obj, 5, 59, 1)
            if appointment_minute_int < 5:
                obs.obs_data_set_int(GlobalVariableOfData.script_settings, "live_bookings_minute_digitalSlider", 5)
            return True
        return False

    @staticmethod
    def button_function_true_live_appointment_hour(*args):
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        return ButtonFunction.button_function_true_live_appointment_day()

    @staticmethod
    def button_function_true_live_appointment_minute(*args):
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        return ButtonFunction.button_function_true_live_appointment_day()

    @staticmethod
    def button_function_creat_live_appointment(*args):
        """创建直播预约"""
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        # 获取直播预约天
        live_bookings_day = obs.obs_data_get_int(
            GlobalVariableOfData.script_settings,widget.DigitalDisplay.liveBookingsDay.Name
        )
        log_save(obs.LOG_INFO, f"直播预约天: {live_bookings_day}")
        # 获取直播预约时
        live_bookings_hour = obs.obs_data_get_int(
            GlobalVariableOfData.script_settings,widget.DigitalDisplay.liveBookingsHour.Name
        )
        log_save(obs.LOG_INFO, f"直播预约时: {live_bookings_hour}")
        # 获取直播预约分
        live_bookings_minute = obs.obs_data_get_int(
            GlobalVariableOfData.script_settings, widget.DigitalDisplay.liveBookingsMinute.Name
        )
        log_save(obs.LOG_INFO, f"直播预约分: {live_bookings_minute}")

        # 限制直播时间内范围
        if not (5 <= (live_bookings_day * 24 * 60 + live_bookings_hour * 60 + live_bookings_minute) <= 180 * 24 * 60):
            log_save(obs.LOG_ERROR,f"直播预约时间需要大于 5min 以及 小于 59day")
            return False
        else:
            log_save(obs.LOG_INFO, f"直播预约时间: {live_bookings_day}天{live_bookings_hour}时{live_bookings_minute}分")

        # 获取直播预约标题
        live_bookings_title = obs.obs_data_get_string(
            GlobalVariableOfData.script_settings,widget.TextBox.liveBookingsTitle.Name
        )
        log_save(obs.LOG_INFO, f"直播预约标题: {live_bookings_title}")
        # 获取是否发动态
        live_bookings_dynamic_is = obs.obs_data_get_bool(
            GlobalVariableOfData.script_settings,widget.CheckBox.liveBookingsDynamic.Name
        )
        log_save(obs.LOG_INFO, f"直播预约是否发动态: {live_bookings_dynamic_is}")

        # 创建直播预约
        create_reserve_return = get_b_csrf_a().create_reserve(
            title=live_bookings_title,
            live_plan_start_time=Tools.get_future_timestamp(
                live_bookings_day,
                live_bookings_hour,
                live_bookings_minute
            ),
            create_dynamic=live_bookings_dynamic_is
        )
        log_save(obs.LOG_INFO, f"创建直播预约返回: {create_reserve_return}")
        if create_reserve_return['success']:
            log_save(obs.LOG_INFO, f"创建直播预约成功")
        else:
            log_save(obs.LOG_ERROR, f"创建直播预约失败: {create_reserve_return['error']}")
            if create_reserve_return['api_code'] == -400:
                log_save(obs.LOG_ERROR, f"直播预约标题错误: 【{live_bookings_title}】")
            return False

        clear_cache()

        # 更新脚本控制台中的控件
        GlobalVariableOfData.update_widget_for_props_dict = {
            "booking_props": {"live_bookings_comboBox"},
            "booking_send_props": widget.props_Collection["booking_send_props"],
        }
        log_save(obs.LOG_INFO, f"更新控件配置信息")
        script_defaults(GlobalVariableOfData.script_settings)
        # 更新脚本用户小部件
        log_save(obs.LOG_INFO, f"更新控件UI")
        update_ui_interface_data()
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        return True

    @staticmethod
    def button_function_cancel_live_appointment(*args):
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        """取消直播预约"""
        # 获取当前直播预约的sid
        live_bookings_sid = obs.obs_data_get_string(
            GlobalVariableOfData.script_settings, widget.ComboBox.liveBookings.Name
        )
        log_save(obs.LOG_INFO, f"当前直播预约的sid: {live_bookings_sid}")
        if live_bookings_sid in ["-1"]:
            log_save(obs.LOG_ERROR, f"无直播预约")
            return False
        cancel_reserve_return = get_b_csrf_a().cancel_reserve(int(live_bookings_sid))
        log_save(obs.LOG_INFO, f"取消直播预约返回: {cancel_reserve_return}")
        if cancel_reserve_return['success']:
            log_save(obs.LOG_INFO, f"取消直播预约成功")
        else:
            log_save(obs.LOG_ERROR, f"取消直播预约失败: {cancel_reserve_return['error']}")
            return False

        clear_cache()

        # 更新脚本控制台中的控件
        GlobalVariableOfData.update_widget_for_props_dict = {
            "booking_props": {"live_bookings_comboBox"}
        }
        log_save(obs.LOG_INFO, f"更新控件配置信息")
        script_defaults(GlobalVariableOfData.script_settings)
        # 更新脚本用户小部件
        log_save(obs.LOG_INFO, f"更新控件UI")
        update_ui_interface_data()
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        return True

    @staticmethod
    def button_function_setting_danmu_data(*args):
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        widget.DigitalDisplay.danmuNumCommentsClient.Value = obs.obs_data_get_int(
            GlobalVariableOfData.script_settings, widget.DigitalDisplay.danmuNumCommentsClient.Name
        )
        number_of_comments_client = str(widget.DigitalDisplay.danmuNumCommentsClient.Value)
        
        widget.DigitalDisplay.danmuIntervalNumCommentsClient.Value = obs.obs_data_get_int(
            GlobalVariableOfData.script_settings, widget.DigitalDisplay.danmuIntervalNumCommentsClient.Name
        )
        interval_number_of_comments_client = str(widget.DigitalDisplay.danmuIntervalNumCommentsClient.Value)
        
        widget.CheckBox.enterRoomDisplay.Bool = obs.obs_data_get_bool(
            GlobalVariableOfData.script_settings, widget.CheckBox.enterRoomDisplay.Name
        )
        is_enter_room_display = "1" if widget.CheckBox.enterRoomDisplay.Bool else "0"
        
        widget.CheckBox.medalDisplay.Bool = obs.obs_data_get_bool(
            GlobalVariableOfData.script_settings, widget.CheckBox.medalDisplay.Name
        )
        is_medal_display = "1" if widget.CheckBox.medalDisplay.Bool else "0"
        
        widget.CheckBox.medalOtherDisplay.Bool = obs.obs_data_get_bool(
            GlobalVariableOfData.script_settings, widget.CheckBox.medalOtherDisplay.Name
        )
        is_medal_other_display = "1" if widget.CheckBox.medalOtherDisplay.Bool else "0"
        
        
        widget.CheckBox.medalUnLightDisplay.Bool = obs.obs_data_get_bool(
            GlobalVariableOfData.script_settings, widget.CheckBox.medalUnLightDisplay.Name
        )
        is_medal_un_light_display = "1" if widget.CheckBox.medalUnLightDisplay.Bool else "0"
        
        widget.CheckBox.lineBreakDisplay.Bool = obs.obs_data_get_bool(
            GlobalVariableOfData.script_settings, widget.CheckBox.lineBreakDisplay.Name
        )
        is_line_break_display = "1" if widget.CheckBox.lineBreakDisplay.Bool else "0"
        
        widget.CheckBox.tagAdministratorDisplay.Bool = obs.obs_data_get_bool(
            GlobalVariableOfData.script_settings, widget.CheckBox.tagAdministratorDisplay.Name
        )
        is_tag_administrator = "1" if widget.CheckBox.tagAdministratorDisplay.Bool else "0"
        
        widget.CheckBox.timestampDisplay.Bool = obs.obs_data_get_bool(
            GlobalVariableOfData.script_settings, widget.CheckBox.timestampDisplay.Name
        )
        is_timestamp_display = "1" if widget.CheckBox.timestampDisplay.Bool else "0"
        
        widget.DigitalDisplay.danmuNumCacheEntries.Value = obs.obs_data_get_int(
            GlobalVariableOfData.script_settings, widget.DigitalDisplay.danmuNumCacheEntries.Name
        )
        number_of_cache_entries = str(widget.DigitalDisplay.danmuNumCacheEntries.Value)
        
        widget.DigitalDisplay.danmuCacheDuration.Value = obs.obs_data_get_int(
            GlobalVariableOfData.script_settings, widget.DigitalDisplay.danmuCacheDuration.Name
        )
        cache_duration = str(widget.DigitalDisplay.danmuCacheDuration.Value)
        
        widget.DigitalDisplay.danmuFacePictureSize.Value = obs.obs_data_get_int(
            GlobalVariableOfData.script_settings, widget.DigitalDisplay.danmuFacePictureSize.Name
        )
        face_picture_size = str(widget.DigitalDisplay.danmuFacePictureSize.Value)
        
        widget.DigitalDisplay.danmuFanMedalTextSize.Value = obs.obs_data_get_int(
            GlobalVariableOfData.script_settings, widget.DigitalDisplay.danmuFanMedalTextSize.Name
        )
        fan_medal_text_size = str(widget.DigitalDisplay.danmuFanMedalTextSize.Value)
        
        widget.DigitalDisplay.danmuMessageTextSize.Value = obs.obs_data_get_int(
            GlobalVariableOfData.script_settings, widget.DigitalDisplay.danmuMessageTextSize.Name
        )
        message_text_size = str(widget.DigitalDisplay.danmuMessageTextSize.Value)
        
        widget.DigitalDisplay.danmuTimeTextSize.Value = obs.obs_data_get_int(
            GlobalVariableOfData.script_settings, widget.DigitalDisplay.danmuTimeTextSize.Name
        )
        time_text_size = str(widget.DigitalDisplay.danmuTimeTextSize.Value)
        
        setting = "/".join([
            number_of_comments_client,
            interval_number_of_comments_client,
            is_enter_room_display,
            is_medal_display,
            is_medal_other_display,
            is_medal_un_light_display,
            is_line_break_display,
            is_tag_administrator,
            is_timestamp_display,
            number_of_cache_entries,
            cache_duration,
            face_picture_size,
            fan_medal_text_size,
            message_text_size,
            time_text_size
        ])
        get_c_d_m().add_data(get_b_u_c_m().get_default_user_id(), "danmuSetting", setting, 1)
        log_save(obs.LOG_INFO, f"弹幕默认值更改：{setting}")
        clear_cache()
        return False

    @staticmethod
    def button_function_apply_danmu_css(*args):
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        danmu_web_css_t: str = obs.obs_data_get_string(GlobalVariableOfData.script_settings, widget.TextBox.danmuWebCss.Name)

        get_c_d_m().add_data(
            get_b_u_c_m().get_default_user_id(),
            "danmuWebCss",
            danmu_web_css_t,
            1
        )

        clear_cache()
        # -----------------------------------------------------------------------------------------------------------
        # 更新脚本控制台中的控件-----------------------------------------------------------------------------------------
        GlobalVariableOfData.update_widget_for_props_dict = {
            "danmu_props": {
                widget.TextBox.danmuWebCss.Name,
            }
        }
        log_save(obs.LOG_INFO, f"更新控件配置信息")
        script_defaults(GlobalVariableOfData.script_settings)
        # 更新脚本用户小部件
        log_save(obs.LOG_INFO, f"更新控件UI")
        update_ui_interface_data()
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        return False

    @staticmethod
    def button_function_confirm_danmu_wss_port(*args):
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        server_prot: str = obs.obs_data_get_string(GlobalVariableOfData.script_settings, widget.TextBox.danmuWssProt.Name)
        log_save(obs.LOG_INFO, f"弹幕服务端口：{server_prot}")
        if not widget.TextBox.danmuWssProt.Text:
            log_save(obs.LOG_WARNING, "错误: 服务端口不合法")
            return False
        get_c_d_m().add_data(get_b_u_c_m().get_default_user_id(), "danmuWssProt", server_prot, 1)

        clear_cache()
        # -----------------------------------------------------------------------------------------------------------
        # 更新脚本控制台中的控件-----------------------------------------------------------------------------------------
        GlobalVariableOfData.update_widget_for_props_dict = {
            "danmu_props": {
                widget.TextBox.danmuWssProt.Name,
            }
        }
        log_save(obs.LOG_INFO, f"更新控件配置信息")
        script_defaults(GlobalVariableOfData.script_settings)
        # 更新脚本用户小部件
        log_save(obs.LOG_INFO, f"更新控件UI")
        update_ui_interface_data()
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        return False

    @staticmethod
    def button_function_add_danmu_roomid(*args):
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        room: str = obs.obs_data_get_string(GlobalVariableOfData.script_settings, widget.ComboBox.danmuRoom.Name)
        if str(room) in list(widget.ComboBox.danmuRoom.Dictionary.keys()):
            room = list(widget.ComboBox.danmuRoom.Dictionary.values())[list(widget.ComboBox.danmuRoom.Dictionary.keys()).index(str(room))]
        log_save(obs.LOG_INFO, f"添加直播间：{room}")
        room_base_info = get_b_a_g().get_room_base_info(int(room))
        log_save(obs.LOG_INFO, f"获取直播间基本信息: {room_base_info}")
        if room_base_info["success"]:
            get_c_d_m().add_data(get_b_u_c_m().get_default_user_id(), "danmuRoomid", str(room_base_info["data"]["room_id"]), 99)
            log_save(obs.LOG_INFO, f"添加直播间：{room}成功")
        else:
            return False
            
        clear_cache()

        # 更新脚本控制台中的控件
        GlobalVariableOfData.update_widget_for_props_dict = {
            "danmu_props": {
                "danmu_room_comboBox",
                "danmu_send_group",
            },
            "danmu_send_props": {
                "danmu_emoticons_comboBox",
                "merge_emoticons_button",
                "danmu_send_text_textBox",
                "danmu_send_button",
            },
        }
        log_save(obs.LOG_INFO, f"更新控件配置信息")
        script_defaults(GlobalVariableOfData.script_settings)
        # 更新脚本用户小部件
        log_save(obs.LOG_INFO, f"更新控件UI")
        update_ui_interface_data()
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        return True

    @staticmethod
    def button_function_del_danmu_roomid(*args):
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        room: str = obs.obs_data_get_string(GlobalVariableOfData.script_settings, widget.ComboBox.danmuRoom.Name)
        if str(room) in list(widget.ComboBox.danmuRoom.Dictionary.keys()):
            room = list(widget.ComboBox.danmuRoom.Dictionary.values())[list(widget.ComboBox.danmuRoom.Dictionary.keys()).index(str(room))]
        log_save(obs.LOG_INFO, f"删除直播间：{room}")
        log_save(obs.LOG_INFO, str(get_c_d_m().remove_data(get_b_u_c_m().get_default_user_id(), "danmuRoomid", str(room))))

        clear_cache()

        # 更新脚本控制台中的控件
        GlobalVariableOfData.update_widget_for_props_dict = {
            "danmu_props": {
                "danmu_room_comboBox",
                "danmu_send_group",
            },
            "danmu_send_props": {
                "danmu_emoticons_comboBox",
                "merge_emoticons_button",
                "danmu_send_text_textBox",
                "danmu_send_button",
            },
        }
        log_save(obs.LOG_INFO, f"更新控件配置信息")
        script_defaults(GlobalVariableOfData.script_settings)
        # 更新脚本用户小部件
        log_save(obs.LOG_INFO, f"更新控件UI")
        update_ui_interface_data()
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        return True

    @staticmethod
    def button_function_start_danmu_forwarding_service(*args):
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        # -----------------------------------------------------------------------------------------------------------
        # 启动弹幕服务-------------------------------------------------------------------------------------------------
        async def show_danmu():
            url2pillow_image_headers = {
                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 '
                              '(KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3',
                'cookie': Tools.dict_to_cookie_string(get_b_u_c_m().get_user_cookies()['data'])
            }

            def get_color_by_amount(amount):
                """
                根据金额获取对应的颜色信息

                参数:
                    amount: 金额数值

                返回:
                    字典格式的颜色信息，包含color_name、css_color、primary_color和secondary_color
                """
                coin_color = {
                    0: {
                        'color_name': '蓝色',
                        'css_color': '#0000FF',
                        'primary_color': 'rgba(0, 123, 255, 1)',  # 较亮的蓝色
                        'secondary_color': 'rgba(0, 86, 179, 1)'  # 较暗的蓝色
                    },
                    30: {
                        'color_name': '浅蓝色',
                        'css_color': '#87CEEB',
                        'primary_color': 'rgba(135, 206, 235, 1)',  # 较亮的浅蓝色
                        'secondary_color': 'rgba(102, 178, 214, 1)'  # 较暗的浅蓝色
                    },
                    50: {
                        'color_name': '绿色',
                        'css_color': '#008000',
                        'primary_color': 'rgba(76, 175, 80, 1)',  # 较亮的绿色
                        'secondary_color': 'rgba(56, 142, 60, 1)'  # 较暗的绿色
                    },
                    100: {
                        'color_name': '黄色',
                        'css_color': '#FFFF00',
                        'primary_color': 'rgba(255, 235, 59, 1)',  # 较亮的黄色
                        'secondary_color': 'rgba(253, 216, 53, 1)'  # 较暗的黄色
                    },
                    500: {
                        'color_name': '橘色',
                        'css_color': '#FFA500',
                        'primary_color': 'rgba(255, 152, 0, 1)',  # 较亮的橘色
                        'secondary_color': 'rgba(245, 124, 0, 1)'  # 较暗的橘色
                    },
                    1000: {
                        'color_name': '洋红色',
                        'css_color': '#FF00FF',
                        'primary_color': 'rgba(233, 30, 99, 1)',  # 较亮的洋红色
                        'secondary_color': 'rgba(194, 24, 91, 1)'  # 较暗的洋红色
                    },
                    2000: {
                        'color_name': '红色',
                        'css_color': '#FF0000',
                        'primary_color': 'rgba(244, 67, 54, 1)',  # 较亮的红色
                        'secondary_color': 'rgba(229, 57, 53, 1)'  # 较暗的红色
                    }
                }
                thresholds = sorted(coin_color.keys())
                matching_threshold = 0

                for threshold in thresholds:
                    if amount >= threshold:
                        matching_threshold = threshold
                    else:
                        break

                return coin_color[matching_threshold], matching_threshold

            def reply_with_a_callback_after_verification(auth_response: bytes):
                """

                Args:
                    auth_response:
                        16 字节 认证回复

                            [0:4]包总长度
                                (头部大小 + 正文大小)
                            [4:6]头部长度
                                (一般为 0x0010, 即 16 字节)
                            [6:8]协议版本
                                - 0: 普通包 (正文不使用压缩)
                                - 1: 心跳及认证包 (正文不使用压缩)
                                - 2: 普通包 (正文使用 zlib 压缩)
                                - 3: 普通包 (使用 brotli 压缩的多个带文件头的普通包)
                            [8:12]操作码
                                - 2	心跳包
                                - 3	心跳包回复 (人气值)
                                - 5	普通包 (命令)
                                - 7	认证包
                                - 8	认证包回复
                            [12:16]序列号

                            [16:]正文内容
                Returns:

                """
                log_save(obs.LOG_INFO, f"认证成功，连接已建立")
                # 解析头部 (16 字节)
                package_len = struct.unpack('>I', auth_response[0:4])[0]  # 包总长度
                head_length = struct.unpack('>H', auth_response[4:6])[0]  # 头部长度
                prot_ver = struct.unpack('>H', auth_response[6:8])[0]  # 协议版本
                opt_code = struct.unpack('>I', auth_response[8:12])[0]  # 操作码
                sequence = struct.unpack('>I', auth_response[12:16])[0]  # 序列号

                # 解析正文
                content_bytes: bytes = auth_response[16:package_len]  # 正文
                content_str = content_bytes.decode('utf-8')

                log_save(obs.LOG_INFO,
                    f"包总长度: {package_len} 字节\t头部长度: {head_length} 字节\t协议版本: {prot_ver}\t操作码: {opt_code} (8 = 认证回复)\t序列号: {sequence}\t正文内容: {content_str}\t")

            def send_heartbeat():
                log_save(obs.LOG_INFO, "发送心跳")
                if GlobalVariableOfData.danmu_running:
                    return
                log_save(obs.LOG_INFO, "关闭弹幕转发和弹幕")
                ws_server.stop_server()
                cdm.stop()
                GlobalVariableOfData.danmu_run_status = False

            def when_danmu_start(num_r):
                log_save(obs.LOG_INFO, f"启动 {num_r} 个弹幕连接...")
                GlobalVariableOfData.danmu_run_status = 1

            def when_danmu_started():
                log_save(obs.LOG_INFO, "所有弹幕连接已启动，等待停止信号...")
                GlobalVariableOfData.danmu_run_status = 2

            def danmu_processing(content: dict):
                """

                Args:
                    content: 直播间消息

                Returns:

                """
                def LIVE():
                    # 直播开始 (LIVE)
                    contentdata = content
                    roomid = contentdata['roomid']
                    if 'live_time' in contentdata:
                        live_time = contentdata['live_time']
                        live_platform = contentdata['live_platform']

                        # 转发到 WebSocket
                        asyncio.create_task(ws_server.send_danmu_message({
                            "type": "live_start",
                            "messageData": f'🔴直播开始：房间{roomid} 平台[{live_platform}]',
                            "roomid": roomid,
                            "live_time": live_time,
                            "live_platform": live_platform,
                            "timestamp": live_time
                        }))

                def DANMU_MSG():
                    user_name = ''  # 昵称
                    """发送者昵称"""
                    user_face_picture = ''  # 头像
                    """头像"""
                    face_picture_x = '40'  # 头像宽度
                    """头像宽度"""
                    face_picture_y = '40'  # 头像高度
                    """头像高度"""
                    user_id = ''  # id
                    """发送者id"""
                    identity_title = ''  # 身份头衔：管理员 moderator，船员 member，主播 owner，普通为空
                    """身份头衔"""
                    privilege_level = '0'  # 特权级别 1,2,3,0
                    """特权级别"""
                    fleet_title = ''  # 舰队称号
                    """舰队称号"""
                    fan_medal_name = ''
                    """粉丝勋章名称"""
                    fan_medal_level = '0'
                    """粉丝勋章等级"""
                    fan_medal_color_start = ''
                    """粉丝勋章开始颜色"""
                    fan_medal_color_end = ''
                    """粉丝勋章结束颜色"""
                    fan_medal_color_border = ''
                    """粉丝勋章边框颜色"""
                    fan_medal_color_text = ''
                    """粉丝勋章文本色"""
                    fan_medal_color_level = ''
                    """粉丝勋章等级颜色"""
                    fleet_badge = ''  # 舰队徽章
                    """舰队徽章"""
                    message_data = []  # 消息数据
                    """消息数据"""
                    timestamp = '0'  # 发送时间
                    """发送时间"""
                    is_admin = False  # 是否管理员
                    """是否管理员"""
                    is_fan_group = False  # 是否有粉丝勋章
                    """是否有粉丝勋章"""

                    # 弹幕 (DANMU_MSG)
                    content_info = content['info']

                    user_name = content_info[0][15]["user"]['base']["name"]

                    user_face_picture = f'./img/face/{re.split("/", content_info[0][15]["user"]["base"]["face"])[-1]}'
                    if not os.path.exists(
                            GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')):
                        pathlib.Path(
                            GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')).parent.mkdir(
                            parents=True, exist_ok=True)
                        # 先检查返回值
                        result = Tools.url2pillow_image(content_info[0][15]["user"]["base"]["face"],
                                                        url2pillow_image_headers)
                        if result and "PilImg" in result and result["PilImg"] is not None:
                            pillow_img = result["PilImg"]
                            pillow_img.save(
                                GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', ''))
                            face_picture_x, face_picture_y = pillow_img.size
                    else:
                        pillow_img = Image.open(
                            GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', ''))
                        face_picture_x, face_picture_y = pillow_img.size
                    face_picture_x, face_picture_y = (widget.DigitalDisplay.danmuFacePictureSize.Value,
                                                      widget.DigitalDisplay.danmuFacePictureSize.Value)

                    user_id = content_info[0][15]["user"]["uid"]

                    if user_id in guard_dict:
                        identity_title = "member"  # 舰长
                        privilege_level = guard_dict[user_id]
                        fleet_title = {'1': '总督', '2': '提督', '3': '舰长'}[
                            str(privilege_level)]  # if is_medal_other_display:
                        fleet_badge = f'https://blc.huixinghao.cn/static/img/icons/guard-level-{privilege_level}.png'
                    if user_id == get_b_a_g().get_room_base_info(int(widget.ComboBox.danmuRoom.Value))["data"]["uid"]:
                        identity_title = "owner"  # 房主
                    elif content_info[2][2]:
                        if widget.CheckBox.tagAdministratorDisplay.Bool:
                            identity_title = "moderator"  # 管理员

                    medal = content_info[0][15]["user"]['medal']
                    """勋章基础信息"""
                    if medal:
                        # 检查点亮条件
                        light_ok = widget.CheckBox.medalUnLightDisplay.Bool or medal.get("is_light", False)
                        # 检查归属条件
                        owner_ok = widget.CheckBox.medalOtherDisplay.Bool or medal.get("ruid") == \
                                   get_b_a_g().get_room_base_info(int(widget.ComboBox.danmuRoom.Value))["data"]["uid"]
                        # 同时满足两个条件才显示
                        if light_ok and owner_ok:
                            fan_medal_name = medal["name"]
                            """粉丝勋章名称"""
                            fan_medal_level = medal["level"]
                            """粉丝勋章等级"""
                            fan_medal_color_start = medal["v2_medal_color_start"]
                            """粉丝勋章开始颜色"""
                            fan_medal_color_end = medal["v2_medal_color_end"]
                            """粉丝勋章结束颜色"""
                            fan_medal_color_border = medal["v2_medal_color_border"]
                            """粉丝勋章边框颜色"""
                            fan_medal_color_text = medal["v2_medal_color_text"]
                            """粉丝勋章文本色"""
                            fan_medal_color_level = medal["v2_medal_color_level"]
                            """粉丝勋章等级颜色"""
                            if fleet_title:
                                fleet_badge_path = f"./img/fleet/{fleet_title}.png"
                                if not os.path.exists(pathlib.Path(
                                        GlobalVariableOfData.scriptsDataDirpath / fleet_badge_path.replace('./', ''))):
                                    pathlib.Path(
                                        GlobalVariableOfData.scriptsDataDirpath / fleet_badge_path.replace('./',
                                                                                                           '')).parent.mkdir(
                                        parents=True, exist_ok=True)
                                    pillow_img = Tools.url2pillow_image(medal['guard_icon'], url2pillow_image_headers)[
                                        "PilImg"]
                                    pillow_img.save(pathlib.Path(
                                        GlobalVariableOfData.scriptsDataDirpath / fleet_badge_path.replace('./', '')))
                                fleet_badge = fleet_badge_path
                                """舰长勋章图标url"""

                    danmu_extra = json.loads(content_info[0][15]['extra'])
                    """弹幕额外信息"""
                    if danmu_extra['reply_uname']:
                        message_data.append({
                            'type': 'text',
                            'color': danmu_extra['reply_uname_color'],
                            'text': f"@{danmu_extra['reply_uname']}  "
                        })
                    image_information = content_info[0][13]
                    """表情信息，没有时为‘{}’"""
                    if image_information != "{}":  # 大表情
                        image_information_path = f"./img/image_information/{image_information['emoticon_unique']}.png"
                        if not os.path.exists(pathlib.Path(
                                GlobalVariableOfData.scriptsDataDirpath / image_information_path.replace('./', ''))):
                            pathlib.Path(GlobalVariableOfData.scriptsDataDirpath / image_information_path.replace('./',
                                                                                                                  '')).parent.mkdir(
                                parents=True, exist_ok=True)
                            pillow_img = Tools.url2pillow_image(image_information["url"], url2pillow_image_headers)[
                                "PilImg"]
                            pillow_img.save(pathlib.Path(
                                GlobalVariableOfData.scriptsDataDirpath / image_information_path.replace('./', '')))
                        else:
                            pillow_img = Image.open(pathlib.Path(
                                GlobalVariableOfData.scriptsDataDirpath / image_information_path.replace('./', '')))
                        image_information_path_width, image_information_path_height = pillow_img.size
                        message_data.append({
                            'type': 'image',
                            'alt': danmu_extra['content'],
                            'width': f'{image_information_path_width}px',
                            'height': f'{image_information_path_height}px',
                            'src': image_information_path
                        })
                    else:
                        damu_text = content_info[1]
                        """弹幕文本"""
                        
                        pattern = r'(\[.*?\])'
                        emoji_name_text_separation_list = re.split(pattern, damu_text)
                        """分离的带‘[]’的表情名称和普通文本"""
                        
                        # pattern = r'(' + '|'.join([re.escape(sep) for sep in list(get_common_danmu_own_big_expression().keys()) + list(danmu_extra['emots'] if danmu_extra['emots'] else [])]) + ')'
                        # emoji_text_own_separation_list = re.split(pattern, damu_text)
                        
                        # 1. 收集所有可能的“表情/自定义表情”分隔符
                        own_big_expressions = list(get_common_danmu_own_big_expression().keys())
                        emots = list(danmu_extra['emots'] if danmu_extra['emots'] else [])
                        
                        # 2. 合成总的分隔符列表，并且过滤掉空字符串
                        separators = [sep for sep in (own_big_expressions + emots) if sep]
                        
                        if separators:
                            # 有有效的分隔符，才去构造正则并 split
                            pattern = r'(' + '|'.join(re.escape(sep) for sep in separators) + ')'
                            try:
                                emoji_text_own_separation_list = re.split(pattern, damu_text)
                            except ValueError:
                                # 兼容更老的 re 行为
                                emoji_text_own_separation_list = [damu_text]
                        else:
                            # 没有任何表情/自定义表情，整条弹幕当普通文本
                            emoji_text_own_separation_list = [damu_text]
                        
                        for damu_split in emoji_text_own_separation_list:
                            if not damu_split:
                                continue
                            # emoji
                            if danmu_extra['emots']:
                                if damu_split in danmu_extra['emots']:
                                    file_path = f"./img/emoji/{danmu_extra['emots'][damu_split]['emoticon_unique']}.png"
                                    if not os.path.exists(pathlib.Path(
                                            GlobalVariableOfData.scriptsDataDirpath / file_path.replace('./', ''))):
                                        pathlib.Path(GlobalVariableOfData.scriptsDataDirpath / file_path.replace('./',
                                                                                                                 '')).parent.mkdir(
                                            parents=True, exist_ok=True)
                                        pillow_img = \
                                            Tools.url2pillow_image(danmu_extra['emots'][damu_split]['url'],
                                                                   url2pillow_image_headers)[
                                                "PilImg"]
                                        pillow_img.save(pathlib.Path(
                                            GlobalVariableOfData.scriptsDataDirpath / file_path.replace('./', '')))
                                    message_data.append({
                                        'type': 'emoji',
                                        'alt': damu_split,
                                        'src': file_path
                                    })
                                    continue
                            # 自定表情
                            if get_common_danmu_own_big_expression():
                                if damu_split in get_common_danmu_own_big_expression():
                                    own_big_expression_path = Path(get_common_danmu_own_big_expression()[damu_split])
                                    _own_big_expression_path = str(own_big_expression_path).replace('\\', '/')
                                    img_path_in_web = f"./img/own/{re.split('/', _own_big_expression_path)[-1]}"
                                    Path(GlobalVariableOfData.scriptsDataDirpath / img_path_in_web.replace('./', '')).parent.mkdir(parents=True, exist_ok=True)
                                    img_c = Image.open(own_big_expression_path)
                                    width, height = img_c.size
                                    message_data.append({
                                        'type': 'image',
                                        'alt': damu_split,
                                        'height': f'{height}px',
                                        'width': f'{width}px',
                                        'src': img_path_in_web
                                    })
                                    continue
                            # 普通文本
                            message_data.append({
                                'type': 'text',
                                'text': damu_split
                            })

                    timestamp = content_info[9]['ts']

                    is_admin = content_info[2][2]

                    if fan_medal_name and widget.CheckBox.medalDisplay.Bool:
                        is_fan_group = True

                    # 转发到 WebSocket
                    asyncio.create_task(ws_server.send_danmu_message({
                        "type": "danmu",
                        "uName": user_name,
                        "facePicture": user_face_picture,
                        "facePictureX": face_picture_x,
                        "facePictureY": face_picture_y,
                        "uId": user_id,
                        "identityTitle": identity_title,
                        "privilegeLevel": privilege_level,
                        "fleetTitle": fleet_title,
                        "fanMedalName": fan_medal_name,
                        "fanMedalLevel": fan_medal_level,
                        "fanMedalColorStart": fan_medal_color_start,
                        "fanMedalColorEnd": fan_medal_color_end,
                        "fanMedalColorBorder": fan_medal_color_border,
                        "fanMedalColorText": fan_medal_color_text,
                        "fanMedalColorLevel": fan_medal_color_level,
                        "fanMedalTextSize": widget.DigitalDisplay.danmuFanMedalTextSize.Value,
                        "fleetBadge": fleet_badge,
                        "messageData": message_data,
                        "messageTextSize": widget.DigitalDisplay.danmuMessageTextSize.Value,
                        "timestamp": timestamp,
                        "timeTextSize": widget.DigitalDisplay.danmuTimeTextSize.Value,
                        "isAdmin": is_admin,
                        "isFanGroup": is_fan_group,
                        "lineBreakDisplay": widget.CheckBox.lineBreakDisplay.Bool,
                        "isTimestampDisplay": widget.CheckBox.timestampDisplay.Bool,

                        "user": user_name,
                        "medal": f'【{fan_medal_name}|{fan_medal_level}】' if fan_medal_name else None,
                        "wealth": f'[{content_info[16][0]}]' if content_info[16][0] else None,
                        "content": content_info[1],
                        "reply_to": f"{'@' if danmu_extra['reply_uname'] else None}{(danmu_extra['reply_uname'] if danmu_extra['reply_uname'] else None)}",
                    }))

                def SUPER_CHAT_MESSAGE():
                    u_name = ""
                    u_id = ""
                    user_face_picture = ""
                    face_picture_x = ""
                    face_picture_y = ""
                    timestamp = ""
                    price = ""
                    price_level = ""
                    message_primary_color = ""
                    message_secondary_color = ""
                    message_data = ""
                    show_only_header = False

                    u_name = content['data']['user_info']['uname']

                    u_id = content['data']['uid']

                    user_face_picture = f'./img/face/{re.split("/", content["data"]["uinfo"]["base"]["face"])[-1]}'
                    if not os.path.exists(
                            GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')):
                        pathlib.Path(
                            GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')).parent.mkdir(
                            parents=True, exist_ok=True)
                        # 先检查返回值
                        result = Tools.url2pillow_image(content["data"]["uinfo"]["base"]["face"],
                                                        url2pillow_image_headers)
                        if result and "PilImg" in result and result["PilImg"] is not None:
                            pillow_img = result["PilImg"]
                            pillow_img.save(pathlib.Path(
                                GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')))
                            face_picture_x, face_picture_y = pillow_img.size
                    else:
                        pillow_img = Image.open(
                            pathlib.Path(GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')))
                        face_picture_x, face_picture_y = pillow_img.size
                    face_picture_x, face_picture_y = (widget.DigitalDisplay.danmuFacePictureSize.Value,
                                                      widget.DigitalDisplay.danmuFacePictureSize.Value)

                    timestamp = content["send_time"]

                    price = content["data"]["price"]

                    message_bg_color, price_level = get_color_by_amount(int(price))

                    message_primary_color = content['data']['background_color_start']

                    message_secondary_color = content['data']['background_bottom_color']

                    message_data = content['data']['message']

                    show_only_header = False

                    contentdata = content['data']
                    # 用户信息
                    uname = contentdata['user_info']['uname']
                    uid = contentdata['uid']
                    price = contentdata['price']
                    message = contentdata['message']
                    duration = contentdata['time']

                    # 粉丝牌信息
                    medal_info = contentdata['medal_info']
                    mfo = ""
                    if medal_info['medal_name']:
                        mfo = f"【{medal_info['medal_name']}|{medal_info['medal_level']}】"

                    # 转发到 WebSocket
                    asyncio.create_task(ws_server.send_danmu_message({
                        "type": "super_chat",
                        "uName": u_name,
                        "uId": u_id,
                        "facePicture": user_face_picture,
                        "facePictureX": face_picture_x,
                        "facePictureY": face_picture_y,
                        "timestamp": timestamp,
                        "price": price,
                        "priceLevel": price_level,
                        "messagePrimaryColor": message_primary_color,
                        "messageSecondaryColor": message_secondary_color,
                        "messageData": message_data,
                        "showOnlyHeader": show_only_header,

                        "user": uname,
                        "uid": uid,
                        "medal": mfo,
                        "message": message,
                        "duration": duration,
                    }))

                def SUPER_CHAT_MESSAGE_JPN():
                    u_name = ""
                    u_id = ""
                    user_face_picture = ""
                    face_picture_x = ""
                    face_picture_y = ""
                    timestamp = ""
                    price = ""
                    price_level = ""
                    message_primary_color = ""
                    message_secondary_color = ""
                    message_data = ""
                    show_only_header = False

                    u_name = content['data']['user_info']['uname']

                    u_id = content['data']['uid']

                    user_face_picture = f'./img/face/{re.split("/", content["data"]["uinfo"]["base"]["face"])[-1]}'
                    if not os.path.exists(
                            GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')):
                        pathlib.Path(
                            GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')).parent.mkdir(
                            parents=True, exist_ok=True)
                        # 先检查返回值
                        result = Tools.url2pillow_image(content["data"]["uinfo"]["base"]["face"],
                                                        url2pillow_image_headers)
                        if result and "PilImg" in result and result["PilImg"] is not None:
                            pillow_img = result["PilImg"]
                            pillow_img.save(pathlib.Path(
                                GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')))
                            face_picture_x, face_picture_y = pillow_img.size
                    else:
                        pillow_img = Image.open(
                            pathlib.Path(GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')))
                        face_picture_x, face_picture_y = pillow_img.size
                    face_picture_x, face_picture_y = (widget.DigitalDisplay.danmuFacePictureSize.Value,
                                                      widget.DigitalDisplay.danmuFacePictureSize.Value)

                    timestamp = content["send_time"]

                    price = content["data"]["price"]

                    message_bg_color, price_level = get_color_by_amount(int(price))

                    message_primary_color = content['data']['background_color_start']

                    message_secondary_color = content['data']['background_bottom_color']

                    message_data = content['data']['message']

                    show_only_header = False

                    contentdata = content['data']

                    # 用户信息
                    uname = contentdata['user_info']['uname']
                    uid = contentdata['uid']
                    price = contentdata['price']
                    message = contentdata['message']
                    duration = contentdata['time']

                    # 粉丝牌信息
                    medal_info = contentdata['medal_info']
                    mfo = ""
                    if medal_info['medal_name']:
                        mfo = f"【{medal_info['medal_name']}|{medal_info['medal_level']}】"

                    # 转发到 WebSocket
                    asyncio.create_task(ws_server.send_danmu_message({
                        "type": "super_chat_jpn",
                        "uName": u_name,
                        "uId": u_id,
                        "facePicture": user_face_picture,
                        "facePictureX": face_picture_x,
                        "facePictureY": face_picture_y,
                        "timestamp": timestamp,
                        "price": price,
                        "priceLevel": price_level,
                        "messagePrimaryColor": message_primary_color,
                        "messageSecondaryColor": message_secondary_color,
                        "messageData": message_data,
                        "showOnlyHeader": show_only_header,

                        "user": uname,
                        "uid": uid,
                        "medal": mfo,
                        "message": message,
                        "duration": duration,
                    }))

                def SEND_GIFT():
                    u_name = ""
                    u_id = ""
                    user_face_picture = ""
                    face_picture_x = ""
                    face_picture_y = ""
                    timestamp = ""
                    price = ""
                    price_level = ""
                    message_primary_color = ""
                    message_secondary_color = ""
                    message_data = ""
                    show_only_header = False

                    # 送礼 (SEND_GIFT)
                    contentdata = content['data']
                    u_name = contentdata['uname']

                    u_id = contentdata['uid']

                    user_face_picture = f'./img/face/{re.split("/", contentdata["sender_uinfo"]["base"]["face"])[-1]}'
                    if not os.path.exists(
                            GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')):
                        pathlib.Path(
                            GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')).parent.mkdir(
                            parents=True, exist_ok=True)
                        # 先检查返回值
                        result = Tools.url2pillow_image(contentdata["sender_uinfo"]["base"]["face"],
                                                        url2pillow_image_headers)
                        if result and "PilImg" in result and result["PilImg"] is not None:
                            pillow_img = result["PilImg"]
                            pillow_img.save(pathlib.Path(
                                GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')))
                            face_picture_x, face_picture_y = pillow_img.size
                    else:
                        pillow_img = Image.open(
                            pathlib.Path(GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')))
                        face_picture_x, face_picture_y = pillow_img.size
                    face_picture_x, face_picture_y = (widget.DigitalDisplay.danmuFacePictureSize.Value,
                                                      widget.DigitalDisplay.danmuFacePictureSize.Value)

                    timestamp = contentdata["timestamp"]

                    price = contentdata['total_coin'] / 1000

                    message_bg_color, price_level = get_color_by_amount(int(price))

                    message_primary_color = message_bg_color["primary_color"]

                    message_secondary_color = message_bg_color["secondary_color"]

                    message_data = ""
                    if contentdata['batch_combo_send']:  # 盲盒
                        message_data += contentdata['batch_combo_send']['action']  # 投喂
                        if contentdata['batch_combo_send']['blind_gift']:
                            contentdata_bcsb_g = contentdata['batch_combo_send']['blind_gift']
                            message_data += f"\t【{contentdata_bcsb_g['original_gift_name']}】"  # 盲盒名称
                            message_data += f"{contentdata_bcsb_g['gift_action']}"  # 爆出
                            actual_amount = contentdata_bcsb_g['gift_tip_price'] * contentdata['num'] / 1000  # 实际金额
                            consumption_amount = contentdata['total_coin'] / 1000  # 消费金额
                            profit_and_loss = f"\t({round((actual_amount - consumption_amount), 3)}￥)"  # 盲盒盈亏
                            message_data += f"《{contentdata['batch_combo_send']['gift_name']}》X {contentdata['num']}个\t{profit_and_loss}"
                        else:
                            message_data += f"《{contentdata['batch_combo_send']['gift_name']}》X {contentdata['num']}个"
                    else:
                        message_data += f"{contentdata['action']}《{contentdata['giftName']}》X {contentdata['num']}个"

                    show_only_header = False

                    # -=-=--=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=--=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
                    ufo = contentdata['uname']
                    mfo = ""
                    if contentdata['medal_info']['medal_name']:
                        medali = contentdata['medal_info']
                        mfo = f"【{medali['medal_name']}|{medali['medal_level']}】"
                    wfo = ''
                    if contentdata['wealth_level'] != 0:
                        wfo = f"[{contentdata['wealth_level']}]"
                    tfo = ''
                    if contentdata['batch_combo_send']:
                        tfo += contentdata['batch_combo_send']['action']
                        if contentdata['batch_combo_send']['blind_gift']:
                            contentdata_bcsb_g = contentdata['batch_combo_send']['blind_gift']
                            tfo += f"\t【{contentdata_bcsb_g['original_gift_name']}】{contentdata_bcsb_g['gift_action']}"
                            coin = f"{contentdata_bcsb_g['gift_tip_price'] * contentdata['num'] / 1000}￥\t{(contentdata_bcsb_g['gift_tip_price'] * contentdata['num'] - contentdata['total_coin']) / 1000}￥"
                        else:
                            coin = f"{contentdata['total_coin'] * contentdata['num'] / 1000}￥"

                        tfo += f"{contentdata['num']}个《{contentdata['batch_combo_send']['gift_name']}》\t{coin}"
                    else:
                        tfo += f"{contentdata['action']}{contentdata['num']}个《{contentdata['giftName']}》"
                    asyncio.create_task(ws_server.send_danmu_message({
                        "type": "gift",
                        "uName": u_name,
                        "uId": u_id,
                        "facePicture": user_face_picture,
                        "facePictureX": face_picture_x,
                        "facePictureY": face_picture_y,
                        "timestamp": timestamp,
                        "price": price,
                        "priceLevel": price_level,
                        "messagePrimaryColor": message_primary_color,
                        "messageSecondaryColor": message_secondary_color,
                        "messageData": message_data,
                        "showOnlyHeader": show_only_header,

                        "user": ufo,
                        "medal": mfo,
                        "wealth": wfo,
                        "gift_name": contentdata.get('giftName', ''),
                        "gift_count": contentdata['num'],
                        "total_coin": contentdata['total_coin'],
                        "message": tfo
                    }))

                def USER_TOAST_MSG_V2():
                    u_name = ""
                    u_id = ""
                    user_face_picture = ""
                    face_picture_x = ""
                    face_picture_y = ""
                    timestamp = ""
                    message_data = ""
                    privilege_level = ""
                    fleet_title = ""
                    fleet_badge = ""
                    membership_header_color = ""
                    identity_title = ""

                    contentdata = content['data']
                    u_name = contentdata["sender_uinfo"]["base"]["name"]
                    u_id = contentdata["sender_uinfo"]["uid"]
                    user_card = get_b_a_g().get_bilibili_user_card(u_id, True)["data"]
                    user_face_picture = f'./img/face/{re.split("/", user_card["data"]["card"]["face"])[-1]}'
                    if not os.path.exists(
                            GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')):
                        pathlib.Path(
                            GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')).parent.mkdir(
                            parents=True, exist_ok=True)
                        # 先检查返回值
                        result = Tools.url2pillow_image(user_card["data"]["card"]["face"], url2pillow_image_headers)
                        if result and "PilImg" in result and result["PilImg"] is not None:
                            pillow_img = result["PilImg"]
                            pillow_img.save(pathlib.Path(
                                GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')))
                            face_picture_x, face_picture_y = pillow_img.size
                    else:
                        pillow_img = Image.open(
                            pathlib.Path(GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')))
                        face_picture_x, face_picture_y = pillow_img.size
                    face_picture_x, face_picture_y = (widget.DigitalDisplay.danmuFacePictureSize.Value,
                                                      widget.DigitalDisplay.danmuFacePictureSize.Value)
                    timestamp = content["send_time"]
                    message_data = contentdata["toast_msg"]
                    privilege_level = contentdata["guard_info"]["guard_level"]
                    guard_dict[u_id] = privilege_level
                    identity_title = "member"  # 舰长
                    fleet_title = {'1': '总督', '2': '提督', '3': '舰长'}[str(privilege_level)]
                    if widget.CheckBox.medalOtherDisplay.Bool:
                        fleet_badge = f'https://blc.huixinghao.cn/static/img/icons/guard-level-{privilege_level}.png'
                    fleet_badge_path = f"./img/fleet/{fleet_title}.png"
                    if not os.path.exists(
                            pathlib.Path(GlobalVariableOfData.scriptsDataDirpath / fleet_badge_path.replace("./", ''))):
                        pathlib.Path(
                            GlobalVariableOfData.scriptsDataDirpath / fleet_badge_path.replace("./", '')).parent.mkdir(
                            parents=True, exist_ok=True)
                        pillow_img = Tools.url2pillow_image(fleet_badge, url2pillow_image_headers)["PilImg"]
                        pillow_img.save(
                            pathlib.Path(GlobalVariableOfData.scriptsDataDirpath / fleet_badge_path.replace("./", '')))
                    fleet_badge = fleet_badge_path
                    membership_header_color = contentdata["option"]["color"]

                    # 用户信息
                    username = contentdata['sender_uinfo']['base']['name']
                    uid = contentdata['sender_uinfo']['uid']
                    guard_level = contentdata['guard_info']['guard_level']
                    role_name = contentdata['guard_info']['role_name']
                    price = contentdata['pay_info']['price'] / 1000  # 转换为元
                    unit = contentdata['pay_info']['unit']

                    # 格式化大航海等级显示
                    guard_map = {1: "总督", 2: "提督", 3: "舰长"}
                    guard_name = guard_map.get(guard_level, f"未知({guard_level})")

                    # 转发到 WebSocket
                    asyncio.create_task(ws_server.send_danmu_message({
                        "type": "user_toast_v2",
                        "uName": u_name,
                        "uId": u_id,
                        "facePicture": user_face_picture,
                        "facePictureX": face_picture_x,
                        "facePictureY": face_picture_y,
                        "timestamp": timestamp,
                        "messageData": message_data,
                        "fleetBadge": fleet_badge,
                        "membershipHeaderColor": membership_header_color,
                        "identityTitle": identity_title,
                        "privilegeLevel": privilege_level,
                        "fleetTitle": fleet_title,

                        "user": username,
                        "uid": uid,
                        "guard_level": guard_level,
                        "guard_name": guard_name,
                        "price": price,
                        "unit": unit,
                        "message": f"{username}开通{guard_name} {price}元/{unit}",
                    }))

                def POPULARITY_RED_POCKET_V2_NEW():
                    u_name = ""
                    u_id = ""
                    user_face_picture = ""
                    face_picture_x = ""
                    face_picture_y = ""
                    timestamp = ""
                    price = ""
                    price_level = ""
                    message_primary_color = ""
                    message_secondary_color = ""
                    message_data = ""
                    show_only_header = False

                    u_name = content['data']['uname']

                    u_id = content['data']['uid']

                    user_face_picture = f'./img/face/{re.split("/", content["data"]["sender_info"]["base"]["face"])[-1]}'
                    if not os.path.exists(
                            GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')):
                        pathlib.Path(
                            GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')).parent.mkdir(
                            parents=True, exist_ok=True)
                        # 先检查返回值
                        result = Tools.url2pillow_image(content["data"]["sender_info"]["base"]["face"],
                                                        url2pillow_image_headers)
                        if result and "PilImg" in result and result["PilImg"] is not None:
                            pillow_img = result["PilImg"]
                            pillow_img.save(pathlib.Path(
                                GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')))
                            face_picture_x, face_picture_y = pillow_img.size
                    else:
                        pillow_img = Image.open(
                            pathlib.Path(GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')))
                        face_picture_x, face_picture_y = pillow_img.size
                    face_picture_x, face_picture_y = (widget.DigitalDisplay.danmuFacePictureSize.Value,
                                                      widget.DigitalDisplay.danmuFacePictureSize.Value)

                    timestamp = content['data']['start_time']

                    price = content['data']['price'] / 10

                    message_bg_color, price_level = get_color_by_amount(int(price))

                    message_primary_color = message_bg_color["primary_color"]

                    message_secondary_color = message_bg_color["secondary_color"]

                    message_data = f"{content['data']['uname']}{content['data']['action']}{content['data']['gift_name']}"

                    show_only_header = False

                    contentdata = content['data']
                    ufo = contentdata['uname']
                    mfo = ""
                    if contentdata['medal_info']['medal_name']:
                        medali = contentdata['medal_info']
                        mfo = f"【{medali['medal_name']}|{medali['medal_level']}】"
                    wfo = ''
                    if contentdata['wealth_level'] != 0:
                        wfo = f"[{contentdata['wealth_level']}]"
                    tfo = ''
                    tfo += contentdata['action']
                    coin = contentdata['price'] / 10
                    tfo += f"\t{coin}"
                    # 转发到 WebSocket
                    asyncio.create_task(ws_server.send_danmu_message({
                        "type": "red_pocket_v2",
                        "uName": u_name,
                        "uId": u_id,
                        "facePicture": user_face_picture,
                        "facePictureX": face_picture_x,
                        "facePictureY": face_picture_y,
                        "timestamp": timestamp,
                        "price": price,
                        "priceLevel": price_level,
                        "messagePrimaryColor": message_primary_color,
                        "messageSecondaryColor": message_secondary_color,
                        "messageData": message_data,
                        "showOnlyHeader": show_only_header,

                        "user": ufo,
                        "medal": mfo,
                        "wealth": wfo,
                        "action": contentdata['action'],
                    }))

                def POPULARITY_RED_POCKET_V2_START():
                    u_name = content['data']['sender_name']
                    u_id = ""
                    user_face_picture = f'./img/face/{re.split("/", r"https://s1.hdslb.com/bfs/live/2b3de8fa9eddebfab4d62b3a953a90da2a4ab81c.png@100w_100h.webp")[-1]}'
                    if not os.path.exists(
                            GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')):
                        pathlib.Path(
                            GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')).parent.mkdir(
                            parents=True, exist_ok=True)
                        # 先检查返回值
                        result = Tools.url2pillow_image(
                            r"https://s1.hdslb.com/bfs/live/2b3de8fa9eddebfab4d62b3a953a90da2a4ab81c.png@100w_100h.webp",
                            url2pillow_image_headers)
                        if result and "PilImg" in result and result["PilImg"] is not None:
                            pillow_img = result["PilImg"]
                            pillow_img.save(pathlib.Path(
                                GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')))
                            face_picture_x, face_picture_y = pillow_img.size
                    else:
                        pillow_img = Image.open(
                            pathlib.Path(GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')))
                        face_picture_x, face_picture_y = pillow_img.size
                    face_picture_x, face_picture_y = (widget.DigitalDisplay.danmuFacePictureSize.Value,
                                                      widget.DigitalDisplay.danmuFacePictureSize.Value)
                    timestamp = content['data']['start_time']
                    price = content['data']['total_price'] / 1000
                    message_bg_color, price_level = get_color_by_amount(int(price))
                    message_primary_color = message_bg_color["primary_color"]
                    message_secondary_color = message_bg_color["secondary_color"]
                    message_data = f"{content['data']['danmu']}"
                    show_only_header = False
                    countdown_duration = content['data']['last_time'] * 1000
                    asyncio.create_task(ws_server.send_danmu_message({
                        "type": "red_pocket_v2_start",
                        "uName": u_name,
                        "uId": u_id,
                        "facePicture": user_face_picture,
                        "facePictureX": face_picture_x,
                        "facePictureY": face_picture_y,
                        "timestamp": timestamp,
                        "price": price,
                        "priceLevel": price_level,
                        "messagePrimaryColor": message_primary_color,
                        "messageSecondaryColor": message_secondary_color,
                        "messageData": message_data,
                        "showOnlyHeader": show_only_header,
                        "countdownDuration": countdown_duration
                    }))

                def POPULARITY_RED_POCKET_V2_WINNER_LIST():
                    user_name = ""  # 昵称
                    """发送者昵称"""
                    user_face_picture = ''  # 头像
                    """头像"""
                    face_picture_x = '40'  # 头像宽度
                    """头像宽度"""
                    face_picture_y = '40'  # 头像高度
                    """头像高度"""
                    user_id = ''  # id
                    """发送者id"""
                    identity_title = ''  # 身份头衔：管理员 moderator，船员 member，主播 owner，普通为空
                    """身份头衔"""
                    privilege_level = '0'  # 特权级别 1,2,3,0
                    """特权级别"""
                    fleet_title = ''  # 舰队称号
                    """舰队称号"""
                    fan_medal_name = ''
                    """粉丝勋章名称"""
                    fan_medal_level = '0'
                    """粉丝勋章等级"""
                    fan_medal_color_start = ''
                    """粉丝勋章开始颜色"""
                    fan_medal_color_end = ''
                    """粉丝勋章结束颜色"""
                    fan_medal_color_border = ''
                    """粉丝勋章边框颜色"""
                    fan_medal_color_text = ''
                    """粉丝勋章文本色"""
                    fan_medal_color_level = ''
                    """粉丝勋章等级颜色"""
                    fleet_badge = ''  # 舰队徽章
                    """舰队徽章"""
                    message_data = []  # 消息数据
                    """消息数据"""
                    timestamp = '0'  # 发送时间
                    """发送时间"""
                    is_admin = False  # 是否管理员
                    """是否管理员"""
                    is_fan_group = False  # 是否有粉丝勋章
                    """是否有粉丝勋章"""

                    user_name = "红包中奖"

                    user_face_picture = f'./img/face/{re.split("/", r"https://s1.hdslb.com/bfs/live/2b3de8fa9eddebfab4d62b3a953a90da2a4ab81c.png@100w_100h.webp")[-1]}'
                    if not os.path.exists(
                            GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')):
                        pathlib.Path(
                            GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')).parent.mkdir(
                            parents=True, exist_ok=True)
                        # 先检查返回值
                        result = Tools.url2pillow_image(
                            r"https://s1.hdslb.com/bfs/live/2b3de8fa9eddebfab4d62b3a953a90da2a4ab81c.png@100w_100h.webp",
                            url2pillow_image_headers)
                        if result and "PilImg" in result and result["PilImg"] is not None:
                            pillow_img = result["PilImg"]
                            pillow_img.save(pathlib.Path(
                                GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')))
                            face_picture_x, face_picture_y = pillow_img.size

                    else:
                        pillow_img = Image.open(
                            pathlib.Path(GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')))
                        face_picture_x, face_picture_y = pillow_img.size
                    face_picture_x, face_picture_y = (widget.DigitalDisplay.danmuFacePictureSize.Value,
                                                      widget.DigitalDisplay.danmuFacePictureSize.Value)

                    def convert_red_pocket_winners(data):
                        """
                        将红包中奖名单数据转换为消息数组格式
                        """
                        message_list = []

                        # 按奖品ID分组中奖用户
                        award_users = {}
                        for winner in data["winner_info"]:
                            award_id = winner[3]  # 奖品ID
                            user_name = winner[1]  # 用户名

                            if award_id not in award_users:
                                award_users[award_id] = []
                            award_users[award_id].append(user_name)

                        # 动态确定奖品显示顺序：按中奖人数从多到少排序
                        # 如果有相同中奖人数，则按奖品价值从高到低排序
                        award_order = sorted(
                            list(award_users.keys()),
                            key=lambda x: (
                                -len(award_users.get(x, [])),  # 中奖人数从多到少
                                -data["awards"].get(str(x), {}).get("award_price", 0)  # 价值从高到低
                            )
                        )

                        # 确保所有奖品都被包含，即使没有中奖者
                        all_award_ids = set(int(aid) for aid in data["awards"].keys())
                        missing_awards = all_award_ids - set(award_order)
                        award_order.extend(missing_awards)

                        # 为每个奖品生成消息项
                        for award_id in award_order:
                            award_info = data["awards"].get(str(award_id))
                            if not award_info:
                                continue

                            # 添加奖品图片
                            message_list.append({
                                'type': 'image',
                                'alt': award_info["award_name"],
                                'width': '40px',
                                'height': '40px',
                                'src': award_info["award_pic"]
                            })

                            # 添加中奖用户文本
                            users = award_users.get(award_id, [])
                            if users:
                                text = "\\".join(users)  # 用反斜杠连接用户名
                            else:
                                text = "【无】"

                            message_list.append({
                                'type': 'text',
                                'text': text
                            })

                        return message_list

                    message_data = convert_red_pocket_winners(content['data'])

                    timestamp = time.time()

                    is_admin = True

                    contentdata = content['data']

                    # 红包信息
                    lot_id = contentdata['lot_id']
                    total_num = contentdata['total_num']

                    # 中奖用户信息
                    winner_list = []
                    for winner in contentdata['winner_info']:
                        user_mid = winner[0]
                        user_name = winner[1]
                        gift_id = winner[3]

                        # 获取礼物信息
                        gift_info = contentdata['awards'].get(str(gift_id), {})
                        gift_name = gift_info.get('award_name', '未知礼物')
                        gift_price = gift_info.get('award_price', 0)

                        winner_info = f"{user_name}({user_mid})获得[{gift_name}]({gift_price / 1000}￥)"
                        winner_list.append(winner_info)

                    display_winners = winner_list
                    winners_str = "、".join(display_winners)

                    # 转发到 WebSocket
                    asyncio.create_task(ws_server.send_danmu_message({
                        "type": "red_pocket_winners",
                        "uName": user_name,
                        "facePicture": user_face_picture,
                        "facePictureX": face_picture_x,
                        "facePictureY": face_picture_y,
                        "uId": user_id,
                        "identityTitle": identity_title,
                        "privilegeLevel": privilege_level,
                        "fleetTitle": fleet_title,
                        "fanMedalName": fan_medal_name,
                        "fanMedalLevel": fan_medal_level,
                        "fanMedalColorStart": fan_medal_color_start,
                        "fanMedalColorEnd": fan_medal_color_end,
                        "fanMedalColorBorder": fan_medal_color_border,
                        "fanMedalColorText": fan_medal_color_text,
                        "fanMedalColorLevel": fan_medal_color_level,
                        "fanMedalTextSize": widget.DigitalDisplay.danmuFanMedalTextSize.Value,
                        "fleetBadge": fleet_badge,
                        "messageData": message_data,
                        "messageTextSize": widget.DigitalDisplay.danmuMessageTextSize.Value,
                        "timestamp": timestamp,
                        "timeTextSize": widget.DigitalDisplay.danmuTimeTextSize.Value,
                        "isAdmin": is_admin,
                        "isFanGroup": is_fan_group,
                        "lineBreakDisplay": widget.CheckBox.lineBreakDisplay.Bool,
                        "isTimestampDisplay": widget.CheckBox.timestampDisplay.Bool,

                        "lot_id": lot_id,
                        "total_num": total_num,
                        "winners": winner_list,
                        "message": f"红包{lot_id} 共{total_num}个礼物 {winners_str}",
                    }))

                def INTERACT_WORD_V2():
                    if not widget.CheckBox.enterRoomDisplay.Bool:
                        return
                    user_name = ''  # 昵称
                    """发送者昵称"""
                    user_face_picture = ''  # 头像
                    """头像"""
                    face_picture_x = '40'  # 头像宽度
                    """头像宽度"""
                    face_picture_y = '40'  # 头像高度
                    """头像高度"""
                    user_id = ''  # id
                    """发送者id"""
                    identity_title = ''  # 身份头衔：管理员 moderator，船员 member，主播 owner，普通为空
                    """身份头衔"""
                    privilege_level = '0'  # 特权级别 1,2,3,0
                    """特权级别"""
                    fleet_title = ''  # 舰队称号
                    """舰队称号"""
                    fan_medal_name = ''
                    """粉丝勋章名称"""
                    fan_medal_level = '0'
                    """粉丝勋章等级"""
                    fan_medal_color_start = ''
                    """粉丝勋章开始颜色"""
                    fan_medal_color_end = ''
                    """粉丝勋章结束颜色"""
                    fan_medal_color_border = ''
                    """粉丝勋章边框颜色"""
                    fan_medal_color_text = ''
                    """粉丝勋章文本色"""
                    fan_medal_color_level = ''
                    """粉丝勋章等级颜色"""
                    fleet_badge = ''  # 舰队徽章
                    """舰队徽章"""
                    message_data = []  # 消息数据
                    """消息数据"""
                    timestamp = '0'  # 发送时间
                    """发送时间"""
                    is_admin = False  # 是否管理员
                    """是否管理员"""
                    is_fan_group = False  # 是否有粉丝勋章
                    """是否有粉丝勋章"""

                    # 用户交互消息【Proto格式】
                    contentdata = content['data']

                    user_name = contentdata['uname']

                    user_face_picture = f'./img/face/{re.split("/", contentdata["uinfo"]["base"]["face"])[-1]}'
                    if not os.path.exists(
                            GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')):
                        pathlib.Path(
                            GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', '')).parent.mkdir(
                            parents=True, exist_ok=True)
                        # 先检查返回值
                        result = Tools.url2pillow_image(contentdata["uinfo"]["base"]["face"], url2pillow_image_headers)
                        if result and "PilImg" in result and result["PilImg"] is not None:
                            pillow_img = result["PilImg"]
                            pillow_img.save(
                                GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', ''))
                            face_picture_x, face_picture_y = pillow_img.size
                        else:
                            log_save(obs.LOG_INFO, f"无法获取图片: {result['Message']}")
                    else:
                        pillow_img = Image.open(
                            GlobalVariableOfData.scriptsDataDirpath / user_face_picture.replace('./', ''))
                        face_picture_x, face_picture_y = pillow_img.size
                    face_picture_x, face_picture_y = (widget.DigitalDisplay.danmuFacePictureSize.Value,
                                                      widget.DigitalDisplay.danmuFacePictureSize.Value)

                    user_id = contentdata["uinfo"]["uid"]

                    if user_id in guard_dict:
                        identity_title = "member"  # 舰长
                        privilege_level = guard_dict[user_id]
                        fleet_title = {'1': '总督', '2': '提督', '3': '舰长'}[
                            str(privilege_level)]  # if is_medal_other_display:
                        #     fleet_badge = f'https://blc.huixinghao.cn/static/img/icons/guard-level-{privilege_level}.png'
                    if user_id == get_b_a_g().get_room_base_info(int(widget.ComboBox.danmuRoom.Value))["data"]["uid"]:
                        identity_title = "owner"  # 房主

                    medal = contentdata["uinfo"]["medal"]
                    if medal["level"]:
                        # 检查点亮条件
                        light_ok = widget.CheckBox.medalUnLightDisplay.Bool or medal.get("is_light", False)
                        # 检查归属条件
                        owner_ok = widget.CheckBox.medalOtherDisplay.Bool or medal.get("ruid") == \
                                   get_b_a_g().get_room_base_info(int(widget.ComboBox.danmuRoom.Value))["data"]["uid"]
                        # 同时满足两个条件才显示
                        if light_ok and owner_ok:
                            fan_medal_name = medal["name"]
                            """粉丝勋章名称"""
                            fan_medal_level = medal["level"]
                            """粉丝勋章等级"""
                            fan_medal_color_start = medal["v2_medal_color_start"]
                            """粉丝勋章开始颜色"""
                            fan_medal_color_end = medal["v2_medal_color_end"]
                            """粉丝勋章结束颜色"""
                            fan_medal_color_border = medal["v2_medal_color_border"]
                            """粉丝勋章边框颜色"""
                            fan_medal_color_text = medal["v2_medal_color_text"]
                            """粉丝勋章文本色"""
                            fan_medal_color_level = medal["v2_medal_color_level"]
                            """粉丝勋章等级颜色"""
                            if fleet_title:
                                fleet_badge_path = f"./img/fleet/{fleet_title}.png"
                                if not os.path.exists(pathlib.Path(
                                        GlobalVariableOfData.scriptsDataDirpath / fleet_badge_path.replace('./', ''))):
                                    pathlib.Path(
                                        GlobalVariableOfData.scriptsDataDirpath / fleet_badge_path.replace('./',
                                                                                                           '')).parent.mkdir(
                                        parents=True, exist_ok=True)
                                    pillow_img = Tools.url2pillow_image(medal['guard_icon'], url2pillow_image_headers)[
                                        "PilImg"]
                                    pillow_img.save(pathlib.Path(
                                        GlobalVariableOfData.scriptsDataDirpath / fleet_badge_path.replace('./', '')))
                                fleet_badge = fleet_badge_path
                                """舰长勋章图标url"""

                    message_data = [
                        {
                            'type': 'text',
                            'color': contentdata["uinfo"]["base"]["name_color_str"],
                            'shadow': "rgb(0 0 0) 0px 0px 5px, rgb(255 0 0) 0px 0px 10px, rgb(51, 204, 255) 0px 0px 15px, rgb(255 196 0) 0px 0px 20px, rgb(72 255 0) 0px 0px 25px",
                            'text': f"{contentdata['msg_type']}❓进入直播间或关注消息或分享直播间"
                        }
                    ]
                    if contentdata['msg_type'] == 1:
                        message_data = [
                            {
                                'type': 'text',
                                'color': contentdata["uinfo"]["base"]["name_color_str"],
                                'shadow': "rgb(0 0 0) 0px 0px 5px, rgb(255 0 0) 0px 0px 10px, rgb(51, 204, 255) 0px 0px 15px, rgb(255 196 0) 0px 0px 20px, rgb(72 255 0) 0px 0px 25px",
                                'text': f"🏠进入直播间"
                            }
                        ]
                    elif contentdata['msg_type'] == 2:
                        message_data = [
                            {
                                'type': 'text',
                                'color': contentdata["uinfo"]["base"]["name_color_str"],
                                'shadow': "rgb(0 0 0) 0px 0px 5px, rgb(255 0 0) 0px 0px 10px, rgb(51, 204, 255) 0px 0px 15px, rgb(255 196 0) 0px 0px 20px, rgb(72 255 0) 0px 0px 25px",
                                'text': f"⭐关注直播间"
                            }
                        ]
                    elif contentdata['msg_type'] == 3:
                        message_data = [
                            {
                                'type': 'text',
                                'color': contentdata["uinfo"]["base"]["name_color_str"],
                                'shadow': "rgb(0 0 0) 0px 0px 5px, rgb(255 0 0) 0px 0px 10px, rgb(51, 204, 255) 0px 0px 15px, rgb(255 196 0) 0px 0px 20px, rgb(72 255 0) 0px 0px 25px",
                                'text': f"💫分享直播间"
                            }
                        ]

                    timestamp = contentdata["timestamp"]

                    if fan_medal_name and widget.CheckBox.medalDisplay.Bool:
                        is_fan_group = True

                    # 转发到 WebSocket
                    asyncio.create_task(ws_server.send_danmu_message({
                        "type": "interact",
                        "uName": user_name,
                        "facePicture": user_face_picture,
                        "facePictureX": face_picture_x,
                        "facePictureY": face_picture_y,
                        "uId": user_id,
                        "identityTitle": identity_title,
                        "privilegeLevel": privilege_level,
                        "fleetTitle": fleet_title,
                        "fanMedalName": fan_medal_name,
                        "fanMedalLevel": fan_medal_level,
                        "fanMedalColorStart": fan_medal_color_start,
                        "fanMedalColorEnd": fan_medal_color_end,
                        "fanMedalColorBorder": fan_medal_color_border,
                        "fanMedalColorText": fan_medal_color_text,
                        "fanMedalColorLevel": fan_medal_color_level,
                        "fanMedalTextSize": widget.DigitalDisplay.danmuFanMedalTextSize.Value,
                        "fleetBadge": fleet_badge,
                        "messageData": message_data,
                        "messageTextSize": widget.DigitalDisplay.danmuMessageTextSize.Value,
                        "timestamp": timestamp,
                        "timeTextSize": widget.DigitalDisplay.danmuTimeTextSize.Value,
                        "isAdmin": is_admin,
                        "isFanGroup": is_fan_group,
                        "lineBreakDisplay": widget.CheckBox.lineBreakDisplay.Bool,
                        "isTimestampDisplay": widget.CheckBox.timestampDisplay.Bool,
                    }))

                if content['cmd'] == "LIVE":
                    LIVE()

                elif content['cmd'] == "DANMU_MSG":
                    DANMU_MSG()

                elif content['cmd'] == "SUPER_CHAT_MESSAGE":
                    SUPER_CHAT_MESSAGE()

                elif content['cmd'] == "SUPER_CHAT_MESSAGE_JPN":
                    SUPER_CHAT_MESSAGE_JPN()

                elif content['cmd'] == "SEND_GIFT":
                    SEND_GIFT()

                elif content['cmd'] == "USER_TOAST_MSG_V2":
                    USER_TOAST_MSG_V2()

                elif content['cmd'] == "POPULARITY_RED_POCKET_V2_NEW":
                    POPULARITY_RED_POCKET_V2_NEW()

                elif content['cmd'] == "POPULARITY_RED_POCKET_V2_START":
                    POPULARITY_RED_POCKET_V2_START()

                elif content['cmd'] == "POPULARITY_RED_POCKET_V2_WINNER_LIST":
                    POPULARITY_RED_POCKET_V2_WINNER_LIST()

                elif content['cmd'] == "INTERACT_WORD_V2":
                    INTERACT_WORD_V2()

            result = get_b_a_g().get_guard_list(
                widget.ComboBox.danmuRoom.Value,
                get_b_a_g().get_room_base_info(int(widget.ComboBox.danmuRoom.Value))["data"]["uid"],
                page=1,
                page_size=20,
                typ=5,
                include_total_list=True
            )
            guard_dict = {}
            if result["success"]:
                total_list = result["data"].get("total_list", [])
                for guard in total_list:
                    uid = guard["uinfo"]["uid"]
                    guard_level = guard["uinfo"]["guard"]["level"]
                    guard_dict[uid] = guard_level

            ws_server = WebSocketServer(port=int(widget.TextBox.danmuWssProt.Text))
            ws_server.registerCallback = lambda clients_count: log_save(obs.LOG_INFO, f"新的网页客户端连接，当前连接数: {clients_count}")
            ws_server.unregisterCallback = lambda clients_count: log_save(obs.LOG_INFO, f"网页客户端断开，当前连接数: {clients_count}")
            ws_server.startServerCallback = lambda host, port: log_save(obs.LOG_INFO, f"弹幕转发服务器启动在 ws://{host}:{port}")
            ws_server.serverCancelledCallback = lambda: log_save(obs.LOG_INFO, "WebSocket 服务器被取消")
            ws_server.serverErroCallback = lambda ero: log_save(obs.LOG_INFO, f"WebSocket 服务器错误: {ero}")
            ws_server.serverStopCallback = lambda: log_save(obs.LOG_INFO, "WebSocket 服务器已停止")

            cdm = get_b_l_d_m().connect_room(int(widget.ComboBox.danmuRoom.Value), widget.DigitalDisplay.danmuNumCommentsClient.Value, widget.DigitalDisplay.danmuIntervalNumCommentsClient.Value / 1000)
            cdm.o_m_d.max_size = widget.DigitalDisplay.danmuNumCacheEntries.Value
            cdm.o_m_d.ttl_seconds = widget.DigitalDisplay.danmuCacheDuration.Value
            cdm.replyAuthenticationPackageCallable = lambda content: log_save(obs.LOG_INFO, f"身份验证回复: {content}\n")
            cdm.ordinaryBagCallable = danmu_processing
            cdm.sendAuthenticationPackageReplyCallable = reply_with_a_callback_after_verification
            cdm.connectionFailureCallback = lambda delay, retry_count: log_save(obs.LOG_INFO,
                f"连接失败，{delay}秒后重试... (重试次数: {retry_count})")
            cdm.authenticationResponseTimeoutCallback = lambda: log_save(obs.LOG_INFO, "认证响应超时")
            cdm.authenticationFailureCallback = lambda e: log_save(obs.LOG_INFO, f"认证失败: {e}")
            cdm.heartRateCallback = send_heartbeat
            cdm.heartRateFailureCallback = lambda e: log_save(obs.LOG_INFO, f"心跳发送失败: {e}")
            cdm.multipleMessagesCallback = when_danmu_start
            cdm.multipleMessagesSuccessCallback = when_danmu_started
            cdm.messagesStopCallback = lambda: log_save(obs.LOG_INFO, "收到停止信号，正在关闭连接...")
            cdm.interruptStartupCallback = lambda: log_save(obs.LOG_INFO, "收到中断信号")
            cdm.abnormalStartupCallback = lambda e: log_save(obs.LOG_INFO, f"启动异常: {e}")
            cdm.stopConnectionCallback = lambda: log_save(obs.LOG_INFO, "正在停止弹幕连接...")
            cdm.connectionStoppedCallback = lambda: log_save(obs.LOG_INFO, "弹幕连接已停止")

            server_task = asyncio.create_task(ws_server.run_forever())
            await asyncio.sleep(1)  # 等待服务器启动
            log_save(obs.LOG_INFO, "WebSocket 服务器启动完成")
            try:
                danmu_task = asyncio.create_task(cdm.start_async())
                log_save(obs.LOG_INFO, "弹幕系统启动完成，等待消息...")
                await asyncio.gather(server_task, danmu_task)
            except KeyboardInterrupt:
                log_save(obs.LOG_INFO, "收到中断信号，正在关闭...")
            except Exception as e:
                log_save(obs.LOG_INFO, f"程序异常: {e}")
            finally:
                await ws_server.stop_server_async()
                await cdm.stop_async()
        if not GlobalVariableOfData.danmu_run_status:
            log_save(obs.LOG_INFO, f"开启弹幕服务")
            GlobalVariableOfData.danmu_running = True
            def start():
                asyncio.run(show_danmu())
            show_danmu_thread = threading.Thread(target=start)
            show_danmu_thread.daemon = True
            show_danmu_thread.start()
        else:
            log_save(obs.LOG_INFO, f"无法开启弹幕服务，弹幕服务正在运行")
            return False
        # -----------------------------------------------------------------------------------------------------------
        # 更新脚本控制台中的控件-----------------------------------------------------------------------------------------
        GlobalVariableOfData.update_widget_for_props_dict = {
            "danmu_props": {
                widget.DigitalDisplay.danmuNumCommentsClient.Name,
                widget.DigitalDisplay.danmuIntervalNumCommentsClient.Name,
                widget.TextBox.danmuWssProt.Name,
            }
        }
        log_save(obs.LOG_INFO, f"更新控件配置信息")
        script_defaults(GlobalVariableOfData.script_settings)
        # 更新脚本用户小部件
        log_save(obs.LOG_INFO, f"更新控件UI")
        update_ui_interface_data()
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        return True

    @staticmethod
    def button_function_add_danmu_browser(*args):
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        # -----------------------------------------------------------------------------------------------------------
        # 添加网页源-------------------------------------------------------------------------------------------------
        ButtonFunction.button_function_remove_danmu_browser()  # 先删除原有的弹幕浏览器源
        html_content = """
        <!DOCTYPE html>
        <html lang="zh" nighteye="disabled">
            <head>
                <meta charset="UTF-8">
                <title>blivechat</title>
                <style>
                    @charset "UTF-8";
                    @font-face {
                        font-family:element-icons;
                        src:url(fonts/element-icons.woff) format("woff"),url(fonts/element-icons.ttf) format("truetype");
                        font-weight:400;
                        font-display:auto;
                        font-style:normal
                    }
                    [class*=" el-icon-"],[class^=el-icon-] {
                        font-family:element-icons!important;
                        speak:none;
                        font-style:normal;
                        font-weight:400;
                        font-variant:normal;
                        text-transform:none;
                        line-height:1;
                        vertical-align:baseline;
                        display:inline-block;
                        -webkit-font-smoothing:antialiased;
                        -moz-osx-font-smoothing:grayscale
                    }
                    .el-icon-ice-cream-round:before {
                        content:"\e6a0"
                    }
                    .el-icon-ice-cream-square:before {
                        content:"\e6a3"
                    }
                    .el-icon-lollipop:before {
                        content:"\e6a4"
                    }
                    .el-icon-potato-strips:before {
                        content:"\e6a5"
                    }
                    .el-icon-milk-tea:before {
                        content:"\e6a6"
                    }
                    .el-icon-ice-drink:before {
                        content:"\e6a7"
                    }
                    .el-icon-ice-tea:before {
                        content:"\e6a9"
                    }
                    .el-icon-coffee:before {
                        content:"\e6aa"
                    }
                    .el-icon-orange:before {
                        content:"\e6ab"
                    }
                    .el-icon-pear:before {
                        content:"\e6ac"
                    }
                    .el-icon-apple:before {
                        content:"\e6ad"
                    }
                    .el-icon-cherry:before {
                        content:"\e6ae"
                    }
                    .el-icon-watermelon:before {
                        content:"\e6af"
                    }
                    .el-icon-grape:before {
                        content:"\e6b0"
                    }
                    .el-icon-refrigerator:before {
                        content:"\e6b1"
                    }
                    .el-icon-goblet-square-full:before {
                        content:"\e6b2"
                    }
                    .el-icon-goblet-square:before {
                        content:"\e6b3"
                    }
                    .el-icon-goblet-full:before {
                        content:"\e6b4"
                    }
                    .el-icon-goblet:before {
                        content:"\e6b5"
                    }
                    .el-icon-cold-drink:before {
                        content:"\e6b6"
                    }
                    .el-icon-coffee-cup:before {
                        content:"\e6b8"
                    }
                    .el-icon-water-cup:before {
                        content:"\e6b9"
                    }
                    .el-icon-hot-water:before {
                        content:"\e6ba"
                    }
                    .el-icon-ice-cream:before {
                        content:"\e6bb"
                    }
                    .el-icon-dessert:before {
                        content:"\e6bc"
                    }
                    .el-icon-sugar:before {
                        content:"\e6bd"
                    }
                    .el-icon-tableware:before {
                        content:"\e6be"
                    }
                    .el-icon-burger:before {
                        content:"\e6bf"
                    }
                    .el-icon-knife-fork:before {
                        content:"\e6c1"
                    }
                    .el-icon-fork-spoon:before {
                        content:"\e6c2"
                    }
                    .el-icon-chicken:before {
                        content:"\e6c3"
                    }
                    .el-icon-food:before {
                        content:"\e6c4"
                    }
                    .el-icon-dish-1:before {
                        content:"\e6c5"
                    }
                    .el-icon-dish:before {
                        content:"\e6c6"
                    }
                    .el-icon-moon-night:before {
                        content:"\e6ee"
                    }
                    .el-icon-moon:before {
                        content:"\e6f0"
                    }
                    .el-icon-cloudy-and-sunny:before {
                        content:"\e6f1"
                    }
                    .el-icon-partly-cloudy:before {
                        content:"\e6f2"
                    }
                    .el-icon-cloudy:before {
                        content:"\e6f3"
                    }
                    .el-icon-sunny:before {
                        content:"\e6f6"
                    }
                    .el-icon-sunset:before {
                        content:"\e6f7"
                    }
                    .el-icon-sunrise-1:before {
                        content:"\e6f8"
                    }
                    .el-icon-sunrise:before {
                        content:"\e6f9"
                    }
                    .el-icon-heavy-rain:before {
                        content:"\e6fa"
                    }
                    .el-icon-lightning:before {
                        content:"\e6fb"
                    }
                    .el-icon-light-rain:before {
                        content:"\e6fc"
                    }
                    .el-icon-wind-power:before {
                        content:"\e6fd"
                    }
                    .el-icon-baseball:before {
                        content:"\e712"
                    }
                    .el-icon-soccer:before {
                        content:"\e713"
                    }
                    .el-icon-football:before {
                        content:"\e715"
                    }
                    .el-icon-basketball:before {
                        content:"\e716"
                    }
                    .el-icon-ship:before {
                        content:"\e73f"
                    }
                    .el-icon-truck:before {
                        content:"\e740"
                    }
                    .el-icon-bicycle:before {
                        content:"\e741"
                    }
                    .el-icon-mobile-phone:before {
                        content:"\e6d3"
                    }
                    .el-icon-service:before {
                        content:"\e6d4"
                    }
                    .el-icon-key:before {
                        content:"\e6e2"
                    }
                    .el-icon-unlock:before {
                        content:"\e6e4"
                    }
                    .el-icon-lock:before {
                        content:"\e6e5"
                    }
                    .el-icon-watch:before {
                        content:"\e6fe"
                    }
                    .el-icon-watch-1:before {
                        content:"\e6ff"
                    }
                    .el-icon-timer:before {
                        content:"\e702"
                    }
                    .el-icon-alarm-clock:before {
                        content:"\e703"
                    }
                    .el-icon-map-location:before {
                        content:"\e704"
                    }
                    .el-icon-delete-location:before {
                        content:"\e705"
                    }
                    .el-icon-add-location:before {
                        content:"\e706"
                    }
                    .el-icon-location-information:before {
                        content:"\e707"
                    }
                    .el-icon-location-outline:before {
                        content:"\e708"
                    }
                    .el-icon-location:before {
                        content:"\e79e"
                    }
                    .el-icon-place:before {
                        content:"\e709"
                    }
                    .el-icon-discover:before {
                        content:"\e70a"
                    }
                    .el-icon-first-aid-kit:before {
                        content:"\e70b"
                    }
                    .el-icon-trophy-1:before {
                        content:"\e70c"
                    }
                    .el-icon-trophy:before {
                        content:"\e70d"
                    }
                    .el-icon-medal:before {
                        content:"\e70e"
                    }
                    .el-icon-medal-1:before {
                        content:"\e70f"
                    }
                    .el-icon-stopwatch:before {
                        content:"\e710"
                    }
                    .el-icon-mic:before {
                        content:"\e711"
                    }
                    .el-icon-copy-document:before {
                        content:"\e718"
                    }
                    .el-icon-full-screen:before {
                        content:"\e719"
                    }
                    .el-icon-switch-button:before {
                        content:"\e71b"
                    }
                    .el-icon-aim:before {
                        content:"\e71c"
                    }
                    .el-icon-crop:before {
                        content:"\e71d"
                    }
                    .el-icon-odometer:before {
                        content:"\e71e"
                    }
                    .el-icon-time:before {
                        content:"\e71f"
                    }
                    .el-icon-bangzhu:before {
                        content:"\e724"
                    }
                    .el-icon-close-notification:before {
                        content:"\e726"
                    }
                    .el-icon-microphone:before {
                        content:"\e727"
                    }
                    .el-icon-turn-off-microphone:before {
                        content:"\e728"
                    }
                    .el-icon-position:before {
                        content:"\e729"
                    }
                    .el-icon-postcard:before {
                        content:"\e72a"
                    }
                    .el-icon-message:before {
                        content:"\e72b"
                    }
                    .el-icon-chat-line-square:before {
                        content:"\e72d"
                    }
                    .el-icon-chat-dot-square:before {
                        content:"\e72e"
                    }
                    .el-icon-chat-dot-round:before {
                        content:"\e72f"
                    }
                    .el-icon-chat-square:before {
                        content:"\e730"
                    }
                    .el-icon-chat-line-round:before {
                        content:"\e731"
                    }
                    .el-icon-chat-round:before {
                        content:"\e732"
                    }
                    .el-icon-set-up:before {
                        content:"\e733"
                    }
                    .el-icon-turn-off:before {
                        content:"\e734"
                    }
                    .el-icon-open:before {
                        content:"\e735"
                    }
                    .el-icon-connection:before {
                        content:"\e736"
                    }
                    .el-icon-link:before {
                        content:"\e737"
                    }
                    .el-icon-cpu:before {
                        content:"\e738"
                    }
                    .el-icon-thumb:before {
                        content:"\e739"
                    }
                    .el-icon-female:before {
                        content:"\e73a"
                    }
                    .el-icon-male:before {
                        content:"\e73b"
                    }
                    .el-icon-guide:before {
                        content:"\e73c"
                    }
                    .el-icon-news:before {
                        content:"\e73e"
                    }
                    .el-icon-price-tag:before {
                        content:"\e744"
                    }
                    .el-icon-discount:before {
                        content:"\e745"
                    }
                    .el-icon-wallet:before {
                        content:"\e747"
                    }
                    .el-icon-coin:before {
                        content:"\e748"
                    }
                    .el-icon-money:before {
                        content:"\e749"
                    }
                    .el-icon-bank-card:before {
                        content:"\e74a"
                    }
                    .el-icon-box:before {
                        content:"\e74b"
                    }
                    .el-icon-present:before {
                        content:"\e74c"
                    }
                    .el-icon-sell:before {
                        content:"\e6d5"
                    }
                    .el-icon-sold-out:before {
                        content:"\e6d6"
                    }
                    .el-icon-shopping-bag-2:before {
                        content:"\e74d"
                    }
                    .el-icon-shopping-bag-1:before {
                        content:"\e74e"
                    }
                    .el-icon-shopping-cart-2:before {
                        content:"\e74f"
                    }
                    .el-icon-shopping-cart-1:before {
                        content:"\e750"
                    }
                    .el-icon-shopping-cart-full:before {
                        content:"\e751"
                    }
                    .el-icon-smoking:before {
                        content:"\e752"
                    }
                    .el-icon-no-smoking:before {
                        content:"\e753"
                    }
                    .el-icon-house:before {
                        content:"\e754"
                    }
                    .el-icon-table-lamp:before {
                        content:"\e755"
                    }
                    .el-icon-school:before {
                        content:"\e756"
                    }
                    .el-icon-office-building:before {
                        content:"\e757"
                    }
                    .el-icon-toilet-paper:before {
                        content:"\e758"
                    }
                    .el-icon-notebook-2:before {
                        content:"\e759"
                    }
                    .el-icon-notebook-1:before {
                        content:"\e75a"
                    }
                    .el-icon-files:before {
                        content:"\e75b"
                    }
                    .el-icon-collection:before {
                        content:"\e75c"
                    }
                    .el-icon-receiving:before {
                        content:"\e75d"
                    }
                    .el-icon-suitcase-1:before {
                        content:"\e760"
                    }
                    .el-icon-suitcase:before {
                        content:"\e761"
                    }
                    .el-icon-film:before {
                        content:"\e763"
                    }
                    .el-icon-collection-tag:before {
                        content:"\e765"
                    }
                    .el-icon-data-analysis:before {
                        content:"\e766"
                    }
                    .el-icon-pie-chart:before {
                        content:"\e767"
                    }
                    .el-icon-data-board:before {
                        content:"\e768"
                    }
                    .el-icon-data-line:before {
                        content:"\e76d"
                    }
                    .el-icon-reading:before {
                        content:"\e769"
                    }
                    .el-icon-magic-stick:before {
                        content:"\e76a"
                    }
                    .el-icon-coordinate:before {
                        content:"\e76b"
                    }
                    .el-icon-mouse:before {
                        content:"\e76c"
                    }
                    .el-icon-brush:before {
                        content:"\e76e"
                    }
                    .el-icon-headset:before {
                        content:"\e76f"
                    }
                    .el-icon-umbrella:before {
                        content:"\e770"
                    }
                    .el-icon-scissors:before {
                        content:"\e771"
                    }
                    .el-icon-mobile:before {
                        content:"\e773"
                    }
                    .el-icon-attract:before {
                        content:"\e774"
                    }
                    .el-icon-monitor:before {
                        content:"\e775"
                    }
                    .el-icon-search:before {
                        content:"\e778"
                    }
                    .el-icon-takeaway-box:before {
                        content:"\e77a"
                    }
                    .el-icon-paperclip:before {
                        content:"\e77d"
                    }
                    .el-icon-printer:before {
                        content:"\e77e"
                    }
                    .el-icon-document-add:before {
                        content:"\e782"
                    }
                    .el-icon-document:before {
                        content:"\e785"
                    }
                    .el-icon-document-checked:before {
                        content:"\e786"
                    }
                    .el-icon-document-copy:before {
                        content:"\e787"
                    }
                    .el-icon-document-delete:before {
                        content:"\e788"
                    }
                    .el-icon-document-remove:before {
                        content:"\e789"
                    }
                    .el-icon-tickets:before {
                        content:"\e78b"
                    }
                    .el-icon-folder-checked:before {
                        content:"\e77f"
                    }
                    .el-icon-folder-delete:before {
                        content:"\e780"
                    }
                    .el-icon-folder-remove:before {
                        content:"\e781"
                    }
                    .el-icon-folder-add:before {
                        content:"\e783"
                    }
                    .el-icon-folder-opened:before {
                        content:"\e784"
                    }
                    .el-icon-folder:before {
                        content:"\e78a"
                    }
                    .el-icon-edit-outline:before {
                        content:"\e764"
                    }
                    .el-icon-edit:before {
                        content:"\e78c"
                    }
                    .el-icon-date:before {
                        content:"\e78e"
                    }
                    .el-icon-c-scale-to-original:before {
                        content:"\e7c6"
                    }
                    .el-icon-view:before {
                        content:"\e6ce"
                    }
                    .el-icon-loading:before {
                        content:"\e6cf"
                    }
                    .el-icon-rank:before {
                        content:"\e6d1"
                    }
                    .el-icon-sort-down:before {
                        content:"\e7c4"
                    }
                    .el-icon-sort-up:before {
                        content:"\e7c5"
                    }
                    .el-icon-sort:before {
                        content:"\e6d2"
                    }
                    .el-icon-finished:before {
                        content:"\e6cd"
                    }
                    .el-icon-refresh-left:before {
                        content:"\e6c7"
                    }
                    .el-icon-refresh-right:before {
                        content:"\e6c8"
                    }
                    .el-icon-refresh:before {
                        content:"\e6d0"
                    }
                    .el-icon-video-play:before {
                        content:"\e7c0"
                    }
                    .el-icon-video-pause:before {
                        content:"\e7c1"
                    }
                    .el-icon-d-arrow-right:before {
                        content:"\e6dc"
                    }
                    .el-icon-d-arrow-left:before {
                        content:"\e6dd"
                    }
                    .el-icon-arrow-up:before {
                        content:"\e6e1"
                    }
                    .el-icon-arrow-down:before {
                        content:"\e6df"
                    }
                    .el-icon-arrow-right:before {
                        content:"\e6e0"
                    }
                    .el-icon-arrow-left:before {
                        content:"\e6de"
                    }
                    .el-icon-top-right:before {
                        content:"\e6e7"
                    }
                    .el-icon-top-left:before {
                        content:"\e6e8"
                    }
                    .el-icon-top:before {
                        content:"\e6e6"
                    }
                    .el-icon-bottom:before {
                        content:"\e6eb"
                    }
                    .el-icon-right:before {
                        content:"\e6e9"
                    }
                    .el-icon-back:before {
                        content:"\e6ea"
                    }
                    .el-icon-bottom-right:before {
                        content:"\e6ec"
                    }
                    .el-icon-bottom-left:before {
                        content:"\e6ed"
                    }
                    .el-icon-caret-top:before {
                        content:"\e78f"
                    }
                    .el-icon-caret-bottom:before {
                        content:"\e790"
                    }
                    .el-icon-caret-right:before {
                        content:"\e791"
                    }
                    .el-icon-caret-left:before {
                        content:"\e792"
                    }
                    .el-icon-d-caret:before {
                        content:"\e79a"
                    }
                    .el-icon-share:before {
                        content:"\e793"
                    }
                    .el-icon-menu:before {
                        content:"\e798"
                    }
                    .el-icon-s-grid:before {
                        content:"\e7a6"
                    }
                    .el-icon-s-check:before {
                        content:"\e7a7"
                    }
                    .el-icon-s-data:before {
                        content:"\e7a8"
                    }
                    .el-icon-s-opportunity:before {
                        content:"\e7aa"
                    }
                    .el-icon-s-custom:before {
                        content:"\e7ab"
                    }
                    .el-icon-s-claim:before {
                        content:"\e7ad"
                    }
                    .el-icon-s-finance:before {
                        content:"\e7ae"
                    }
                    .el-icon-s-comment:before {
                        content:"\e7af"
                    }
                    .el-icon-s-flag:before {
                        content:"\e7b0"
                    }
                    .el-icon-s-marketing:before {
                        content:"\e7b1"
                    }
                    .el-icon-s-shop:before {
                        content:"\e7b4"
                    }
                    .el-icon-s-open:before {
                        content:"\e7b5"
                    }
                    .el-icon-s-management:before {
                        content:"\e7b6"
                    }
                    .el-icon-s-ticket:before {
                        content:"\e7b7"
                    }
                    .el-icon-s-release:before {
                        content:"\e7b8"
                    }
                    .el-icon-s-home:before {
                        content:"\e7b9"
                    }
                    .el-icon-s-promotion:before {
                        content:"\e7ba"
                    }
                    .el-icon-s-operation:before {
                        content:"\e7bb"
                    }
                    .el-icon-s-unfold:before {
                        content:"\e7bc"
                    }
                    .el-icon-s-fold:before {
                        content:"\e7a9"
                    }
                    .el-icon-s-platform:before {
                        content:"\e7bd"
                    }
                    .el-icon-s-order:before {
                        content:"\e7be"
                    }
                    .el-icon-s-cooperation:before {
                        content:"\e7bf"
                    }
                    .el-icon-bell:before {
                        content:"\e725"
                    }
                    .el-icon-message-solid:before {
                        content:"\e799"
                    }
                    .el-icon-video-camera:before {
                        content:"\e772"
                    }
                    .el-icon-video-camera-solid:before {
                        content:"\e796"
                    }
                    .el-icon-camera:before {
                        content:"\e779"
                    }
                    .el-icon-camera-solid:before {
                        content:"\e79b"
                    }
                    .el-icon-download:before {
                        content:"\e77c"
                    }
                    .el-icon-upload2:before {
                        content:"\e77b"
                    }
                    .el-icon-upload:before {
                        content:"\e7c3"
                    }
                    .el-icon-picture-outline-round:before {
                        content:"\e75f"
                    }
                    .el-icon-picture-outline:before {
                        content:"\e75e"
                    }
                    .el-icon-picture:before {
                        content:"\e79f"
                    }
                    .el-icon-close:before {
                        content:"\e6db"
                    }
                    .el-icon-check:before {
                        content:"\e6da"
                    }
                    .el-icon-plus:before {
                        content:"\e6d9"
                    }
                    .el-icon-minus:before {
                        content:"\e6d8"
                    }
                    .el-icon-help:before {
                        content:"\e73d"
                    }
                    .el-icon-s-help:before {
                        content:"\e7b3"
                    }
                    .el-icon-circle-close:before {
                        content:"\e78d"
                    }
                    .el-icon-circle-check:before {
                        content:"\e720"
                    }
                    .el-icon-circle-plus-outline:before {
                        content:"\e723"
                    }
                    .el-icon-remove-outline:before {
                        content:"\e722"
                    }
                    .el-icon-zoom-out:before {
                        content:"\e776"
                    }
                    .el-icon-zoom-in:before {
                        content:"\e777"
                    }
                    .el-icon-error:before {
                        content:"\e79d"
                    }
                    .el-icon-success:before {
                        content:"\e79c"
                    }
                    .el-icon-circle-plus:before {
                        content:"\e7a0"
                    }
                    .el-icon-remove:before {
                        content:"\e7a2"
                    }
                    .el-icon-info:before {
                        content:"\e7a1"
                    }
                    .el-icon-question:before {
                        content:"\e7a4"
                    }
                    .el-icon-warning-outline:before {
                        content:"\e6c9"
                    }
                    .el-icon-warning:before {
                        content:"\e7a3"
                    }
                    .el-icon-goods:before {
                        content:"\e7c2"
                    }
                    .el-icon-s-goods:before {
                        content:"\e7b2"
                    }
                    .el-icon-star-off:before {
                        content:"\e717"
                    }
                    .el-icon-star-on:before {
                        content:"\e797"
                    }
                    .el-icon-more-outline:before {
                        content:"\e6cc"
                    }
                    .el-icon-more:before {
                        content:"\e794"
                    }
                    .el-icon-phone-outline:before {
                        content:"\e6cb"
                    }
                    .el-icon-phone:before {
                        content:"\e795"
                    }
                    .el-icon-user:before {
                        content:"\e6e3"
                    }
                    .el-icon-user-solid:before {
                        content:"\e7a5"
                    }
                    .el-icon-setting:before {
                        content:"\e6ca"
                    }
                    .el-icon-s-tools:before {
                        content:"\e7ac"
                    }
                    .el-icon-delete:before {
                        content:"\e6d7"
                    }
                    .el-icon-delete-solid:before {
                        content:"\e7c9"
                    }
                    .el-icon-eleme:before {
                        content:"\e7c7"
                    }
                    .el-icon-platform-eleme:before {
                        content:"\e7ca"
                    }
                    .el-icon-loading {
                        -webkit-animation:rotating 2s linear infinite;
                        animation:rotating 2s linear infinite
                    }
                    .el-icon--right {
                        margin-left:5px
                    }
                    .el-icon--left {
                        margin-right:5px
                    }
                    @-webkit-keyframes rotating {
                        0% {
                        -webkit-transform:rotateZ(0);
                        transform:rotateZ(0)
                    }
                    100% {
                        -webkit-transform:rotateZ(360deg);
                        transform:rotateZ(360deg)
                    }
                    }@keyframes rotating {
                        0% {
                        -webkit-transform:rotateZ(0);
                        transform:rotateZ(0)
                    }
                    100% {
                        -webkit-transform:rotateZ(360deg);
                        transform:rotateZ(360deg)
                    }
                    }.el-pagination {
                        white-space:nowrap;
                        padding:2px 5px;
                        color:#303133;
                        font-weight:700
                    }
                    .el-pagination::after,.el-pagination::before {
                        display:table;
                        content:""
                    }
                    .el-pagination::after {
                        clear:both
                    }
                    .el-pagination button,.el-pagination span:not([class*=suffix]) {
                        display:inline-block;
                        font-size:13px;
                        min-width:35.5px;
                        height:28px;
                        line-height:28px;
                        vertical-align:top;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box
                    }
                    .el-pagination .el-input__inner {
                        text-align:center;
                        -moz-appearance:textfield;
                        line-height:normal
                    }
                    .el-pagination .el-input__suffix {
                        right:0;
                        -webkit-transform:scale(.8);
                        transform:scale(.8)
                    }
                    .el-pagination .el-select .el-input {
                        width:100px;
                        margin:0 5px
                    }
                    .el-pagination .el-select .el-input .el-input__inner {
                        padding-right:25px;
                        border-radius:3px
                    }
                    .el-pagination button {
                        border:none;
                        padding:0 6px;
                        background:0 0
                    }
                    .el-pagination button:focus {
                        outline:0
                    }
                    .el-pagination button:hover {
                        color:#409eff
                    }
                    .el-pagination button:disabled {
                        color:#c0c4cc;
                        background-color:#fff;
                        cursor:not-allowed
                    }
                    .el-pagination .btn-next,.el-pagination .btn-prev {
                        background:center center no-repeat #fff;
                        background-size:16px;
                        cursor:pointer;
                        margin:0;
                        color:#303133
                    }
                    .el-pagination .btn-next .el-icon,.el-pagination .btn-prev .el-icon {
                        display:block;
                        font-size:12px;
                        font-weight:700
                    }
                    .el-pagination .btn-prev {
                        padding-right:12px
                    }
                    .el-pagination .btn-next {
                        padding-left:12px
                    }
                    .el-pagination .el-pager li.disabled {
                        color:#c0c4cc;
                        cursor:not-allowed
                    }
                    .el-pager li,.el-pager li.btn-quicknext:hover,.el-pager li.btn-quickprev:hover {
                        cursor:pointer
                    }
                    .el-pagination--small .btn-next,.el-pagination--small .btn-prev,.el-pagination--small .el-pager li,.el-pagination--small .el-pager li.btn-quicknext,.el-pagination--small .el-pager li.btn-quickprev,.el-pagination--small .el-pager li:last-child {
                        border-color:transparent;
                        font-size:12px;
                        line-height:22px;
                        height:22px;
                        min-width:22px
                    }
                    .el-pagination--small .arrow.disabled {
                        visibility:hidden
                    }
                    .el-pagination--small .more::before,.el-pagination--small li.more::before {
                        line-height:24px
                    }
                    .el-pagination--small button,.el-pagination--small span:not([class*=suffix]) {
                        height:22px;
                        line-height:22px
                    }
                    .el-pagination--small .el-pagination__editor,.el-pagination--small .el-pagination__editor.el-input .el-input__inner {
                        height:22px
                    }
                    .el-pagination__sizes {
                        margin:0 10px 0 0;
                        font-weight:400;
                        color:#606266
                    }
                    .el-pagination__sizes .el-input .el-input__inner {
                        font-size:13px;
                        padding-left:8px
                    }
                    .el-pagination__sizes .el-input .el-input__inner:hover {
                        border-color:#409eff
                    }
                    .el-pagination__total {
                        margin-right:10px;
                        font-weight:400;
                        color:#606266
                    }
                    .el-pagination__jump {
                        margin-left:24px;
                        font-weight:400;
                        color:#606266
                    }
                    .el-pagination__jump .el-input__inner {
                        padding:0 3px
                    }
                    .el-pagination__rightwrapper {
                        float:right
                    }
                    .el-pagination__editor {
                        line-height:18px;
                        padding:0 2px;
                        height:28px;
                        text-align:center;
                        margin:0 2px;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        border-radius:3px
                    }
                    .el-pager,.el-pagination.is-background .btn-next,.el-pagination.is-background .btn-prev {
                        padding:0
                    }
                    .el-dialog,.el-pager li {
                        -webkit-box-sizing:border-box
                    }
                    .el-pagination__editor.el-input {
                        width:50px
                    }
                    .el-pagination__editor.el-input .el-input__inner {
                        height:28px
                    }
                    .el-pagination__editor .el-input__inner::-webkit-inner-spin-button,.el-pagination__editor .el-input__inner::-webkit-outer-spin-button {
                        -webkit-appearance:none;
                        margin:0
                    }
                    .el-pagination.is-background .btn-next,.el-pagination.is-background .btn-prev,.el-pagination.is-background .el-pager li {
                        margin:0 5px;
                        background-color:#f4f4f5;
                        color:#606266;
                        min-width:30px;
                        border-radius:2px
                    }
                    .el-pagination.is-background .btn-next.disabled,.el-pagination.is-background .btn-next:disabled,.el-pagination.is-background .btn-prev.disabled,.el-pagination.is-background .btn-prev:disabled,.el-pagination.is-background .el-pager li.disabled {
                        color:#c0c4cc
                    }
                    .el-pagination.is-background .el-pager li:not(.disabled):hover {
                        color:#409eff
                    }
                    .el-pagination.is-background .el-pager li:not(.disabled).active {
                        background-color:#409eff;
                        color:#fff
                    }
                    .el-pagination.is-background.el-pagination--small .btn-next,.el-pagination.is-background.el-pagination--small .btn-prev,.el-pagination.is-background.el-pagination--small .el-pager li {
                        margin:0 3px;
                        min-width:22px
                    }
                    .el-pager,.el-pager li {
                        vertical-align:top;
                        margin:0;
                        display:inline-block
                    }
                    .el-pager {
                        -webkit-user-select:none;
                        -moz-user-select:none;
                        -ms-user-select:none;
                        user-select:none;
                        list-style:none;
                        font-size:0
                    }
                    .el-pager .more::before {
                        line-height:30px
                    }
                    .el-pager li {
                        padding:0 4px;
                        background:#fff;
                        font-size:13px;
                        min-width:35.5px;
                        height:28px;
                        line-height:28px;
                        box-sizing:border-box;
                        text-align:center
                    }
                    .el-pager li.btn-quicknext,.el-pager li.btn-quickprev {
                        line-height:28px;
                        color:#303133
                    }
                    .el-pager li.btn-quicknext.disabled,.el-pager li.btn-quickprev.disabled {
                        color:#c0c4cc
                    }
                    .el-pager li.active+li {
                        border-left:0
                    }
                    .el-pager li:hover {
                        color:#409eff
                    }
                    .el-pager li.active {
                        color:#409eff;
                        cursor:default
                    }
                    @-webkit-keyframes v-modal-in {
                        0% {
                        opacity:0
                    }
                    }@-webkit-keyframes v-modal-out {
                        100% {
                        opacity:0
                    }
                    }.el-dialog {
                        position:relative;
                        margin:0 auto 50px;
                        background:#fff;
                        border-radius:2px;
                        -webkit-box-shadow:0 1px 3px rgba(0,0,0,.3);
                        box-shadow:0 1px 3px rgba(0,0,0,.3);
                        box-sizing:border-box;
                        width:50%
                    }
                    .el-dialog.is-fullscreen {
                        width:100%;
                        margin-top:0;
                        margin-bottom:0;
                        height:100%;
                        overflow:auto
                    }
                    .el-dialog__wrapper {
                        position:fixed;
                        top:0;
                        right:0;
                        bottom:0;
                        left:0;
                        overflow:auto;
                        margin:0
                    }
                    .el-dialog__header {
                        padding:20px 20px 10px
                    }
                    .el-dialog__headerbtn {
                        position:absolute;
                        top:20px;
                        right:20px;
                        padding:0;
                        background:0 0;
                        border:none;
                        outline:0;
                        cursor:pointer;
                        font-size:16px
                    }
                    .el-dialog__headerbtn .el-dialog__close {
                        color:#909399
                    }
                    .el-dialog__headerbtn:focus .el-dialog__close,.el-dialog__headerbtn:hover .el-dialog__close {
                        color:#409eff
                    }
                    .el-dialog__title {
                        line-height:24px;
                        font-size:18px;
                        color:#303133
                    }
                    .el-dialog__body {
                        padding:30px 20px;
                        color:#606266;
                        font-size:14px;
                        word-break:break-all
                    }
                    .el-dialog__footer {
                        padding:10px 20px 20px;
                        text-align:right;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box
                    }
                    .el-dialog--center {
                        text-align:center
                    }
                    .el-dialog--center .el-dialog__body {
                        text-align:initial;
                        padding:25px 25px 30px
                    }
                    .el-dialog--center .el-dialog__footer {
                        text-align:inherit
                    }
                    .dialog-fade-enter-active {
                        -webkit-animation:dialog-fade-in .3s;
                        animation:dialog-fade-in .3s
                    }
                    .dialog-fade-leave-active {
                        -webkit-animation:dialog-fade-out .3s;
                        animation:dialog-fade-out .3s
                    }
                    @-webkit-keyframes dialog-fade-in {
                        0% {
                        -webkit-transform:translate3d(0,-20px,0);
                        transform:translate3d(0,-20px,0);
                        opacity:0
                    }
                    100% {
                        -webkit-transform:translate3d(0,0,0);
                        transform:translate3d(0,0,0);
                        opacity:1
                    }
                    }@keyframes dialog-fade-in {
                        0% {
                        -webkit-transform:translate3d(0,-20px,0);
                        transform:translate3d(0,-20px,0);
                        opacity:0
                    }
                    100% {
                        -webkit-transform:translate3d(0,0,0);
                        transform:translate3d(0,0,0);
                        opacity:1
                    }
                    }@-webkit-keyframes dialog-fade-out {
                        0% {
                        -webkit-transform:translate3d(0,0,0);
                        transform:translate3d(0,0,0);
                        opacity:1
                    }
                    100% {
                        -webkit-transform:translate3d(0,-20px,0);
                        transform:translate3d(0,-20px,0);
                        opacity:0
                    }
                    }@keyframes dialog-fade-out {
                        0% {
                        -webkit-transform:translate3d(0,0,0);
                        transform:translate3d(0,0,0);
                        opacity:1
                    }
                    100% {
                        -webkit-transform:translate3d(0,-20px,0);
                        transform:translate3d(0,-20px,0);
                        opacity:0
                    }
                    }.el-autocomplete {
                        position:relative;
                        display:inline-block
                    }
                    .el-autocomplete-suggestion {
                        margin:5px 0;
                        -webkit-box-shadow:0 2px 12px 0 rgba(0,0,0,.1);
                        box-shadow:0 2px 12px 0 rgba(0,0,0,.1);
                        border-radius:4px;
                        border:1px solid #e4e7ed;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        background-color:#fff
                    }
                    .el-autocomplete-suggestion__wrap {
                        max-height:280px;
                        padding:10px 0;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box
                    }
                    .el-autocomplete-suggestion__list {
                        margin:0;
                        padding:0
                    }
                    .el-autocomplete-suggestion li {
                        padding:0 20px;
                        margin:0;
                        line-height:34px;
                        cursor:pointer;
                        color:#606266;
                        font-size:14px;
                        list-style:none;
                        white-space:nowrap;
                        overflow:hidden;
                        text-overflow:ellipsis
                    }
                    .el-autocomplete-suggestion li.highlighted,.el-autocomplete-suggestion li:hover {
                        background-color:#f5f7fa
                    }
                    .el-autocomplete-suggestion li.divider {
                        margin-top:6px;
                        border-top:1px solid #000
                    }
                    .el-autocomplete-suggestion li.divider:last-child {
                        margin-bottom:-6px
                    }
                    .el-autocomplete-suggestion.is-loading li {
                        text-align:center;
                        height:100px;
                        line-height:100px;
                        font-size:20px;
                        color:#999
                    }
                    .el-autocomplete-suggestion.is-loading li::after {
                        display:inline-block;
                        content:"";
                        height:100%;
                        vertical-align:middle
                    }
                    .el-autocomplete-suggestion.is-loading li:hover {
                        background-color:#fff
                    }
                    .el-autocomplete-suggestion.is-loading .el-icon-loading {
                        vertical-align:middle
                    }
                    .el-dropdown {
                        display:inline-block;
                        position:relative;
                        color:#606266;
                        font-size:14px
                    }
                    .el-dropdown .el-button-group {
                        display:block
                    }
                    .el-dropdown .el-button-group .el-button {
                        float:none
                    }
                    .el-dropdown .el-dropdown__caret-button {
                        padding-left:5px;
                        padding-right:5px;
                        position:relative;
                        border-left:none
                    }
                    .el-dropdown .el-dropdown__caret-button::before {
                        content:'';
                        position:absolute;
                        display:block;
                        width:1px;
                        top:5px;
                        bottom:5px;
                        left:0;
                        background:rgba(255,255,255,.5)
                    }
                    .el-dropdown .el-dropdown__caret-button.el-button--default::before {
                        background:rgba(220,223,230,.5)
                    }
                    .el-dropdown .el-dropdown__caret-button:hover:not(.is-disabled)::before {
                        top:0;
                        bottom:0
                    }
                    .el-dropdown .el-dropdown__caret-button .el-dropdown__icon {
                        padding-left:0
                    }
                    .el-dropdown__icon {
                        font-size:12px;
                        margin:0 3px
                    }
                    .el-dropdown .el-dropdown-selfdefine:focus:active,.el-dropdown .el-dropdown-selfdefine:focus:not(.focusing) {
                        outline-width:0
                    }
                    .el-dropdown [disabled] {
                        cursor:not-allowed;
                        color:#bbb
                    }
                    .el-dropdown-menu {
                        position:absolute;
                        top:0;
                        left:0;
                        z-index:10;
                        padding:10px 0;
                        margin:5px 0;
                        background-color:#fff;
                        border:1px solid #ebeef5;
                        border-radius:4px;
                        -webkit-box-shadow:0 2px 12px 0 rgba(0,0,0,.1);
                        box-shadow:0 2px 12px 0 rgba(0,0,0,.1)
                    }
                    .el-dropdown-menu__item,.el-menu-item {
                        font-size:14px;
                        padding:0 20px;
                        cursor:pointer
                    }
                    .el-dropdown-menu__item {
                        list-style:none;
                        line-height:36px;
                        margin:0;
                        color:#606266;
                        outline:0
                    }
                    .el-dropdown-menu__item:focus,.el-dropdown-menu__item:not(.is-disabled):hover {
                        background-color:#ecf5ff;
                        color:#66b1ff
                    }
                    .el-dropdown-menu__item i {
                        margin-right:5px
                    }
                    .el-dropdown-menu__item--divided {
                        position:relative;
                        margin-top:6px;
                        border-top:1px solid #ebeef5
                    }
                    .el-dropdown-menu__item--divided:before {
                        content:'';
                        height:6px;
                        display:block;
                        margin:0 -20px;
                        background-color:#fff
                    }
                    .el-dropdown-menu__item.is-disabled {
                        cursor:default;
                        color:#bbb;
                        pointer-events:none
                    }
                    .el-dropdown-menu--medium {
                        padding:6px 0
                    }
                    .el-dropdown-menu--medium .el-dropdown-menu__item {
                        line-height:30px;
                        padding:0 17px;
                        font-size:14px
                    }
                    .el-dropdown-menu--medium .el-dropdown-menu__item.el-dropdown-menu__item--divided {
                        margin-top:6px
                    }
                    .el-dropdown-menu--medium .el-dropdown-menu__item.el-dropdown-menu__item--divided:before {
                        height:6px;
                        margin:0 -17px
                    }
                    .el-dropdown-menu--small {
                        padding:6px 0
                    }
                    .el-dropdown-menu--small .el-dropdown-menu__item {
                        line-height:27px;
                        padding:0 15px;
                        font-size:13px
                    }
                    .el-dropdown-menu--small .el-dropdown-menu__item.el-dropdown-menu__item--divided {
                        margin-top:4px
                    }
                    .el-dropdown-menu--small .el-dropdown-menu__item.el-dropdown-menu__item--divided:before {
                        height:4px;
                        margin:0 -15px
                    }
                    .el-dropdown-menu--mini {
                        padding:3px 0
                    }
                    .el-dropdown-menu--mini .el-dropdown-menu__item {
                        line-height:24px;
                        padding:0 10px;
                        font-size:12px
                    }
                    .el-dropdown-menu--mini .el-dropdown-menu__item.el-dropdown-menu__item--divided {
                        margin-top:3px
                    }
                    .el-dropdown-menu--mini .el-dropdown-menu__item.el-dropdown-menu__item--divided:before {
                        height:3px;
                        margin:0 -10px
                    }
                    .el-menu {
                        border-right:solid 1px #e6e6e6;
                        list-style:none;
                        position:relative;
                        margin:0;
                        padding-left:0;
                        background-color:#fff
                    }
                    .el-menu--horizontal>.el-menu-item:not(.is-disabled):focus,.el-menu--horizontal>.el-menu-item:not(.is-disabled):hover,.el-menu--horizontal>.el-submenu .el-submenu__title:hover {
                        background-color:#fff
                    }
                    .el-menu::after,.el-menu::before {
                        display:table;
                        content:""
                    }
                    .el-breadcrumb__item:last-child .el-breadcrumb__separator,.el-menu--collapse>.el-menu-item .el-submenu__icon-arrow,.el-menu--collapse>.el-submenu>.el-submenu__title .el-submenu__icon-arrow {
                        display:none
                    }
                    .el-menu::after {
                        clear:both
                    }
                    .el-menu.el-menu--horizontal {
                        border-bottom:solid 1px #e6e6e6
                    }
                    .el-menu--horizontal {
                        border-right:none
                    }
                    .el-menu--horizontal>.el-menu-item {
                        float:left;
                        height:60px;
                        line-height:60px;
                        margin:0;
                        border-bottom:2px solid transparent;
                        color:#909399
                    }
                    .el-menu--horizontal>.el-menu-item a,.el-menu--horizontal>.el-menu-item a:hover {
                        color:inherit
                    }
                    .el-menu--horizontal>.el-submenu {
                        float:left
                    }
                    .el-menu--horizontal>.el-submenu:focus,.el-menu--horizontal>.el-submenu:hover {
                        outline:0
                    }
                    .el-menu--horizontal>.el-submenu:focus .el-submenu__title,.el-menu--horizontal>.el-submenu:hover .el-submenu__title {
                        color:#303133
                    }
                    .el-menu--horizontal>.el-submenu.is-active .el-submenu__title {
                        border-bottom:2px solid #409eff;
                        color:#303133
                    }
                    .el-menu--horizontal>.el-submenu .el-submenu__title {
                        height:60px;
                        line-height:60px;
                        border-bottom:2px solid transparent;
                        color:#909399
                    }
                    .el-menu--horizontal>.el-submenu .el-submenu__icon-arrow {
                        position:static;
                        vertical-align:middle;
                        margin-left:8px;
                        margin-top:-3px
                    }
                    .el-menu--collapse .el-submenu,.el-menu-item {
                        position:relative
                    }
                    .el-menu--horizontal .el-menu .el-menu-item,.el-menu--horizontal .el-menu .el-submenu__title {
                        background-color:#fff;
                        float:none;
                        height:36px;
                        line-height:36px;
                        padding:0 10px;
                        color:#909399
                    }
                    .el-menu--horizontal .el-menu .el-menu-item.is-active,.el-menu--horizontal .el-menu .el-submenu.is-active>.el-submenu__title {
                        color:#303133
                    }
                    .el-menu--horizontal .el-menu-item:not(.is-disabled):focus,.el-menu--horizontal .el-menu-item:not(.is-disabled):hover {
                        outline:0;
                        color:#303133
                    }
                    .el-menu--horizontal>.el-menu-item.is-active {
                        border-bottom:2px solid #409eff;
                        color:#303133
                    }
                    .el-menu--collapse {
                        width:64px
                    }
                    .el-menu--collapse>.el-menu-item [class^=el-icon-],.el-menu--collapse>.el-submenu>.el-submenu__title [class^=el-icon-] {
                        margin:0;
                        vertical-align:middle;
                        width:24px;
                        text-align:center
                    }
                    .el-menu--collapse>.el-menu-item span,.el-menu--collapse>.el-submenu>.el-submenu__title span {
                        height:0;
                        width:0;
                        overflow:hidden;
                        visibility:hidden;
                        display:inline-block
                    }
                    .el-menu-item,.el-submenu__title {
                        height:56px;
                        line-height:56px;
                        list-style:none
                    }
                    .el-menu--collapse>.el-menu-item.is-active i {
                        color:inherit
                    }
                    .el-menu--collapse .el-menu .el-submenu {
                        min-width:200px
                    }
                    .el-menu--collapse .el-submenu .el-menu {
                        position:absolute;
                        margin-left:5px;
                        top:0;
                        left:100%;
                        z-index:10;
                        border:1px solid #e4e7ed;
                        border-radius:2px;
                        -webkit-box-shadow:0 2px 12px 0 rgba(0,0,0,.1);
                        box-shadow:0 2px 12px 0 rgba(0,0,0,.1)
                    }
                    .el-menu--collapse .el-submenu.is-opened>.el-submenu__title .el-submenu__icon-arrow {
                        -webkit-transform:none;
                        transform:none
                    }
                    .el-menu--popup {
                        z-index:100;
                        min-width:200px;
                        border:none;
                        padding:5px 0;
                        border-radius:2px;
                        -webkit-box-shadow:0 2px 12px 0 rgba(0,0,0,.1);
                        box-shadow:0 2px 12px 0 rgba(0,0,0,.1)
                    }
                    .el-menu--popup-bottom-start {
                        margin-top:5px
                    }
                    .el-menu--popup-right-start {
                        margin-left:5px;
                        margin-right:5px
                    }
                    .el-menu-item {
                        color:#303133;
                        -webkit-transition:border-color .3s,background-color .3s,color .3s;
                        transition:border-color .3s,background-color .3s,color .3s;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        white-space:nowrap
                    }
                    .el-radio-button__inner,.el-submenu__title {
                        -webkit-box-sizing:border-box;
                        position:relative;
                        white-space:nowrap
                    }
                    .el-menu-item * {
                        vertical-align:middle
                    }
                    .el-menu-item i {
                        color:#909399
                    }
                    .el-menu-item:focus,.el-menu-item:hover {
                        outline:0;
                        background-color:#ecf5ff
                    }
                    .el-menu-item.is-disabled {
                        opacity:.25;
                        cursor:not-allowed;
                        background:0 0!important
                    }
                    .el-menu-item [class^=el-icon-] {
                        margin-right:5px;
                        width:24px;
                        text-align:center;
                        font-size:18px;
                        vertical-align:middle
                    }
                    .el-menu-item.is-active {
                        color:#409eff
                    }
                    .el-menu-item.is-active i {
                        color:inherit
                    }
                    .el-submenu {
                        list-style:none;
                        margin:0;
                        padding-left:0
                    }
                    .el-submenu__title {
                        font-size:14px;
                        color:#303133;
                        padding:0 20px;
                        cursor:pointer;
                        -webkit-transition:border-color .3s,background-color .3s,color .3s;
                        transition:border-color .3s,background-color .3s,color .3s;
                        box-sizing:border-box
                    }
                    .el-submenu__title * {
                        vertical-align:middle
                    }
                    .el-submenu__title i {
                        color:#909399
                    }
                    .el-submenu__title:focus,.el-submenu__title:hover {
                        outline:0;
                        background-color:#ecf5ff
                    }
                    .el-submenu__title.is-disabled {
                        opacity:.25;
                        cursor:not-allowed;
                        background:0 0!important
                    }
                    .el-submenu__title:hover {
                        background-color:#ecf5ff
                    }
                    .el-submenu .el-menu {
                        border:none
                    }
                    .el-submenu .el-menu-item {
                        height:50px;
                        line-height:50px;
                        padding:0 45px;
                        min-width:200px
                    }
                    .el-submenu__icon-arrow {
                        position:absolute;
                        top:50%;
                        right:20px;
                        margin-top:-7px;
                        -webkit-transition:-webkit-transform .3s;
                        transition:-webkit-transform .3s;
                        transition:transform .3s;
                        transition:transform .3s,-webkit-transform .3s;
                        font-size:12px
                    }
                    .el-submenu.is-active .el-submenu__title {
                        border-bottom-color:#409eff
                    }
                    .el-submenu.is-opened>.el-submenu__title .el-submenu__icon-arrow {
                        -webkit-transform:rotateZ(180deg);
                        transform:rotateZ(180deg)
                    }
                    .el-submenu.is-disabled .el-menu-item,.el-submenu.is-disabled .el-submenu__title {
                        opacity:.25;
                        cursor:not-allowed;
                        background:0 0!important
                    }
                    .el-submenu [class^=el-icon-] {
                        vertical-align:middle;
                        margin-right:5px;
                        width:24px;
                        text-align:center;
                        font-size:18px
                    }
                    .el-menu-item-group>ul {
                        padding:0
                    }
                    .el-menu-item-group__title {
                        padding:7px 0 7px 20px;
                        line-height:normal;
                        font-size:12px;
                        color:#909399
                    }
                    .el-radio-button__inner,.el-radio-group {
                        display:inline-block;
                        line-height:1;
                        vertical-align:middle
                    }
                    .horizontal-collapse-transition .el-submenu__title .el-submenu__icon-arrow {
                        -webkit-transition:.2s;
                        transition:.2s;
                        opacity:0
                    }
                    .el-radio-group {
                        font-size:0
                    }
                    .el-radio-button {
                        position:relative;
                        display:inline-block;
                        outline:0
                    }
                    .el-radio-button__inner {
                        background:#fff;
                        border:1px solid #dcdfe6;
                        font-weight:500;
                        border-left:0;
                        color:#606266;
                        -webkit-appearance:none;
                        text-align:center;
                        box-sizing:border-box;
                        outline:0;
                        margin:0;
                        cursor:pointer;
                        -webkit-transition:all .3s cubic-bezier(.645,.045,.355,1);
                        transition:all .3s cubic-bezier(.645,.045,.355,1);
                        padding:12px 20px;
                        font-size:14px;
                        border-radius:0
                    }
                    .el-radio-button__inner.is-round {
                        padding:12px 20px
                    }
                    .el-radio-button__inner:hover {
                        color:#409eff
                    }
                    .el-radio-button__inner [class*=el-icon-] {
                        line-height:.9
                    }
                    .el-radio-button__inner [class*=el-icon-]+span {
                        margin-left:5px
                    }
                    .el-radio-button:first-child .el-radio-button__inner {
                        border-left:1px solid #dcdfe6;
                        border-radius:4px 0 0 4px;
                        -webkit-box-shadow:none!important;
                        box-shadow:none!important
                    }
                    .el-radio-button__orig-radio {
                        opacity:0;
                        outline:0;
                        position:absolute;
                        z-index:-1
                    }
                    .el-radio-button__orig-radio:checked+.el-radio-button__inner {
                        color:#fff;
                        background-color:#409eff;
                        border-color:#409eff;
                        -webkit-box-shadow:-1px 0 0 0 #409eff;
                        box-shadow:-1px 0 0 0 #409eff
                    }
                    .el-radio-button__orig-radio:disabled+.el-radio-button__inner {
                        color:#c0c4cc;
                        cursor:not-allowed;
                        background-image:none;
                        background-color:#fff;
                        border-color:#ebeef5;
                        -webkit-box-shadow:none;
                        box-shadow:none
                    }
                    .el-radio-button__orig-radio:disabled:checked+.el-radio-button__inner {
                        background-color:#f2f6fc
                    }
                    .el-radio-button:last-child .el-radio-button__inner {
                        border-radius:0 4px 4px 0
                    }
                    .el-radio-button:first-child:last-child .el-radio-button__inner {
                        border-radius:4px
                    }
                    .el-radio-button--medium .el-radio-button__inner {
                        padding:10px 20px;
                        font-size:14px;
                        border-radius:0
                    }
                    .el-radio-button--medium .el-radio-button__inner.is-round {
                        padding:10px 20px
                    }
                    .el-radio-button--small .el-radio-button__inner {
                        padding:9px 15px;
                        font-size:12px;
                        border-radius:0
                    }
                    .el-radio-button--small .el-radio-button__inner.is-round {
                        padding:9px 15px
                    }
                    .el-radio-button--mini .el-radio-button__inner {
                        padding:7px 15px;
                        font-size:12px;
                        border-radius:0
                    }
                    .el-radio-button--mini .el-radio-button__inner.is-round {
                        padding:7px 15px
                    }
                    .el-radio-button:focus:not(.is-focus):not(:active):not(.is-disabled) {
                        -webkit-box-shadow:0 0 2px 2px #409eff;
                        box-shadow:0 0 2px 2px #409eff
                    }
                    .el-picker-panel,.el-popover,.el-select-dropdown,.el-table-filter,.el-time-panel {
                        -webkit-box-shadow:0 2px 12px 0 rgba(0,0,0,.1)
                    }
                    .el-switch {
                        display:-webkit-inline-box;
                        display:-ms-inline-flexbox;
                        display:inline-flex;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        position:relative;
                        font-size:14px;
                        line-height:20px;
                        height:20px;
                        vertical-align:middle
                    }
                    .el-switch__core,.el-switch__label {
                        display:inline-block;
                        cursor:pointer
                    }
                    .el-switch.is-disabled .el-switch__core,.el-switch.is-disabled .el-switch__label {
                        cursor:not-allowed
                    }
                    .el-switch__label {
                        -webkit-transition:.2s;
                        transition:.2s;
                        height:20px;
                        font-size:14px;
                        font-weight:500;
                        vertical-align:middle;
                        color:#303133
                    }
                    .el-switch__label.is-active {
                        color:#409eff
                    }
                    .el-switch__label--left {
                        margin-right:10px
                    }
                    .el-switch__label--right {
                        margin-left:10px
                    }
                    .el-switch__label * {
                        line-height:1;
                        font-size:14px;
                        display:inline-block
                    }
                    .el-switch__input {
                        position:absolute;
                        width:0;
                        height:0;
                        opacity:0;
                        margin:0
                    }
                    .el-switch__core {
                        margin:0;
                        position:relative;
                        width:40px;
                        height:20px;
                        border:1px solid #dcdfe6;
                        outline:0;
                        border-radius:10px;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        background:#dcdfe6;
                        -webkit-transition:border-color .3s,background-color .3s;
                        transition:border-color .3s,background-color .3s;
                        vertical-align:middle
                    }
                    .el-input__prefix,.el-input__suffix {
                        -webkit-transition:all .3s;
                        color:#c0c4cc
                    }
                    .el-switch__core:after {
                        content:"";
                        position:absolute;
                        top:1px;
                        left:1px;
                        border-radius:100%;
                        -webkit-transition:all .3s;
                        transition:all .3s;
                        width:16px;
                        height:16px;
                        background-color:#fff
                    }
                    .el-switch.is-checked .el-switch__core {
                        border-color:#409eff;
                        background-color:#409eff
                    }
                    .el-switch.is-checked .el-switch__core::after {
                        left:100%;
                        margin-left:-17px
                    }
                    .el-switch.is-disabled {
                        opacity:.6
                    }
                    .el-switch--wide .el-switch__label.el-switch__label--left span {
                        left:10px
                    }
                    .el-switch--wide .el-switch__label.el-switch__label--right span {
                        right:10px
                    }
                    .el-switch .label-fade-enter,.el-switch .label-fade-leave-active {
                        opacity:0
                    }
                    .el-select-dropdown {
                        position:absolute;
                        z-index:1001;
                        border:1px solid #e4e7ed;
                        border-radius:4px;
                        background-color:#fff;
                        box-shadow:0 2px 12px 0 rgba(0,0,0,.1);
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        margin:5px 0
                    }
                    .el-select-dropdown.is-multiple .el-select-dropdown__item {
                        padding-right:40px
                    }
                    .el-select-dropdown.is-multiple .el-select-dropdown__item.selected {
                        color:#409eff;
                        background-color:#fff
                    }
                    .el-select-dropdown.is-multiple .el-select-dropdown__item.selected.hover {
                        background-color:#f5f7fa
                    }
                    .el-select-dropdown.is-multiple .el-select-dropdown__item.selected::after {
                        position:absolute;
                        right:20px;
                        font-family:element-icons;
                        content:"\e6da";
                        font-size:12px;
                        font-weight:700;
                        -webkit-font-smoothing:antialiased;
                        -moz-osx-font-smoothing:grayscale
                    }
                    .el-select-dropdown .el-scrollbar.is-empty .el-select-dropdown__list {
                        padding:0
                    }
                    .el-select-dropdown__empty {
                        padding:10px 0;
                        margin:0;
                        text-align:center;
                        color:#999;
                        font-size:14px
                    }
                    .el-select-dropdown__wrap {
                        max-height:274px
                    }
                    .el-select-dropdown__list {
                        list-style:none;
                        padding:6px 0;
                        margin:0;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box
                    }
                    .el-select-dropdown__item {
                        font-size:14px;
                        padding:0 20px;
                        position:relative;
                        white-space:nowrap;
                        overflow:hidden;
                        text-overflow:ellipsis;
                        color:#606266;
                        height:34px;
                        line-height:34px;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        cursor:pointer
                    }
                    .el-select-dropdown__item.is-disabled {
                        color:#c0c4cc;
                        cursor:not-allowed
                    }
                    .el-select-dropdown__item.is-disabled:hover {
                        background-color:#fff
                    }
                    .el-select-dropdown__item.hover,.el-select-dropdown__item:hover {
                        background-color:#f5f7fa
                    }
                    .el-select-dropdown__item.selected {
                        color:#409eff;
                        font-weight:700
                    }
                    .el-select-group {
                        margin:0;
                        padding:0
                    }
                    .el-select-group__wrap {
                        position:relative;
                        list-style:none;
                        margin:0;
                        padding:0
                    }
                    .el-select-group__wrap:not(:last-of-type) {
                        padding-bottom:24px
                    }
                    .el-select-group__wrap:not(:last-of-type)::after {
                        content:'';
                        position:absolute;
                        display:block;
                        left:20px;
                        right:20px;
                        bottom:12px;
                        height:1px;
                        background:#e4e7ed
                    }
                    .el-select-group__title {
                        padding-left:20px;
                        font-size:12px;
                        color:#909399;
                        line-height:30px
                    }
                    .el-select-group .el-select-dropdown__item {
                        padding-left:20px
                    }
                    .el-select {
                        display:inline-block;
                        position:relative
                    }
                    .el-select .el-select__tags>span {
                        display:contents
                    }
                    .el-select:hover .el-input__inner {
                        border-color:#c0c4cc
                    }
                    .el-select .el-input__inner {
                        cursor:pointer;
                        padding-right:35px
                    }
                    .el-select .el-input__inner:focus {
                        border-color:#409eff
                    }
                    .el-select .el-input .el-select__caret {
                        color:#c0c4cc;
                        font-size:14px;
                        -webkit-transition:-webkit-transform .3s;
                        transition:-webkit-transform .3s;
                        transition:transform .3s;
                        transition:transform .3s,-webkit-transform .3s;
                        -webkit-transform:rotateZ(180deg);
                        transform:rotateZ(180deg);
                        cursor:pointer
                    }
                    .el-select .el-input .el-select__caret.is-reverse {
                        -webkit-transform:rotateZ(0);
                        transform:rotateZ(0)
                    }
                    .el-select .el-input .el-select__caret.is-show-close {
                        font-size:14px;
                        text-align:center;
                        -webkit-transform:rotateZ(180deg);
                        transform:rotateZ(180deg);
                        border-radius:100%;
                        color:#c0c4cc;
                        -webkit-transition:color .2s cubic-bezier(.645,.045,.355,1);
                        transition:color .2s cubic-bezier(.645,.045,.355,1)
                    }
                    .el-select .el-input .el-select__caret.is-show-close:hover {
                        color:#909399
                    }
                    .el-select .el-input.is-disabled .el-input__inner {
                        cursor:not-allowed
                    }
                    .el-select .el-input.is-disabled .el-input__inner:hover {
                        border-color:#e4e7ed
                    }
                    .el-range-editor.is-active,.el-range-editor.is-active:hover,.el-select .el-input.is-focus .el-input__inner {
                        border-color:#409eff
                    }
                    .el-select>.el-input {
                        display:block
                    }
                    .el-select__input {
                        border:none;
                        outline:0;
                        padding:0;
                        margin-left:15px;
                        color:#666;
                        font-size:14px;
                        -webkit-appearance:none;
                        -moz-appearance:none;
                        appearance:none;
                        height:28px;
                        background-color:transparent
                    }
                    .el-select__input.is-mini {
                        height:14px
                    }
                    .el-select__close {
                        cursor:pointer;
                        position:absolute;
                        top:8px;
                        z-index:1000;
                        right:25px;
                        color:#c0c4cc;
                        line-height:18px;
                        font-size:14px
                    }
                    .el-select__close:hover {
                        color:#909399
                    }
                    .el-select__tags {
                        position:absolute;
                        line-height:normal;
                        white-space:normal;
                        z-index:1;
                        top:50%;
                        -webkit-transform:translateY(-50%);
                        transform:translateY(-50%);
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        -ms-flex-wrap:wrap;
                        flex-wrap:wrap
                    }
                    .el-select__tags-text {
                        overflow:hidden;
                        text-overflow:ellipsis
                    }
                    .el-select .el-tag {
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        border-color:transparent;
                        margin:2px 0 2px 6px;
                        background-color:#f0f2f5;
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        max-width:100%;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center
                    }
                    .el-select .el-tag__close.el-icon-close {
                        background-color:#c0c4cc;
                        top:0;
                        color:#fff;
                        -ms-flex-negative:0;
                        flex-shrink:0
                    }
                    .el-select .el-tag__close.el-icon-close:hover {
                        background-color:#909399
                    }
                    .el-table,.el-table__expanded-cell {
                        background-color:#fff
                    }
                    .el-select .el-tag__close.el-icon-close::before {
                        display:block;
                        -webkit-transform:translate(0,.5px);
                        transform:translate(0,.5px)
                    }
                    .el-table {
                        position:relative;
                        overflow:hidden;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        -webkit-box-flex:1;
                        -ms-flex:1;
                        flex:1;
                        width:100%;
                        max-width:100%;
                        font-size:14px;
                        color:#606266
                    }
                    .el-table__empty-block {
                        min-height:60px;
                        text-align:center;
                        width:100%;
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -webkit-box-pack:center;
                        -ms-flex-pack:center;
                        justify-content:center;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center
                    }
                    .el-table__empty-text {
                        line-height:60px;
                        width:50%;
                        color:#909399
                    }
                    .el-table__expand-column .cell {
                        padding:0;
                        text-align:center
                    }
                    .el-table__expand-icon {
                        position:relative;
                        cursor:pointer;
                        color:#666;
                        font-size:12px;
                        -webkit-transition:-webkit-transform .2s ease-in-out;
                        transition:-webkit-transform .2s ease-in-out;
                        transition:transform .2s ease-in-out;
                        transition:transform .2s ease-in-out,-webkit-transform .2s ease-in-out;
                        height:20px
                    }
                    .el-table__expand-icon--expanded {
                        -webkit-transform:rotate(90deg);
                        transform:rotate(90deg)
                    }
                    .el-table__expand-icon>.el-icon {
                        position:absolute;
                        left:50%;
                        top:50%;
                        margin-left:-5px;
                        margin-top:-5px
                    }
                    .el-table__expanded-cell[class*=cell] {
                        padding:20px 50px
                    }
                    .el-table__expanded-cell:hover {
                        background-color:transparent!important
                    }
                    .el-table__placeholder {
                        display:inline-block;
                        width:20px
                    }
                    .el-table__append-wrapper {
                        overflow:hidden
                    }
                    .el-table--fit {
                        border-right:0;
                        border-bottom:0
                    }
                    .el-table--fit .el-table__cell.gutter {
                        border-right-width:1px
                    }
                    .el-table--scrollable-x .el-table__body-wrapper {
                        overflow-x:auto
                    }
                    .el-table--scrollable-y .el-table__body-wrapper {
                        overflow-y:auto
                    }
                    .el-table thead {
                        color:#909399;
                        font-weight:500
                    }
                    .el-table thead.is-group th.el-table__cell {
                        background:#f5f7fa
                    }
                    .el-table .el-table__cell {
                        padding:12px 0;
                        min-width:0;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        text-overflow:ellipsis;
                        vertical-align:middle;
                        position:relative;
                        text-align:left
                    }
                    .el-table .el-table__cell.is-center {
                        text-align:center
                    }
                    .el-table .el-table__cell.is-right {
                        text-align:right
                    }
                    .el-table .el-table__cell.gutter {
                        width:15px;
                        border-right-width:0;
                        border-bottom-width:0;
                        padding:0
                    }
                    .el-table .el-table__cell.is-hidden>* {
                        visibility:hidden
                    }
                    .el-table--medium .el-table__cell {
                        padding:10px 0
                    }
                    .el-table--small {
                        font-size:12px
                    }
                    .el-table--small .el-table__cell {
                        padding:8px 0
                    }
                    .el-table--mini {
                        font-size:12px
                    }
                    .el-table--mini .el-table__cell {
                        padding:6px 0
                    }
                    .el-table tr {
                        background-color:#fff
                    }
                    .el-table tr input[type=checkbox] {
                        margin:0
                    }
                    .el-table td.el-table__cell,.el-table th.el-table__cell.is-leaf {
                        border-bottom:1px solid #ebeef5
                    }
                    .el-table th.el-table__cell.is-sortable {
                        cursor:pointer
                    }
                    .el-table th.el-table__cell {
                        overflow:hidden;
                        -webkit-user-select:none;
                        -moz-user-select:none;
                        -ms-user-select:none;
                        user-select:none;
                        background-color:#fff
                    }
                    .el-table th.el-table__cell>.cell {
                        display:inline-block;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        position:relative;
                        vertical-align:middle;
                        padding-left:10px;
                        padding-right:10px;
                        width:100%
                    }
                    .el-table th.el-table__cell>.cell.highlight {
                        color:#409eff
                    }
                    .el-table th.el-table__cell.required>div::before {
                        display:inline-block;
                        content:"";
                        width:8px;
                        height:8px;
                        border-radius:50%;
                        background:#ff4d51;
                        margin-right:5px;
                        vertical-align:middle
                    }
                    .el-table td.el-table__cell div {
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box
                    }
                    .el-date-table td,.el-table .cell,.el-table-filter {
                        -webkit-box-sizing:border-box
                    }
                    .el-table td.el-table__cell.gutter {
                        width:0
                    }
                    .el-table .cell {
                        box-sizing:border-box;
                        overflow:hidden;
                        text-overflow:ellipsis;
                        white-space:normal;
                        word-break:break-all;
                        line-height:23px;
                        padding-left:10px;
                        padding-right:10px
                    }
                    .el-table .cell.el-tooltip {
                        white-space:nowrap;
                        min-width:50px
                    }
                    .el-table--border,.el-table--group {
                        border:1px solid #ebeef5
                    }
                    .el-table--border::after,.el-table--group::after,.el-table::before {
                        content:'';
                        position:absolute;
                        background-color:#ebeef5;
                        z-index:1
                    }
                    .el-table--border::after,.el-table--group::after {
                        top:0;
                        right:0;
                        width:1px;
                        height:100%
                    }
                    .el-table::before {
                        left:0;
                        bottom:0;
                        width:100%;
                        height:1px
                    }
                    .el-table--border {
                        border-right:none;
                        border-bottom:none
                    }
                    .el-table--border.el-loading-parent--relative {
                        border-color:transparent
                    }
                    .el-table--border .el-table__cell,.el-table__body-wrapper .el-table--border.is-scrolling-left~.el-table__fixed {
                        border-right:1px solid #ebeef5
                    }
                    .el-table--border .el-table__cell:first-child .cell {
                        padding-left:10px
                    }
                    .el-table--border th.el-table__cell.gutter:last-of-type {
                        border-bottom:1px solid #ebeef5;
                        border-bottom-width:1px
                    }
                    .el-table--border th.el-table__cell,.el-table__fixed-right-patch {
                        border-bottom:1px solid #ebeef5
                    }
                    .el-table--hidden {
                        visibility:hidden
                    }
                    .el-table__fixed,.el-table__fixed-right {
                        position:absolute;
                        top:0;
                        left:0;
                        overflow-x:hidden;
                        overflow-y:hidden;
                        -webkit-box-shadow:0 0 10px rgba(0,0,0,.12);
                        box-shadow:0 0 10px rgba(0,0,0,.12)
                    }
                    .el-table__fixed-right::before,.el-table__fixed::before {
                        content:'';
                        position:absolute;
                        left:0;
                        bottom:0;
                        width:100%;
                        height:1px;
                        background-color:#ebeef5;
                        z-index:4
                    }
                    .el-table__fixed-right-patch {
                        position:absolute;
                        top:-1px;
                        right:0;
                        background-color:#fff
                    }
                    .el-table__fixed-right {
                        top:0;
                        left:auto;
                        right:0
                    }
                    .el-table__fixed-right .el-table__fixed-body-wrapper,.el-table__fixed-right .el-table__fixed-footer-wrapper,.el-table__fixed-right .el-table__fixed-header-wrapper {
                        left:auto;
                        right:0
                    }
                    .el-table__fixed-header-wrapper {
                        position:absolute;
                        left:0;
                        top:0;
                        z-index:3
                    }
                    .el-table__fixed-footer-wrapper {
                        position:absolute;
                        left:0;
                        bottom:0;
                        z-index:3
                    }
                    .el-table__fixed-footer-wrapper tbody td.el-table__cell {
                        border-top:1px solid #ebeef5;
                        background-color:#f5f7fa;
                        color:#606266
                    }
                    .el-table__fixed-body-wrapper {
                        position:absolute;
                        left:0;
                        top:37px;
                        overflow:hidden;
                        z-index:3
                    }
                    .el-table__body-wrapper,.el-table__footer-wrapper,.el-table__header-wrapper {
                        width:100%
                    }
                    .el-table__footer-wrapper {
                        margin-top:-1px
                    }
                    .el-table__footer-wrapper td.el-table__cell {
                        border-top:1px solid #ebeef5
                    }
                    .el-table__body,.el-table__footer,.el-table__header {
                        table-layout:fixed;
                        border-collapse:separate
                    }
                    .el-table__footer-wrapper,.el-table__header-wrapper {
                        overflow:hidden
                    }
                    .el-table__footer-wrapper tbody td.el-table__cell,.el-table__header-wrapper tbody td.el-table__cell {
                        background-color:#f5f7fa;
                        color:#606266
                    }
                    .el-table__body-wrapper {
                        overflow:hidden;
                        position:relative
                    }
                    .el-table__body-wrapper.is-scrolling-left~.el-table__fixed,.el-table__body-wrapper.is-scrolling-none~.el-table__fixed,.el-table__body-wrapper.is-scrolling-none~.el-table__fixed-right,.el-table__body-wrapper.is-scrolling-right~.el-table__fixed-right {
                        -webkit-box-shadow:none;
                        box-shadow:none
                    }
                    .el-table__body-wrapper .el-table--border.is-scrolling-right~.el-table__fixed-right {
                        border-left:1px solid #ebeef5
                    }
                    .el-table .caret-wrapper {
                        display:-webkit-inline-box;
                        display:-ms-inline-flexbox;
                        display:inline-flex;
                        -webkit-box-orient:vertical;
                        -webkit-box-direction:normal;
                        -ms-flex-direction:column;
                        flex-direction:column;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        height:34px;
                        width:24px;
                        vertical-align:middle;
                        cursor:pointer;
                        overflow:initial;
                        position:relative
                    }
                    .el-table .sort-caret {
                        width:0;
                        height:0;
                        border:5px solid transparent;
                        position:absolute;
                        left:7px
                    }
                    .el-table .sort-caret.ascending {
                        border-bottom-color:#c0c4cc;
                        top:5px
                    }
                    .el-table .sort-caret.descending {
                        border-top-color:#c0c4cc;
                        bottom:7px
                    }
                    .el-table .ascending .sort-caret.ascending {
                        border-bottom-color:#409eff
                    }
                    .el-table .descending .sort-caret.descending {
                        border-top-color:#409eff
                    }
                    .el-table .hidden-columns {
                        visibility:hidden;
                        position:absolute;
                        z-index:-1
                    }
                    .el-table--striped .el-table__body tr.el-table__row--striped td.el-table__cell {
                        background:#fafafa
                    }
                    .el-table--striped .el-table__body tr.el-table__row--striped.current-row td.el-table__cell {
                        background-color:#ecf5ff
                    }
                    .el-table__body tr.hover-row.current-row>td.el-table__cell,.el-table__body tr.hover-row.el-table__row--striped.current-row>td.el-table__cell,.el-table__body tr.hover-row.el-table__row--striped>td.el-table__cell,.el-table__body tr.hover-row>td.el-table__cell {
                        background-color:#f5f7fa
                    }
                    .el-table__body tr.current-row>td.el-table__cell {
                        background-color:#ecf5ff
                    }
                    .el-table__column-resize-proxy {
                        position:absolute;
                        left:200px;
                        top:0;
                        bottom:0;
                        width:0;
                        border-left:1px solid #ebeef5;
                        z-index:10
                    }
                    .el-table__column-filter-trigger {
                        display:inline-block;
                        line-height:34px;
                        cursor:pointer
                    }
                    .el-table__column-filter-trigger i {
                        color:#909399;
                        font-size:12px;
                        -webkit-transform:scale(.75);
                        transform:scale(.75)
                    }
                    .el-table--enable-row-transition .el-table__body td.el-table__cell {
                        -webkit-transition:background-color .25s ease;
                        transition:background-color .25s ease
                    }
                    .el-table--enable-row-hover .el-table__body tr:hover>td.el-table__cell {
                        background-color:#f5f7fa
                    }
                    .el-table--fluid-height .el-table__fixed,.el-table--fluid-height .el-table__fixed-right {
                        bottom:0;
                        overflow:hidden
                    }
                    .el-table [class*=el-table__row--level] .el-table__expand-icon {
                        display:inline-block;
                        width:20px;
                        line-height:20px;
                        height:20px;
                        text-align:center;
                        margin-right:3px
                    }
                    .el-table-column--selection .cell {
                        padding-left:14px;
                        padding-right:14px
                    }
                    .el-table-filter {
                        border:1px solid #ebeef5;
                        border-radius:2px;
                        background-color:#fff;
                        box-shadow:0 2px 12px 0 rgba(0,0,0,.1);
                        box-sizing:border-box;
                        margin:2px 0
                    }
                    .el-table-filter__list {
                        padding:5px 0;
                        margin:0;
                        list-style:none;
                        min-width:100px
                    }
                    .el-table-filter__list-item {
                        line-height:36px;
                        padding:0 10px;
                        cursor:pointer;
                        font-size:14px
                    }
                    .el-table-filter__list-item:hover {
                        background-color:#ecf5ff;
                        color:#66b1ff
                    }
                    .el-table-filter__list-item.is-active {
                        background-color:#409eff;
                        color:#fff
                    }
                    .el-table-filter__content {
                        min-width:100px
                    }
                    .el-table-filter__bottom {
                        border-top:1px solid #ebeef5;
                        padding:8px
                    }
                    .el-table-filter__bottom button {
                        background:0 0;
                        border:none;
                        color:#606266;
                        cursor:pointer;
                        font-size:13px;
                        padding:0 3px
                    }
                    .el-date-table td.in-range div,.el-date-table td.in-range div:hover,.el-date-table.is-week-mode .el-date-table__row.current div,.el-date-table.is-week-mode .el-date-table__row:hover div {
                        background-color:#f2f6fc
                    }
                    .el-table-filter__bottom button:hover {
                        color:#409eff
                    }
                    .el-table-filter__bottom button:focus {
                        outline:0
                    }
                    .el-table-filter__bottom button.is-disabled {
                        color:#c0c4cc;
                        cursor:not-allowed
                    }
                    .el-table-filter__wrap {
                        max-height:280px
                    }
                    .el-table-filter__checkbox-group {
                        padding:10px
                    }
                    .el-table-filter__checkbox-group label.el-checkbox {
                        display:block;
                        margin-right:5px;
                        margin-bottom:8px;
                        margin-left:5px
                    }
                    .el-table-filter__checkbox-group .el-checkbox:last-child {
                        margin-bottom:0
                    }
                    .el-date-table {
                        font-size:12px;
                        -webkit-user-select:none;
                        -moz-user-select:none;
                        -ms-user-select:none;
                        user-select:none
                    }
                    .el-date-table.is-week-mode .el-date-table__row:hover td.available:hover {
                        color:#606266
                    }
                    .el-date-table.is-week-mode .el-date-table__row:hover td:first-child div {
                        margin-left:5px;
                        border-top-left-radius:15px;
                        border-bottom-left-radius:15px
                    }
                    .el-date-table.is-week-mode .el-date-table__row:hover td:last-child div {
                        margin-right:5px;
                        border-top-right-radius:15px;
                        border-bottom-right-radius:15px
                    }
                    .el-date-table td {
                        width:32px;
                        height:30px;
                        padding:4px 0;
                        box-sizing:border-box;
                        text-align:center;
                        cursor:pointer;
                        position:relative
                    }
                    .el-date-table td div {
                        height:30px;
                        padding:3px 0;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box
                    }
                    .el-date-table td span {
                        width:24px;
                        height:24px;
                        display:block;
                        margin:0 auto;
                        line-height:24px;
                        position:absolute;
                        left:50%;
                        -webkit-transform:translateX(-50%);
                        transform:translateX(-50%);
                        border-radius:50%
                    }
                    .el-date-table td.next-month,.el-date-table td.prev-month {
                        color:#c0c4cc
                    }
                    .el-date-table td.today {
                        position:relative
                    }
                    .el-date-table td.today span {
                        color:#409eff;
                        font-weight:700
                    }
                    .el-date-table td.today.end-date span,.el-date-table td.today.start-date span {
                        color:#fff
                    }
                    .el-date-table td.available:hover {
                        color:#409eff
                    }
                    .el-date-table td.current:not(.disabled) span {
                        color:#fff;
                        background-color:#409eff
                    }
                    .el-date-table td.end-date div,.el-date-table td.start-date div {
                        color:#fff
                    }
                    .el-date-table td.end-date span,.el-date-table td.start-date span {
                        background-color:#409eff
                    }
                    .el-date-table td.start-date div {
                        margin-left:5px;
                        border-top-left-radius:15px;
                        border-bottom-left-radius:15px
                    }
                    .el-date-table td.end-date div {
                        margin-right:5px;
                        border-top-right-radius:15px;
                        border-bottom-right-radius:15px
                    }
                    .el-date-table td.disabled div {
                        background-color:#f5f7fa;
                        opacity:1;
                        cursor:not-allowed;
                        color:#c0c4cc
                    }
                    .el-date-table td.selected div {
                        margin-left:5px;
                        margin-right:5px;
                        background-color:#f2f6fc;
                        border-radius:15px
                    }
                    .el-date-table td.selected div:hover {
                        background-color:#f2f6fc
                    }
                    .el-date-table td.selected span {
                        background-color:#409eff;
                        color:#fff;
                        border-radius:15px
                    }
                    .el-date-table td.week {
                        font-size:80%;
                        color:#606266
                    }
                    .el-month-table,.el-year-table {
                        font-size:12px;
                        border-collapse:collapse
                    }
                    .el-date-table th {
                        padding:5px;
                        color:#606266;
                        font-weight:400;
                        border-bottom:solid 1px #ebeef5
                    }
                    .el-month-table {
                        margin:-1px
                    }
                    .el-month-table td {
                        text-align:center;
                        padding:8px 0;
                        cursor:pointer
                    }
                    .el-month-table td div {
                        height:48px;
                        padding:6px 0;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box
                    }
                    .el-month-table td.today .cell {
                        color:#409eff;
                        font-weight:700
                    }
                    .el-month-table td.today.end-date .cell,.el-month-table td.today.start-date .cell {
                        color:#fff
                    }
                    .el-month-table td.disabled .cell {
                        background-color:#f5f7fa;
                        cursor:not-allowed;
                        color:#c0c4cc
                    }
                    .el-month-table td.disabled .cell:hover {
                        color:#c0c4cc
                    }
                    .el-month-table td .cell {
                        width:60px;
                        height:36px;
                        display:block;
                        line-height:36px;
                        color:#606266;
                        margin:0 auto;
                        border-radius:18px
                    }
                    .el-month-table td .cell:hover {
                        color:#409eff
                    }
                    .el-month-table td.in-range div,.el-month-table td.in-range div:hover {
                        background-color:#f2f6fc
                    }
                    .el-month-table td.end-date div,.el-month-table td.start-date div {
                        color:#fff
                    }
                    .el-month-table td.end-date .cell,.el-month-table td.start-date .cell {
                        color:#fff;
                        background-color:#409eff
                    }
                    .el-month-table td.start-date div {
                        border-top-left-radius:24px;
                        border-bottom-left-radius:24px
                    }
                    .el-month-table td.end-date div {
                        border-top-right-radius:24px;
                        border-bottom-right-radius:24px
                    }
                    .el-month-table td.current:not(.disabled) .cell {
                        color:#409eff
                    }
                    .el-year-table {
                        margin:-1px
                    }
                    .el-year-table .el-icon {
                        color:#303133
                    }
                    .el-year-table td {
                        text-align:center;
                        padding:20px 3px;
                        cursor:pointer
                    }
                    .el-year-table td.today .cell {
                        color:#409eff;
                        font-weight:700
                    }
                    .el-year-table td.disabled .cell {
                        background-color:#f5f7fa;
                        cursor:not-allowed;
                        color:#c0c4cc
                    }
                    .el-year-table td.disabled .cell:hover {
                        color:#c0c4cc
                    }
                    .el-year-table td .cell {
                        width:48px;
                        height:32px;
                        display:block;
                        line-height:32px;
                        color:#606266;
                        margin:0 auto
                    }
                    .el-year-table td .cell:hover,.el-year-table td.current:not(.disabled) .cell {
                        color:#409eff
                    }
                    .el-date-range-picker {
                        width:646px
                    }
                    .el-date-range-picker.has-sidebar {
                        width:756px
                    }
                    .el-date-range-picker table {
                        table-layout:fixed;
                        width:100%
                    }
                    .el-date-range-picker .el-picker-panel__body {
                        min-width:513px
                    }
                    .el-date-range-picker .el-picker-panel__content {
                        margin:0
                    }
                    .el-date-range-picker__header {
                        position:relative;
                        text-align:center;
                        height:28px
                    }
                    .el-date-range-picker__header [class*=arrow-left] {
                        float:left
                    }
                    .el-date-range-picker__header [class*=arrow-right] {
                        float:right
                    }
                    .el-date-range-picker__header div {
                        font-size:16px;
                        font-weight:500;
                        margin-right:50px
                    }
                    .el-date-range-picker__content {
                        float:left;
                        width:50%;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        margin:0;
                        padding:16px
                    }
                    .el-date-range-picker__content.is-left {
                        border-right:1px solid #e4e4e4
                    }
                    .el-date-range-picker__content .el-date-range-picker__header div {
                        margin-left:50px;
                        margin-right:50px
                    }
                    .el-date-range-picker__editors-wrap {
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        display:table-cell
                    }
                    .el-date-range-picker__editors-wrap.is-right {
                        text-align:right
                    }
                    .el-date-range-picker__time-header {
                        position:relative;
                        border-bottom:1px solid #e4e4e4;
                        font-size:12px;
                        padding:8px 5px 5px;
                        display:table;
                        width:100%;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box
                    }
                    .el-date-range-picker__time-header>.el-icon-arrow-right {
                        font-size:20px;
                        vertical-align:middle;
                        display:table-cell;
                        color:#303133
                    }
                    .el-date-range-picker__time-picker-wrap {
                        position:relative;
                        display:table-cell;
                        padding:0 5px
                    }
                    .el-date-range-picker__time-picker-wrap .el-picker-panel {
                        position:absolute;
                        top:13px;
                        right:0;
                        z-index:1;
                        background:#fff
                    }
                    .el-date-picker {
                        width:322px
                    }
                    .el-date-picker.has-sidebar.has-time {
                        width:434px
                    }
                    .el-date-picker.has-sidebar {
                        width:438px
                    }
                    .el-date-picker.has-time .el-picker-panel__body-wrapper {
                        position:relative
                    }
                    .el-date-picker .el-picker-panel__content {
                        width:292px
                    }
                    .el-date-picker table {
                        table-layout:fixed;
                        width:100%
                    }
                    .el-date-picker__editor-wrap {
                        position:relative;
                        display:table-cell;
                        padding:0 5px
                    }
                    .el-date-picker__time-header {
                        position:relative;
                        border-bottom:1px solid #e4e4e4;
                        font-size:12px;
                        padding:8px 5px 5px;
                        display:table;
                        width:100%;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box
                    }
                    .el-date-picker__header {
                        margin:12px;
                        text-align:center
                    }
                    .el-date-picker__header--bordered {
                        margin-bottom:0;
                        padding-bottom:12px;
                        border-bottom:solid 1px #ebeef5
                    }
                    .el-date-picker__header--bordered+.el-picker-panel__content {
                        margin-top:0
                    }
                    .el-date-picker__header-label {
                        font-size:16px;
                        font-weight:500;
                        padding:0 5px;
                        line-height:22px;
                        text-align:center;
                        cursor:pointer;
                        color:#606266
                    }
                    .el-date-picker__header-label.active,.el-date-picker__header-label:hover {
                        color:#409eff
                    }
                    .el-date-picker__prev-btn {
                        float:left
                    }
                    .el-date-picker__next-btn {
                        float:right
                    }
                    .el-date-picker__time-wrap {
                        padding:10px;
                        text-align:center
                    }
                    .el-date-picker__time-label {
                        float:left;
                        cursor:pointer;
                        line-height:30px;
                        margin-left:10px
                    }
                    .time-select {
                        margin:5px 0;
                        min-width:0
                    }
                    .time-select .el-picker-panel__content {
                        max-height:200px;
                        margin:0
                    }
                    .time-select-item {
                        padding:8px 10px;
                        font-size:14px;
                        line-height:20px
                    }
                    .time-select-item.selected:not(.disabled) {
                        color:#409eff;
                        font-weight:700
                    }
                    .time-select-item.disabled {
                        color:#e4e7ed;
                        cursor:not-allowed
                    }
                    .time-select-item:hover {
                        background-color:#f5f7fa;
                        font-weight:700;
                        cursor:pointer
                    }
                    .el-date-editor {
                        position:relative;
                        display:inline-block;
                        text-align:left
                    }
                    .el-date-editor.el-input,.el-date-editor.el-input__inner {
                        width:220px
                    }
                    .el-date-editor--monthrange.el-input,.el-date-editor--monthrange.el-input__inner {
                        width:300px
                    }
                    .el-date-editor--daterange.el-input,.el-date-editor--daterange.el-input__inner,.el-date-editor--timerange.el-input,.el-date-editor--timerange.el-input__inner {
                        width:350px
                    }
                    .el-date-editor--datetimerange.el-input,.el-date-editor--datetimerange.el-input__inner {
                        width:400px
                    }
                    .el-date-editor--dates .el-input__inner {
                        text-overflow:ellipsis;
                        white-space:nowrap
                    }
                    .el-date-editor .el-icon-circle-close {
                        cursor:pointer
                    }
                    .el-date-editor .el-range__icon {
                        font-size:14px;
                        margin-left:-5px;
                        color:#c0c4cc;
                        float:left;
                        line-height:32px
                    }
                    .el-date-editor .el-range-input {
                        -webkit-appearance:none;
                        -moz-appearance:none;
                        appearance:none;
                        border:none;
                        outline:0;
                        display:inline-block;
                        height:100%;
                        margin:0;
                        padding:0;
                        width:39%;
                        text-align:center;
                        font-size:14px;
                        color:#606266
                    }
                    .el-date-editor .el-range-input::-webkit-input-placeholder {
                        color:#c0c4cc
                    }
                    .el-date-editor .el-range-input:-ms-input-placeholder {
                        color:#c0c4cc
                    }
                    .el-date-editor .el-range-input::-ms-input-placeholder {
                        color:#c0c4cc
                    }
                    .el-date-editor .el-range-input::placeholder {
                        color:#c0c4cc
                    }
                    .el-date-editor .el-range-separator {
                        display:inline-block;
                        height:100%;
                        padding:0 5px;
                        margin:0;
                        text-align:center;
                        line-height:32px;
                        font-size:14px;
                        width:5%;
                        color:#303133
                    }
                    .el-date-editor .el-range__close-icon {
                        font-size:14px;
                        color:#c0c4cc;
                        width:25px;
                        display:inline-block;
                        float:right;
                        line-height:32px
                    }
                    .el-range-editor.el-input__inner {
                        display:-webkit-inline-box;
                        display:-ms-inline-flexbox;
                        display:inline-flex;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        padding:3px 10px
                    }
                    .el-range-editor .el-range-input {
                        line-height:1
                    }
                    .el-range-editor--medium.el-input__inner {
                        height:36px
                    }
                    .el-range-editor--medium .el-range-separator {
                        line-height:28px;
                        font-size:14px
                    }
                    .el-range-editor--medium .el-range-input {
                        font-size:14px
                    }
                    .el-range-editor--medium .el-range__close-icon,.el-range-editor--medium .el-range__icon {
                        line-height:28px
                    }
                    .el-range-editor--small.el-input__inner {
                        height:32px
                    }
                    .el-range-editor--small .el-range-separator {
                        line-height:24px;
                        font-size:13px
                    }
                    .el-range-editor--small .el-range-input {
                        font-size:13px
                    }
                    .el-range-editor--small .el-range__close-icon,.el-range-editor--small .el-range__icon {
                        line-height:24px
                    }
                    .el-range-editor--mini.el-input__inner {
                        height:28px
                    }
                    .el-range-editor--mini .el-range-separator {
                        line-height:20px;
                        font-size:12px
                    }
                    .el-range-editor--mini .el-range-input {
                        font-size:12px
                    }
                    .el-range-editor--mini .el-range__close-icon,.el-range-editor--mini .el-range__icon {
                        line-height:20px
                    }
                    .el-range-editor.is-disabled {
                        background-color:#f5f7fa;
                        border-color:#e4e7ed;
                        color:#c0c4cc;
                        cursor:not-allowed
                    }
                    .el-range-editor.is-disabled:focus,.el-range-editor.is-disabled:hover {
                        border-color:#e4e7ed
                    }
                    .el-range-editor.is-disabled input {
                        background-color:#f5f7fa;
                        color:#c0c4cc;
                        cursor:not-allowed
                    }
                    .el-range-editor.is-disabled input::-webkit-input-placeholder {
                        color:#c0c4cc
                    }
                    .el-range-editor.is-disabled input:-ms-input-placeholder {
                        color:#c0c4cc
                    }
                    .el-range-editor.is-disabled input::-ms-input-placeholder {
                        color:#c0c4cc
                    }
                    .el-range-editor.is-disabled input::placeholder {
                        color:#c0c4cc
                    }
                    .el-range-editor.is-disabled .el-range-separator {
                        color:#c0c4cc
                    }
                    .el-picker-panel {
                        color:#606266;
                        border:1px solid #e4e7ed;
                        box-shadow:0 2px 12px 0 rgba(0,0,0,.1);
                        background:#fff;
                        border-radius:4px;
                        line-height:30px;
                        margin:5px 0
                    }
                    .el-picker-panel__body-wrapper::after,.el-picker-panel__body::after {
                        content:"";
                        display:table;
                        clear:both
                    }
                    .el-picker-panel__content {
                        position:relative;
                        margin:15px
                    }
                    .el-picker-panel__footer {
                        border-top:1px solid #e4e4e4;
                        padding:4px;
                        text-align:right;
                        background-color:#fff;
                        position:relative;
                        font-size:0
                    }
                    .el-picker-panel__shortcut {
                        display:block;
                        width:100%;
                        border:0;
                        background-color:transparent;
                        line-height:28px;
                        font-size:14px;
                        color:#606266;
                        padding-left:12px;
                        text-align:left;
                        outline:0;
                        cursor:pointer
                    }
                    .el-picker-panel__shortcut:hover {
                        color:#409eff
                    }
                    .el-picker-panel__shortcut.active {
                        background-color:#e6f1fe;
                        color:#409eff
                    }
                    .el-picker-panel__btn {
                        border:1px solid #dcdcdc;
                        color:#333;
                        line-height:24px;
                        border-radius:2px;
                        padding:0 20px;
                        cursor:pointer;
                        background-color:transparent;
                        outline:0;
                        font-size:12px
                    }
                    .el-picker-panel__btn[disabled] {
                        color:#ccc;
                        cursor:not-allowed
                    }
                    .el-picker-panel__icon-btn {
                        font-size:12px;
                        color:#303133;
                        border:0;
                        background:0 0;
                        cursor:pointer;
                        outline:0;
                        margin-top:8px
                    }
                    .el-picker-panel__icon-btn:hover {
                        color:#409eff
                    }
                    .el-picker-panel__icon-btn.is-disabled {
                        color:#bbb
                    }
                    .el-picker-panel__icon-btn.is-disabled:hover {
                        cursor:not-allowed
                    }
                    .el-picker-panel__link-btn {
                        vertical-align:middle
                    }
                    .el-picker-panel [slot=sidebar],.el-picker-panel__sidebar {
                        position:absolute;
                        top:0;
                        bottom:0;
                        width:110px;
                        border-right:1px solid #e4e4e4;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        padding-top:6px;
                        background-color:#fff;
                        overflow:auto
                    }
                    .el-picker-panel [slot=sidebar]+.el-picker-panel__body,.el-picker-panel__sidebar+.el-picker-panel__body {
                        margin-left:110px
                    }
                    .el-time-spinner.has-seconds .el-time-spinner__wrapper {
                        width:33.3%
                    }
                    .el-time-spinner__wrapper {
                        max-height:190px;
                        overflow:auto;
                        display:inline-block;
                        width:50%;
                        vertical-align:top;
                        position:relative
                    }
                    .el-time-spinner__wrapper .el-scrollbar__wrap:not(.el-scrollbar__wrap--hidden-default) {
                        padding-bottom:15px
                    }
                    .el-time-spinner__input.el-input .el-input__inner,.el-time-spinner__list {
                        padding:0;
                        text-align:center
                    }
                    .el-time-spinner__wrapper.is-arrow {
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        text-align:center;
                        overflow:hidden
                    }
                    .el-time-spinner__wrapper.is-arrow .el-time-spinner__list {
                        -webkit-transform:translateY(-32px);
                        transform:translateY(-32px)
                    }
                    .el-time-spinner__wrapper.is-arrow .el-time-spinner__item:hover:not(.disabled):not(.active) {
                        background:#fff;
                        cursor:default
                    }
                    .el-time-spinner__arrow {
                        font-size:12px;
                        color:#909399;
                        position:absolute;
                        left:0;
                        width:100%;
                        z-index:1;
                        text-align:center;
                        height:30px;
                        line-height:30px;
                        cursor:pointer
                    }
                    .el-time-spinner__arrow:hover {
                        color:#409eff
                    }
                    .el-time-spinner__arrow.el-icon-arrow-up {
                        top:10px
                    }
                    .el-time-spinner__arrow.el-icon-arrow-down {
                        bottom:10px
                    }
                    .el-time-spinner__input.el-input {
                        width:70%
                    }
                    .el-time-spinner__list {
                        margin:0;
                        list-style:none
                    }
                    .el-time-spinner__list::after,.el-time-spinner__list::before {
                        content:'';
                        display:block;
                        width:100%;
                        height:80px
                    }
                    .el-time-spinner__item {
                        height:32px;
                        line-height:32px;
                        font-size:12px;
                        color:#606266
                    }
                    .el-time-spinner__item:hover:not(.disabled):not(.active) {
                        background:#f5f7fa;
                        cursor:pointer
                    }
                    .el-time-spinner__item.active:not(.disabled) {
                        color:#303133;
                        font-weight:700
                    }
                    .el-time-spinner__item.disabled {
                        color:#c0c4cc;
                        cursor:not-allowed
                    }
                    .el-time-panel {
                        margin:5px 0;
                        border:1px solid #e4e7ed;
                        background-color:#fff;
                        box-shadow:0 2px 12px 0 rgba(0,0,0,.1);
                        border-radius:2px;
                        position:absolute;
                        width:180px;
                        left:0;
                        z-index:1000;
                        -webkit-user-select:none;
                        -moz-user-select:none;
                        -ms-user-select:none;
                        user-select:none;
                        -webkit-box-sizing:content-box;
                        box-sizing:content-box
                    }
                    .el-time-panel__content {
                        font-size:0;
                        position:relative;
                        overflow:hidden
                    }
                    .el-time-panel__content::after,.el-time-panel__content::before {
                        content:"";
                        top:50%;
                        position:absolute;
                        margin-top:-15px;
                        height:32px;
                        z-index:-1;
                        left:0;
                        right:0;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        padding-top:6px;
                        text-align:left;
                        border-top:1px solid #e4e7ed;
                        border-bottom:1px solid #e4e7ed
                    }
                    .el-time-panel__content::after {
                        left:50%;
                        margin-left:12%;
                        margin-right:12%
                    }
                    .el-time-panel__content::before {
                        padding-left:50%;
                        margin-right:12%;
                        margin-left:12%
                    }
                    .el-time-panel__content.has-seconds::after {
                        left:calc(100% / 3 * 2)
                    }
                    .el-time-panel__content.has-seconds::before {
                        padding-left:calc(100% / 3)
                    }
                    .el-time-panel__footer {
                        border-top:1px solid #e4e4e4;
                        padding:4px;
                        height:36px;
                        line-height:25px;
                        text-align:right;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box
                    }
                    .el-time-panel__btn {
                        border:none;
                        line-height:28px;
                        padding:0 5px;
                        margin:0 5px;
                        cursor:pointer;
                        background-color:transparent;
                        outline:0;
                        font-size:12px;
                        color:#303133
                    }
                    .el-time-panel__btn.confirm {
                        font-weight:800;
                        color:#409eff
                    }
                    .el-time-range-picker {
                        width:354px;
                        overflow:visible
                    }
                    .el-time-range-picker__content {
                        position:relative;
                        text-align:center;
                        padding:10px
                    }
                    .el-time-range-picker__cell {
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        margin:0;
                        padding:4px 7px 7px;
                        width:50%;
                        display:inline-block
                    }
                    .el-time-range-picker__header {
                        margin-bottom:5px;
                        text-align:center;
                        font-size:14px
                    }
                    .el-time-range-picker__body {
                        border-radius:2px;
                        border:1px solid #e4e7ed
                    }
                    .el-popover {
                        position:absolute;
                        background:#fff;
                        min-width:150px;
                        border-radius:4px;
                        border:1px solid #ebeef5;
                        padding:12px;
                        z-index:2000;
                        color:#606266;
                        line-height:1.4;
                        text-align:justify;
                        font-size:14px;
                        box-shadow:0 2px 12px 0 rgba(0,0,0,.1);
                        word-break:break-all
                    }
                    .el-card.is-always-shadow,.el-card.is-hover-shadow:focus,.el-card.is-hover-shadow:hover,.el-cascader__dropdown,.el-color-picker__panel,.el-message-box,.el-notification {
                        -webkit-box-shadow:0 2px 12px 0 rgba(0,0,0,.1)
                    }
                    .el-popover--plain {
                        padding:18px 20px
                    }
                    .el-popover__title {
                        color:#303133;
                        font-size:16px;
                        line-height:1;
                        margin-bottom:12px
                    }
                    .el-popover:focus,.el-popover:focus:active,.el-popover__reference:focus:hover,.el-popover__reference:focus:not(.focusing) {
                        outline-width:0
                    }
                    .v-modal-enter {
                        -webkit-animation:v-modal-in .2s ease;
                        animation:v-modal-in .2s ease
                    }
                    .v-modal-leave {
                        -webkit-animation:v-modal-out .2s ease forwards;
                        animation:v-modal-out .2s ease forwards
                    }
                    @keyframes v-modal-in {
                        0% {
                        opacity:0
                    }
                    }@keyframes v-modal-out {
                        100% {
                        opacity:0
                    }
                    }.v-modal {
                        position:fixed;
                        left:0;
                        top:0;
                        width:100%;
                        height:100%;
                        opacity:.5;
                        background:#000
                    }
                    .el-popup-parent--hidden {
                        overflow:hidden
                    }
                    .el-message-box {
                        display:inline-block;
                        width:420px;
                        padding-bottom:10px;
                        vertical-align:middle;
                        background-color:#fff;
                        border-radius:4px;
                        border:1px solid #ebeef5;
                        font-size:18px;
                        box-shadow:0 2px 12px 0 rgba(0,0,0,.1);
                        text-align:left;
                        overflow:hidden;
                        -webkit-backface-visibility:hidden;
                        backface-visibility:hidden
                    }
                    .el-message-box__wrapper {
                        position:fixed;
                        top:0;
                        bottom:0;
                        left:0;
                        right:0;
                        text-align:center
                    }
                    .el-message-box__wrapper::after {
                        content:"";
                        display:inline-block;
                        height:100%;
                        width:0;
                        vertical-align:middle
                    }
                    .el-message-box__header {
                        position:relative;
                        padding:15px 15px 10px
                    }
                    .el-message-box__title {
                        padding-left:0;
                        margin-bottom:0;
                        font-size:18px;
                        line-height:1;
                        color:#303133
                    }
                    .el-message-box__headerbtn {
                        position:absolute;
                        top:15px;
                        right:15px;
                        padding:0;
                        border:none;
                        outline:0;
                        background:0 0;
                        font-size:16px;
                        cursor:pointer
                    }
                    .el-form-item.is-error .el-input__inner,.el-form-item.is-error .el-input__inner:focus,.el-form-item.is-error .el-textarea__inner,.el-form-item.is-error .el-textarea__inner:focus,.el-message-box__input input.invalid,.el-message-box__input input.invalid:focus {
                        border-color:#f56c6c
                    }
                    .el-message-box__headerbtn .el-message-box__close {
                        color:#909399
                    }
                    .el-message-box__headerbtn:focus .el-message-box__close,.el-message-box__headerbtn:hover .el-message-box__close {
                        color:#409eff
                    }
                    .el-message-box__content {
                        padding:10px 15px;
                        color:#606266;
                        font-size:14px
                    }
                    .el-message-box__container {
                        position:relative
                    }
                    .el-message-box__input {
                        padding-top:15px
                    }
                    .el-message-box__status {
                        position:absolute;
                        top:50%;
                        -webkit-transform:translateY(-50%);
                        transform:translateY(-50%);
                        font-size:24px!important
                    }
                    .el-message-box__status::before {
                        padding-left:1px
                    }
                    .el-message-box__status+.el-message-box__message {
                        padding-left:36px;
                        padding-right:12px
                    }
                    .el-message-box__status.el-icon-success {
                        color:#67c23a
                    }
                    .el-message-box__status.el-icon-info {
                        color:#909399
                    }
                    .el-message-box__status.el-icon-warning {
                        color:#e6a23c
                    }
                    .el-message-box__status.el-icon-error {
                        color:#f56c6c
                    }
                    .el-message-box__message {
                        margin:0
                    }
                    .el-message-box__message p {
                        margin:0;
                        line-height:24px
                    }
                    .el-message-box__errormsg {
                        color:#f56c6c;
                        font-size:12px;
                        min-height:18px;
                        margin-top:2px
                    }
                    .el-message-box__btns {
                        padding:5px 15px 0;
                        text-align:right
                    }
                    .el-message-box__btns button:nth-child(2) {
                        margin-left:10px
                    }
                    .el-message-box__btns-reverse {
                        -webkit-box-orient:horizontal;
                        -webkit-box-direction:reverse;
                        -ms-flex-direction:row-reverse;
                        flex-direction:row-reverse
                    }
                    .el-message-box--center {
                        padding-bottom:30px
                    }
                    .el-message-box--center .el-message-box__header {
                        padding-top:30px
                    }
                    .el-message-box--center .el-message-box__title {
                        position:relative;
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        -webkit-box-pack:center;
                        -ms-flex-pack:center;
                        justify-content:center
                    }
                    .el-message-box--center .el-message-box__status {
                        position:relative;
                        top:auto;
                        padding-right:5px;
                        text-align:center;
                        -webkit-transform:translateY(-1px);
                        transform:translateY(-1px)
                    }
                    .el-message-box--center .el-message-box__message {
                        margin-left:0
                    }
                    .el-message-box--center .el-message-box__btns,.el-message-box--center .el-message-box__content {
                        text-align:center
                    }
                    .el-message-box--center .el-message-box__content {
                        padding-left:27px;
                        padding-right:27px
                    }
                    .msgbox-fade-enter-active {
                        -webkit-animation:msgbox-fade-in .3s;
                        animation:msgbox-fade-in .3s
                    }
                    .msgbox-fade-leave-active {
                        -webkit-animation:msgbox-fade-out .3s;
                        animation:msgbox-fade-out .3s
                    }
                    @-webkit-keyframes msgbox-fade-in {
                        0% {
                        -webkit-transform:translate3d(0,-20px,0);
                        transform:translate3d(0,-20px,0);
                        opacity:0
                    }
                    100% {
                        -webkit-transform:translate3d(0,0,0);
                        transform:translate3d(0,0,0);
                        opacity:1
                    }
                    }@keyframes msgbox-fade-in {
                        0% {
                        -webkit-transform:translate3d(0,-20px,0);
                        transform:translate3d(0,-20px,0);
                        opacity:0
                    }
                    100% {
                        -webkit-transform:translate3d(0,0,0);
                        transform:translate3d(0,0,0);
                        opacity:1
                    }
                    }@-webkit-keyframes msgbox-fade-out {
                        0% {
                        -webkit-transform:translate3d(0,0,0);
                        transform:translate3d(0,0,0);
                        opacity:1
                    }
                    100% {
                        -webkit-transform:translate3d(0,-20px,0);
                        transform:translate3d(0,-20px,0);
                        opacity:0
                    }
                    }@keyframes msgbox-fade-out {
                        0% {
                        -webkit-transform:translate3d(0,0,0);
                        transform:translate3d(0,0,0);
                        opacity:1
                    }
                    100% {
                        -webkit-transform:translate3d(0,-20px,0);
                        transform:translate3d(0,-20px,0);
                        opacity:0
                    }
                    }.el-breadcrumb {
                        font-size:14px;
                        line-height:1
                    }
                    .el-breadcrumb::after,.el-breadcrumb::before {
                        display:table;
                        content:""
                    }
                    .el-breadcrumb::after {
                        clear:both
                    }
                    .el-breadcrumb__separator {
                        margin:0 9px;
                        font-weight:700;
                        color:#c0c4cc
                    }
                    .el-breadcrumb__separator[class*=icon] {
                        margin:0 6px;
                        font-weight:400
                    }
                    .el-breadcrumb__item {
                        float:left
                    }
                    .el-breadcrumb__inner {
                        color:#606266
                    }
                    .el-breadcrumb__inner a,.el-breadcrumb__inner.is-link {
                        font-weight:700;
                        text-decoration:none;
                        -webkit-transition:color .2s cubic-bezier(.645,.045,.355,1);
                        transition:color .2s cubic-bezier(.645,.045,.355,1);
                        color:#303133
                    }
                    .el-breadcrumb__inner a:hover,.el-breadcrumb__inner.is-link:hover {
                        color:#409eff;
                        cursor:pointer
                    }
                    .el-breadcrumb__item:last-child .el-breadcrumb__inner,.el-breadcrumb__item:last-child .el-breadcrumb__inner a,.el-breadcrumb__item:last-child .el-breadcrumb__inner a:hover,.el-breadcrumb__item:last-child .el-breadcrumb__inner:hover {
                        font-weight:400;
                        color:#606266;
                        cursor:text
                    }
                    .el-form--label-left .el-form-item__label {
                        text-align:left
                    }
                    .el-form--label-top .el-form-item__label {
                        float:none;
                        display:inline-block;
                        text-align:left;
                        padding:0 0 10px
                    }
                    .el-form--inline .el-form-item {
                        display:inline-block;
                        margin-right:10px;
                        vertical-align:top
                    }
                    .el-form--inline .el-form-item__label {
                        float:none;
                        display:inline-block
                    }
                    .el-form--inline .el-form-item__content {
                        display:inline-block;
                        vertical-align:top
                    }
                    .el-form--inline.el-form--label-top .el-form-item__content {
                        display:block
                    }
                    .el-form-item {
                        margin-bottom:22px
                    }
                    .el-form-item::after,.el-form-item::before {
                        display:table;
                        content:""
                    }
                    .el-form-item::after {
                        clear:both
                    }
                    .el-form-item .el-form-item {
                        margin-bottom:0
                    }
                    .el-form-item--mini.el-form-item,.el-form-item--small.el-form-item {
                        margin-bottom:18px
                    }
                    .el-form-item .el-input__validateIcon {
                        display:none
                    }
                    .el-form-item--medium .el-form-item__content,.el-form-item--medium .el-form-item__label {
                        line-height:36px
                    }
                    .el-form-item--small .el-form-item__content,.el-form-item--small .el-form-item__label {
                        line-height:32px
                    }
                    .el-form-item--small .el-form-item__error {
                        padding-top:2px
                    }
                    .el-form-item--mini .el-form-item__content,.el-form-item--mini .el-form-item__label {
                        line-height:28px
                    }
                    .el-form-item--mini .el-form-item__error {
                        padding-top:1px
                    }
                    .el-form-item__label-wrap {
                        float:left
                    }
                    .el-form-item__label-wrap .el-form-item__label {
                        display:inline-block;
                        float:none
                    }
                    .el-form-item__label {
                        text-align:right;
                        vertical-align:middle;
                        float:left;
                        font-size:14px;
                        color:#606266;
                        line-height:40px;
                        padding:0 12px 0 0;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box
                    }
                    .el-form-item__content {
                        line-height:40px;
                        position:relative;
                        font-size:14px
                    }
                    .el-form-item__content::after,.el-form-item__content::before {
                        display:table;
                        content:""
                    }
                    .el-form-item__content::after {
                        clear:both
                    }
                    .el-form-item__content .el-input-group {
                        vertical-align:top
                    }
                    .el-form-item__error {
                        color:#f56c6c;
                        font-size:12px;
                        line-height:1;
                        padding-top:4px;
                        position:absolute;
                        top:100%;
                        left:0
                    }
                    .el-form-item__error--inline {
                        position:relative;
                        top:auto;
                        left:auto;
                        display:inline-block;
                        margin-left:10px
                    }
                    .el-form-item.is-required:not(.is-no-asterisk) .el-form-item__label-wrap>.el-form-item__label:before,.el-form-item.is-required:not(.is-no-asterisk)>.el-form-item__label:before {
                        content:'*';
                        color:#f56c6c;
                        margin-right:4px
                    }
                    .el-form-item.is-error .el-input-group__append .el-input__inner,.el-form-item.is-error .el-input-group__prepend .el-input__inner {
                        border-color:transparent
                    }
                    .el-form-item.is-error .el-input__validateIcon {
                        color:#f56c6c
                    }
                    .el-form-item--feedback .el-input__validateIcon {
                        display:inline-block
                    }
                    .el-tabs__header {
                        padding:0;
                        position:relative;
                        margin:0 0 15px
                    }
                    .el-tabs__active-bar {
                        position:absolute;
                        bottom:0;
                        left:0;
                        height:2px;
                        background-color:#409eff;
                        z-index:1;
                        -webkit-transition:-webkit-transform .3s cubic-bezier(.645,.045,.355,1);
                        transition:-webkit-transform .3s cubic-bezier(.645,.045,.355,1);
                        transition:transform .3s cubic-bezier(.645,.045,.355,1);
                        transition:transform .3s cubic-bezier(.645,.045,.355,1),-webkit-transform .3s cubic-bezier(.645,.045,.355,1);
                        list-style:none
                    }
                    .el-tabs__new-tab {
                        float:right;
                        border:1px solid #d3dce6;
                        height:18px;
                        width:18px;
                        line-height:18px;
                        margin:12px 0 9px 10px;
                        border-radius:3px;
                        text-align:center;
                        font-size:12px;
                        color:#d3dce6;
                        cursor:pointer;
                        -webkit-transition:all .15s;
                        transition:all .15s
                    }
                    .el-tabs__new-tab .el-icon-plus {
                        -webkit-transform:scale(.8,.8);
                        transform:scale(.8,.8)
                    }
                    .el-tabs__new-tab:hover {
                        color:#409eff
                    }
                    .el-tabs__nav-wrap {
                        overflow:hidden;
                        margin-bottom:-1px;
                        position:relative
                    }
                    .el-tabs__nav-wrap::after {
                        content:"";
                        position:absolute;
                        left:0;
                        bottom:0;
                        width:100%;
                        height:2px;
                        background-color:#e4e7ed;
                        z-index:1
                    }
                    .el-tabs__nav-wrap.is-scrollable {
                        padding:0 20px;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box
                    }
                    .el-tabs__nav-scroll {
                        overflow:hidden
                    }
                    .el-tabs__nav-next,.el-tabs__nav-prev {
                        position:absolute;
                        cursor:pointer;
                        line-height:44px;
                        font-size:12px;
                        color:#909399
                    }
                    .el-tabs__nav-next {
                        right:0
                    }
                    .el-tabs__nav-prev {
                        left:0
                    }
                    .el-tabs__nav {
                        white-space:nowrap;
                        position:relative;
                        -webkit-transition:-webkit-transform .3s;
                        transition:-webkit-transform .3s;
                        transition:transform .3s;
                        transition:transform .3s,-webkit-transform .3s;
                        float:left;
                        z-index:2
                    }
                    .el-tabs__nav.is-stretch {
                        min-width:100%;
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex
                    }
                    .el-tabs__nav.is-stretch>* {
                        -webkit-box-flex:1;
                        -ms-flex:1;
                        flex:1;
                        text-align:center
                    }
                    .el-tabs__item {
                        padding:0 20px;
                        height:40px;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        line-height:40px;
                        display:inline-block;
                        list-style:none;
                        font-size:14px;
                        font-weight:500;
                        color:#303133;
                        position:relative
                    }
                    .el-tabs__item:focus,.el-tabs__item:focus:active {
                        outline:0
                    }
                    .el-tabs__item:focus.is-active.is-focus:not(:active) {
                        -webkit-box-shadow:0 0 2px 2px #409eff inset;
                        box-shadow:0 0 2px 2px #409eff inset;
                        border-radius:3px
                    }
                    .el-tabs__item .el-icon-close {
                        border-radius:50%;
                        text-align:center;
                        -webkit-transition:all .3s cubic-bezier(.645,.045,.355,1);
                        transition:all .3s cubic-bezier(.645,.045,.355,1);
                        margin-left:5px
                    }
                    .el-tabs__item .el-icon-close:before {
                        -webkit-transform:scale(.9);
                        transform:scale(.9);
                        display:inline-block
                    }
                    .el-tabs--card>.el-tabs__header .el-tabs__active-bar,.el-tabs--left.el-tabs--card .el-tabs__active-bar.is-left,.el-tabs--right.el-tabs--card .el-tabs__active-bar.is-right {
                        display:none
                    }
                    .el-tabs__item .el-icon-close:hover {
                        background-color:#c0c4cc;
                        color:#fff
                    }
                    .el-tabs__item.is-active {
                        color:#409eff
                    }
                    .el-tabs__item:hover {
                        color:#409eff;
                        cursor:pointer
                    }
                    .el-tabs__item.is-disabled {
                        color:#c0c4cc;
                        cursor:default
                    }
                    .el-tabs__content {
                        overflow:hidden;
                        position:relative
                    }
                    .el-tabs--card>.el-tabs__header {
                        border-bottom:1px solid #e4e7ed
                    }
                    .el-tabs--card>.el-tabs__header .el-tabs__nav-wrap::after {
                        content:none
                    }
                    .el-tabs--card>.el-tabs__header .el-tabs__nav {
                        border:1px solid #e4e7ed;
                        border-bottom:none;
                        border-radius:4px 4px 0 0;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box
                    }
                    .el-tabs--card>.el-tabs__header .el-tabs__item .el-icon-close {
                        position:relative;
                        font-size:12px;
                        width:0;
                        height:14px;
                        vertical-align:middle;
                        line-height:15px;
                        overflow:hidden;
                        top:-1px;
                        right:-2px;
                        -webkit-transform-origin:100% 50%;
                        transform-origin:100% 50%
                    }
                    .el-tabs--card>.el-tabs__header .el-tabs__item {
                        border-bottom:1px solid transparent;
                        border-left:1px solid #e4e7ed;
                        -webkit-transition:color .3s cubic-bezier(.645,.045,.355,1),padding .3s cubic-bezier(.645,.045,.355,1);
                        transition:color .3s cubic-bezier(.645,.045,.355,1),padding .3s cubic-bezier(.645,.045,.355,1)
                    }
                    .el-tabs--card>.el-tabs__header .el-tabs__item:first-child {
                        border-left:none
                    }
                    .el-tabs--card>.el-tabs__header .el-tabs__item.is-closable:hover {
                        padding-left:13px;
                        padding-right:13px
                    }
                    .el-tabs--card>.el-tabs__header .el-tabs__item.is-closable:hover .el-icon-close {
                        width:14px
                    }
                    .el-tabs--card>.el-tabs__header .el-tabs__item.is-active {
                        border-bottom-color:#fff
                    }
                    .el-tabs--card>.el-tabs__header .el-tabs__item.is-active.is-closable {
                        padding-left:20px;
                        padding-right:20px
                    }
                    .el-tabs--card>.el-tabs__header .el-tabs__item.is-active.is-closable .el-icon-close {
                        width:14px
                    }
                    .el-tabs--border-card {
                        background:#fff;
                        border:1px solid #dcdfe6;
                        -webkit-box-shadow:0 2px 4px 0 rgba(0,0,0,.12),0 0 6px 0 rgba(0,0,0,.04);
                        box-shadow:0 2px 4px 0 rgba(0,0,0,.12),0 0 6px 0 rgba(0,0,0,.04)
                    }
                    .el-tabs--border-card>.el-tabs__content {
                        padding:15px
                    }
                    .el-tabs--border-card>.el-tabs__header {
                        background-color:#f5f7fa;
                        border-bottom:1px solid #e4e7ed;
                        margin:0
                    }
                    .el-tabs--border-card>.el-tabs__header .el-tabs__nav-wrap::after {
                        content:none
                    }
                    .el-tabs--border-card>.el-tabs__header .el-tabs__item {
                        -webkit-transition:all .3s cubic-bezier(.645,.045,.355,1);
                        transition:all .3s cubic-bezier(.645,.045,.355,1);
                        border:1px solid transparent;
                        margin-top:-1px;
                        color:#909399
                    }
                    .el-tabs--border-card>.el-tabs__header .el-tabs__item+.el-tabs__item,.el-tabs--border-card>.el-tabs__header .el-tabs__item:first-child {
                        margin-left:-1px
                    }
                    .el-col-offset-0,.el-tabs--border-card>.el-tabs__header .is-scrollable .el-tabs__item:first-child {
                        margin-left:0
                    }
                    .el-tabs--border-card>.el-tabs__header .el-tabs__item.is-active {
                        color:#409eff;
                        background-color:#fff;
                        border-right-color:#dcdfe6;
                        border-left-color:#dcdfe6
                    }
                    .el-tabs--border-card>.el-tabs__header .el-tabs__item:not(.is-disabled):hover {
                        color:#409eff
                    }
                    .el-tabs--border-card>.el-tabs__header .el-tabs__item.is-disabled {
                        color:#c0c4cc
                    }
                    .el-tabs--bottom .el-tabs__item.is-bottom:nth-child(2),.el-tabs--bottom .el-tabs__item.is-top:nth-child(2),.el-tabs--top .el-tabs__item.is-bottom:nth-child(2),.el-tabs--top .el-tabs__item.is-top:nth-child(2) {
                        padding-left:0
                    }
                    .el-tabs--bottom .el-tabs__item.is-bottom:last-child,.el-tabs--bottom .el-tabs__item.is-top:last-child,.el-tabs--top .el-tabs__item.is-bottom:last-child,.el-tabs--top .el-tabs__item.is-top:last-child {
                        padding-right:0
                    }
                    .el-cascader-menu:last-child .el-cascader-node,.el-tabs--bottom .el-tabs--left>.el-tabs__header .el-tabs__item:last-child,.el-tabs--bottom .el-tabs--right>.el-tabs__header .el-tabs__item:last-child,.el-tabs--bottom.el-tabs--border-card>.el-tabs__header .el-tabs__item:last-child,.el-tabs--bottom.el-tabs--card>.el-tabs__header .el-tabs__item:last-child,.el-tabs--top .el-tabs--left>.el-tabs__header .el-tabs__item:last-child,.el-tabs--top .el-tabs--right>.el-tabs__header .el-tabs__item:last-child,.el-tabs--top.el-tabs--border-card>.el-tabs__header .el-tabs__item:last-child,.el-tabs--top.el-tabs--card>.el-tabs__header .el-tabs__item:last-child {
                        padding-right:20px
                    }
                    .el-tabs--bottom .el-tabs--left>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--bottom .el-tabs--right>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--bottom.el-tabs--border-card>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--bottom.el-tabs--card>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--top .el-tabs--left>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--top .el-tabs--right>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--top.el-tabs--border-card>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--top.el-tabs--card>.el-tabs__header .el-tabs__item:nth-child(2) {
                        padding-left:20px
                    }
                    .el-tabs--bottom .el-tabs__header.is-bottom {
                        margin-bottom:0;
                        margin-top:10px
                    }
                    .el-tabs--bottom.el-tabs--border-card .el-tabs__header.is-bottom {
                        border-bottom:0;
                        border-top:1px solid #dcdfe6
                    }
                    .el-tabs--bottom.el-tabs--border-card .el-tabs__nav-wrap.is-bottom {
                        margin-top:-1px;
                        margin-bottom:0
                    }
                    .el-tabs--bottom.el-tabs--border-card .el-tabs__item.is-bottom:not(.is-active) {
                        border:1px solid transparent
                    }
                    .el-tabs--bottom.el-tabs--border-card .el-tabs__item.is-bottom {
                        margin:0 -1px -1px
                    }
                    .el-tabs--left,.el-tabs--right {
                        overflow:hidden
                    }
                    .el-tabs--left .el-tabs__header.is-left,.el-tabs--left .el-tabs__header.is-right,.el-tabs--left .el-tabs__nav-scroll,.el-tabs--left .el-tabs__nav-wrap.is-left,.el-tabs--left .el-tabs__nav-wrap.is-right,.el-tabs--right .el-tabs__header.is-left,.el-tabs--right .el-tabs__header.is-right,.el-tabs--right .el-tabs__nav-scroll,.el-tabs--right .el-tabs__nav-wrap.is-left,.el-tabs--right .el-tabs__nav-wrap.is-right {
                        height:100%
                    }
                    .el-tabs--left .el-tabs__active-bar.is-left,.el-tabs--left .el-tabs__active-bar.is-right,.el-tabs--right .el-tabs__active-bar.is-left,.el-tabs--right .el-tabs__active-bar.is-right {
                        top:0;
                        bottom:auto;
                        width:2px;
                        height:auto
                    }
                    .el-tabs--left .el-tabs__nav-wrap.is-left,.el-tabs--left .el-tabs__nav-wrap.is-right,.el-tabs--right .el-tabs__nav-wrap.is-left,.el-tabs--right .el-tabs__nav-wrap.is-right {
                        margin-bottom:0
                    }
                    .el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-next,.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-next,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-next,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-next,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev {
                        height:30px;
                        line-height:30px;
                        width:100%;
                        text-align:center;
                        cursor:pointer
                    }
                    .el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-next i,.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev i,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-next i,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev i,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-next i,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev i,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-next i,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev i {
                        -webkit-transform:rotateZ(90deg);
                        transform:rotateZ(90deg)
                    }
                    .el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev {
                        left:auto;
                        top:0
                    }
                    .el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-next,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-next,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-next,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-next {
                        right:auto;
                        bottom:0
                    }
                    .el-tabs--left .el-tabs__active-bar.is-left,.el-tabs--left .el-tabs__nav-wrap.is-left::after {
                        right:0;
                        left:auto
                    }
                    .el-tabs--left .el-tabs__nav-wrap.is-left.is-scrollable,.el-tabs--left .el-tabs__nav-wrap.is-right.is-scrollable,.el-tabs--right .el-tabs__nav-wrap.is-left.is-scrollable,.el-tabs--right .el-tabs__nav-wrap.is-right.is-scrollable {
                        padding:30px 0
                    }
                    .el-tabs--left .el-tabs__nav-wrap.is-left::after,.el-tabs--left .el-tabs__nav-wrap.is-right::after,.el-tabs--right .el-tabs__nav-wrap.is-left::after,.el-tabs--right .el-tabs__nav-wrap.is-right::after {
                        height:100%;
                        width:2px;
                        bottom:auto;
                        top:0
                    }
                    .el-tabs--left .el-tabs__nav.is-left,.el-tabs--left .el-tabs__nav.is-right,.el-tabs--right .el-tabs__nav.is-left,.el-tabs--right .el-tabs__nav.is-right {
                        float:none
                    }
                    .el-tabs--left .el-tabs__item.is-left,.el-tabs--left .el-tabs__item.is-right,.el-tabs--right .el-tabs__item.is-left,.el-tabs--right .el-tabs__item.is-right {
                        display:block
                    }
                    .el-tabs--left .el-tabs__header.is-left {
                        float:left;
                        margin-bottom:0;
                        margin-right:10px
                    }
                    .el-button-group>.el-button:not(:last-child),.el-tabs--left .el-tabs__nav-wrap.is-left {
                        margin-right:-1px
                    }
                    .el-tabs--left .el-tabs__item.is-left {
                        text-align:right
                    }
                    .el-tabs--left.el-tabs--card .el-tabs__item.is-left {
                        border-left:none;
                        border-right:1px solid #e4e7ed;
                        border-bottom:none;
                        border-top:1px solid #e4e7ed;
                        text-align:left
                    }
                    .el-tabs--left.el-tabs--card .el-tabs__item.is-left:first-child {
                        border-right:1px solid #e4e7ed;
                        border-top:none
                    }
                    .el-tabs--left.el-tabs--card .el-tabs__item.is-left.is-active {
                        border:1px solid #e4e7ed;
                        border-right-color:#fff;
                        border-left:none;
                        border-bottom:none
                    }
                    .el-tabs--left.el-tabs--card .el-tabs__item.is-left.is-active:first-child {
                        border-top:none
                    }
                    .el-tabs--left.el-tabs--card .el-tabs__item.is-left.is-active:last-child {
                        border-bottom:none
                    }
                    .el-tabs--left.el-tabs--card .el-tabs__nav {
                        border-radius:4px 0 0 4px;
                        border-bottom:1px solid #e4e7ed;
                        border-right:none
                    }
                    .el-tabs--left.el-tabs--card .el-tabs__new-tab {
                        float:none
                    }
                    .el-tabs--left.el-tabs--border-card .el-tabs__header.is-left {
                        border-right:1px solid #dfe4ed
                    }
                    .el-tabs--left.el-tabs--border-card .el-tabs__item.is-left {
                        border:1px solid transparent;
                        margin:-1px 0 -1px -1px
                    }
                    .el-tabs--left.el-tabs--border-card .el-tabs__item.is-left.is-active {
                        border-color:#d1dbe5 transparent
                    }
                    .el-tabs--right .el-tabs__header.is-right {
                        float:right;
                        margin-bottom:0;
                        margin-left:10px
                    }
                    .el-tabs--right .el-tabs__nav-wrap.is-right {
                        margin-left:-1px
                    }
                    .el-tabs--right .el-tabs__nav-wrap.is-right::after {
                        left:0;
                        right:auto
                    }
                    .el-tabs--right .el-tabs__active-bar.is-right {
                        left:0
                    }
                    .el-tabs--right.el-tabs--card .el-tabs__item.is-right {
                        border-bottom:none;
                        border-top:1px solid #e4e7ed
                    }
                    .el-tabs--right.el-tabs--card .el-tabs__item.is-right:first-child {
                        border-left:1px solid #e4e7ed;
                        border-top:none
                    }
                    .el-tabs--right.el-tabs--card .el-tabs__item.is-right.is-active {
                        border:1px solid #e4e7ed;
                        border-left-color:#fff;
                        border-right:none;
                        border-bottom:none
                    }
                    .el-tabs--right.el-tabs--card .el-tabs__item.is-right.is-active:first-child {
                        border-top:none
                    }
                    .el-tabs--right.el-tabs--card .el-tabs__item.is-right.is-active:last-child {
                        border-bottom:none
                    }
                    .el-tabs--right.el-tabs--card .el-tabs__nav {
                        border-radius:0 4px 4px 0;
                        border-bottom:1px solid #e4e7ed;
                        border-left:none
                    }
                    .el-tabs--right.el-tabs--border-card .el-tabs__header.is-right {
                        border-left:1px solid #dfe4ed
                    }
                    .el-tabs--right.el-tabs--border-card .el-tabs__item.is-right {
                        border:1px solid transparent;
                        margin:-1px -1px -1px 0
                    }
                    .el-tabs--right.el-tabs--border-card .el-tabs__item.is-right.is-active {
                        border-color:#d1dbe5 transparent
                    }
                    .slideInLeft-transition,.slideInRight-transition {
                        display:inline-block
                    }
                    .slideInRight-enter {
                        -webkit-animation:slideInRight-enter .3s;
                        animation:slideInRight-enter .3s
                    }
                    .slideInRight-leave {
                        position:absolute;
                        left:0;
                        right:0;
                        -webkit-animation:slideInRight-leave .3s;
                        animation:slideInRight-leave .3s
                    }
                    .slideInLeft-enter {
                        -webkit-animation:slideInLeft-enter .3s;
                        animation:slideInLeft-enter .3s
                    }
                    .slideInLeft-leave {
                        position:absolute;
                        left:0;
                        right:0;
                        -webkit-animation:slideInLeft-leave .3s;
                        animation:slideInLeft-leave .3s
                    }
                    @-webkit-keyframes slideInRight-enter {
                        0% {
                        opacity:0;
                        -webkit-transform-origin:0 0;
                        transform-origin:0 0;
                        -webkit-transform:translateX(100%);
                        transform:translateX(100%)
                    }
                    to {
                        opacity:1;
                        -webkit-transform-origin:0 0;
                        transform-origin:0 0;
                        -webkit-transform:translateX(0);
                        transform:translateX(0)
                    }
                    }@keyframes slideInRight-enter {
                        0% {
                        opacity:0;
                        -webkit-transform-origin:0 0;
                        transform-origin:0 0;
                        -webkit-transform:translateX(100%);
                        transform:translateX(100%)
                    }
                    to {
                        opacity:1;
                        -webkit-transform-origin:0 0;
                        transform-origin:0 0;
                        -webkit-transform:translateX(0);
                        transform:translateX(0)
                    }
                    }@-webkit-keyframes slideInRight-leave {
                        0% {
                        -webkit-transform-origin:0 0;
                        transform-origin:0 0;
                        -webkit-transform:translateX(0);
                        transform:translateX(0);
                        opacity:1
                    }
                    100% {
                        -webkit-transform-origin:0 0;
                        transform-origin:0 0;
                        -webkit-transform:translateX(100%);
                        transform:translateX(100%);
                        opacity:0
                    }
                    }@keyframes slideInRight-leave {
                        0% {
                        -webkit-transform-origin:0 0;
                        transform-origin:0 0;
                        -webkit-transform:translateX(0);
                        transform:translateX(0);
                        opacity:1
                    }
                    100% {
                        -webkit-transform-origin:0 0;
                        transform-origin:0 0;
                        -webkit-transform:translateX(100%);
                        transform:translateX(100%);
                        opacity:0
                    }
                    }@-webkit-keyframes slideInLeft-enter {
                        0% {
                        opacity:0;
                        -webkit-transform-origin:0 0;
                        transform-origin:0 0;
                        -webkit-transform:translateX(-100%);
                        transform:translateX(-100%)
                    }
                    to {
                        opacity:1;
                        -webkit-transform-origin:0 0;
                        transform-origin:0 0;
                        -webkit-transform:translateX(0);
                        transform:translateX(0)
                    }
                    }@keyframes slideInLeft-enter {
                        0% {
                        opacity:0;
                        -webkit-transform-origin:0 0;
                        transform-origin:0 0;
                        -webkit-transform:translateX(-100%);
                        transform:translateX(-100%)
                    }
                    to {
                        opacity:1;
                        -webkit-transform-origin:0 0;
                        transform-origin:0 0;
                        -webkit-transform:translateX(0);
                        transform:translateX(0)
                    }
                    }@-webkit-keyframes slideInLeft-leave {
                        0% {
                        -webkit-transform-origin:0 0;
                        transform-origin:0 0;
                        -webkit-transform:translateX(0);
                        transform:translateX(0);
                        opacity:1
                    }
                    100% {
                        -webkit-transform-origin:0 0;
                        transform-origin:0 0;
                        -webkit-transform:translateX(-100%);
                        transform:translateX(-100%);
                        opacity:0
                    }
                    }@keyframes slideInLeft-leave {
                        0% {
                        -webkit-transform-origin:0 0;
                        transform-origin:0 0;
                        -webkit-transform:translateX(0);
                        transform:translateX(0);
                        opacity:1
                    }
                    100% {
                        -webkit-transform-origin:0 0;
                        transform-origin:0 0;
                        -webkit-transform:translateX(-100%);
                        transform:translateX(-100%);
                        opacity:0
                    }
                    }.el-tree {
                        position:relative;
                        cursor:default;
                        background:#fff;
                        color:#606266
                    }
                    .el-tree__empty-block {
                        position:relative;
                        min-height:60px;
                        text-align:center;
                        width:100%;
                        height:100%
                    }
                    .el-tree__empty-text {
                        position:absolute;
                        left:50%;
                        top:50%;
                        -webkit-transform:translate(-50%,-50%);
                        transform:translate(-50%,-50%);
                        color:#909399;
                        font-size:14px
                    }
                    .el-tree__drop-indicator {
                        position:absolute;
                        left:0;
                        right:0;
                        height:1px;
                        background-color:#409eff
                    }
                    .el-tree-node {
                        white-space:nowrap;
                        outline:0
                    }
                    .el-tree-node:focus>.el-tree-node__content {
                        background-color:#f5f7fa
                    }
                    .el-tree-node.is-drop-inner>.el-tree-node__content .el-tree-node__label {
                        background-color:#409eff;
                        color:#fff
                    }
                    .el-tree-node__content:hover,.el-upload-list__item:hover {
                        background-color:#f5f7fa
                    }
                    .el-tree-node__content {
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        height:26px;
                        cursor:pointer
                    }
                    .el-tree-node__content>.el-tree-node__expand-icon {
                        padding:6px
                    }
                    .el-tree-node__content>label.el-checkbox {
                        margin-right:8px
                    }
                    .el-tree.is-dragging .el-tree-node__content {
                        cursor:move
                    }
                    .el-tree.is-dragging .el-tree-node__content * {
                        pointer-events:none
                    }
                    .el-tree.is-dragging.is-drop-not-allow .el-tree-node__content {
                        cursor:not-allowed
                    }
                    .el-tree-node__expand-icon {
                        cursor:pointer;
                        color:#c0c4cc;
                        font-size:12px;
                        -webkit-transform:rotate(0);
                        transform:rotate(0);
                        -webkit-transition:-webkit-transform .3s ease-in-out;
                        transition:-webkit-transform .3s ease-in-out;
                        transition:transform .3s ease-in-out;
                        transition:transform .3s ease-in-out,-webkit-transform .3s ease-in-out
                    }
                    .el-tree-node__expand-icon.expanded {
                        -webkit-transform:rotate(90deg);
                        transform:rotate(90deg)
                    }
                    .el-tree-node__expand-icon.is-leaf {
                        color:transparent;
                        cursor:default
                    }
                    .el-tree-node__label {
                        font-size:14px
                    }
                    .el-tree-node__loading-icon {
                        margin-right:8px;
                        font-size:14px;
                        color:#c0c4cc
                    }
                    .el-tree-node>.el-tree-node__children {
                        overflow:hidden;
                        background-color:transparent
                    }
                    .el-tree-node.is-expanded>.el-tree-node__children {
                        display:block
                    }
                    .el-tree--highlight-current .el-tree-node.is-current>.el-tree-node__content {
                        background-color:#f0f7ff
                    }
                    .el-alert {
                        width:100%;
                        padding:8px 16px;
                        margin:0;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        border-radius:4px;
                        position:relative;
                        background-color:#fff;
                        overflow:hidden;
                        opacity:1;
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        -webkit-transition:opacity .2s;
                        transition:opacity .2s
                    }
                    .el-alert.is-light .el-alert__closebtn {
                        color:#c0c4cc
                    }
                    .el-alert.is-dark .el-alert__closebtn,.el-alert.is-dark .el-alert__description {
                        color:#fff
                    }
                    .el-alert.is-center {
                        -webkit-box-pack:center;
                        -ms-flex-pack:center;
                        justify-content:center
                    }
                    .el-alert--success.is-light {
                        background-color:#f0f9eb;
                        color:#67c23a
                    }
                    .el-alert--success.is-light .el-alert__description {
                        color:#67c23a
                    }
                    .el-alert--success.is-dark {
                        background-color:#67c23a;
                        color:#fff
                    }
                    .el-alert--info.is-light {
                        background-color:#f4f4f5;
                        color:#909399
                    }
                    .el-alert--info.is-dark {
                        background-color:#909399;
                        color:#fff
                    }
                    .el-alert--info .el-alert__description {
                        color:#909399
                    }
                    .el-alert--warning.is-light {
                        background-color:#fdf6ec;
                        color:#e6a23c
                    }
                    .el-alert--warning.is-light .el-alert__description {
                        color:#e6a23c
                    }
                    .el-alert--warning.is-dark {
                        background-color:#e6a23c;
                        color:#fff
                    }
                    .el-alert--error.is-light {
                        background-color:#fef0f0;
                        color:#f56c6c
                    }
                    .el-alert--error.is-light .el-alert__description {
                        color:#f56c6c
                    }
                    .el-alert--error.is-dark {
                        background-color:#f56c6c;
                        color:#fff
                    }
                    .el-alert__content {
                        display:table-cell;
                        padding:0 8px
                    }
                    .el-alert__icon {
                        font-size:16px;
                        width:16px
                    }
                    .el-alert__icon.is-big {
                        font-size:28px;
                        width:28px
                    }
                    .el-alert__title {
                        font-size:13px;
                        line-height:18px
                    }
                    .el-alert__title.is-bold {
                        font-weight:700
                    }
                    .el-alert .el-alert__description {
                        font-size:12px;
                        margin:5px 0 0
                    }
                    .el-alert__closebtn {
                        font-size:12px;
                        opacity:1;
                        position:absolute;
                        top:12px;
                        right:15px;
                        cursor:pointer
                    }
                    .el-alert-fade-enter,.el-alert-fade-leave-active,.el-loading-fade-enter,.el-loading-fade-leave-active,.el-notification-fade-leave-active,.el-upload iframe {
                        opacity:0
                    }
                    .el-carousel__arrow--right,.el-notification.right {
                        right:16px
                    }
                    .el-alert__closebtn.is-customed {
                        font-style:normal;
                        font-size:13px;
                        top:9px
                    }
                    .el-notification {
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        width:330px;
                        padding:14px 26px 14px 13px;
                        border-radius:8px;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        border:1px solid #ebeef5;
                        position:fixed;
                        background-color:#fff;
                        box-shadow:0 2px 12px 0 rgba(0,0,0,.1);
                        -webkit-transition:opacity .3s,left .3s,right .3s,top .4s,bottom .3s,-webkit-transform .3s;
                        transition:opacity .3s,left .3s,right .3s,top .4s,bottom .3s,-webkit-transform .3s;
                        transition:opacity .3s,transform .3s,left .3s,right .3s,top .4s,bottom .3s;
                        transition:opacity .3s,transform .3s,left .3s,right .3s,top .4s,bottom .3s,-webkit-transform .3s;
                        overflow:hidden
                    }
                    .el-notification.left {
                        left:16px
                    }
                    .el-notification__group {
                        margin-left:13px;
                        margin-right:8px
                    }
                    .el-notification__title {
                        font-weight:700;
                        font-size:16px;
                        color:#303133;
                        margin:0
                    }
                    .el-notification__content {
                        font-size:14px;
                        line-height:21px;
                        margin:6px 0 0;
                        color:#606266;
                        text-align:justify
                    }
                    .el-notification__content p {
                        margin:0
                    }
                    .el-notification__icon {
                        height:24px;
                        width:24px;
                        font-size:24px
                    }
                    .el-notification__closeBtn {
                        position:absolute;
                        top:18px;
                        right:15px;
                        cursor:pointer;
                        color:#909399;
                        font-size:16px
                    }
                    .el-notification__closeBtn:hover {
                        color:#606266
                    }
                    .el-notification .el-icon-success {
                        color:#67c23a
                    }
                    .el-notification .el-icon-error {
                        color:#f56c6c
                    }
                    .el-notification .el-icon-info {
                        color:#909399
                    }
                    .el-notification .el-icon-warning {
                        color:#e6a23c
                    }
                    .el-notification-fade-enter.right {
                        right:0;
                        -webkit-transform:translateX(100%);
                        transform:translateX(100%)
                    }
                    .el-notification-fade-enter.left {
                        left:0;
                        -webkit-transform:translateX(-100%);
                        transform:translateX(-100%)
                    }
                    .el-input-number {
                        position:relative;
                        display:inline-block;
                        width:180px;
                        line-height:38px
                    }
                    .el-input-number .el-input {
                        display:block
                    }
                    .el-input-number .el-input__inner {
                        -webkit-appearance:none;
                        padding-left:50px;
                        padding-right:50px;
                        text-align:center
                    }
                    .el-input-number__decrease,.el-input-number__increase {
                        position:absolute;
                        z-index:1;
                        top:1px;
                        width:40px;
                        height:auto;
                        text-align:center;
                        background:#f5f7fa;
                        color:#606266;
                        cursor:pointer;
                        font-size:13px
                    }
                    .el-input-number__decrease:hover,.el-input-number__increase:hover {
                        color:#409eff
                    }
                    .el-input-number__decrease:hover:not(.is-disabled)~.el-input .el-input__inner:not(.is-disabled),.el-input-number__increase:hover:not(.is-disabled)~.el-input .el-input__inner:not(.is-disabled) {
                        border-color:#409eff
                    }
                    .el-input-number__decrease.is-disabled,.el-input-number__increase.is-disabled {
                        color:#c0c4cc;
                        cursor:not-allowed
                    }
                    .el-input-number__increase {
                        right:1px;
                        border-radius:0 4px 4px 0;
                        border-left:1px solid #dcdfe6
                    }
                    .el-input-number__decrease {
                        left:1px;
                        border-radius:4px 0 0 4px;
                        border-right:1px solid #dcdfe6
                    }
                    .el-input-number.is-disabled .el-input-number__decrease,.el-input-number.is-disabled .el-input-number__increase {
                        border-color:#e4e7ed;
                        color:#e4e7ed
                    }
                    .el-input-number.is-disabled .el-input-number__decrease:hover,.el-input-number.is-disabled .el-input-number__increase:hover {
                        color:#e4e7ed;
                        cursor:not-allowed
                    }
                    .el-input-number--medium {
                        width:200px;
                        line-height:34px
                    }
                    .el-input-number--medium .el-input-number__decrease,.el-input-number--medium .el-input-number__increase {
                        width:36px;
                        font-size:14px
                    }
                    .el-input-number--medium .el-input__inner {
                        padding-left:43px;
                        padding-right:43px
                    }
                    .el-input-number--small {
                        width:130px;
                        line-height:30px
                    }
                    .el-input-number--small .el-input-number__decrease,.el-input-number--small .el-input-number__increase {
                        width:32px;
                        font-size:13px
                    }
                    .el-input-number--small .el-input-number__decrease [class*=el-icon],.el-input-number--small .el-input-number__increase [class*=el-icon] {
                        -webkit-transform:scale(.9);
                        transform:scale(.9)
                    }
                    .el-input-number--small .el-input__inner {
                        padding-left:39px;
                        padding-right:39px
                    }
                    .el-input-number--mini {
                        width:130px;
                        line-height:26px
                    }
                    .el-input-number--mini .el-input-number__decrease,.el-input-number--mini .el-input-number__increase {
                        width:28px;
                        font-size:12px
                    }
                    .el-input-number--mini .el-input-number__decrease [class*=el-icon],.el-input-number--mini .el-input-number__increase [class*=el-icon] {
                        -webkit-transform:scale(.8);
                        transform:scale(.8)
                    }
                    .el-input-number--mini .el-input__inner {
                        padding-left:35px;
                        padding-right:35px
                    }
                    .el-input-number.is-without-controls .el-input__inner {
                        padding-left:15px;
                        padding-right:15px
                    }
                    .el-input-number.is-controls-right .el-input__inner {
                        padding-left:15px;
                        padding-right:50px
                    }
                    .el-input-number.is-controls-right .el-input-number__decrease,.el-input-number.is-controls-right .el-input-number__increase {
                        height:auto;
                        line-height:19px
                    }
                    .el-input-number.is-controls-right .el-input-number__decrease [class*=el-icon],.el-input-number.is-controls-right .el-input-number__increase [class*=el-icon] {
                        -webkit-transform:scale(.8);
                        transform:scale(.8)
                    }
                    .el-input-number.is-controls-right .el-input-number__increase {
                        border-radius:0 4px 0 0;
                        border-bottom:1px solid #dcdfe6
                    }
                    .el-input-number.is-controls-right .el-input-number__decrease {
                        right:1px;
                        bottom:1px;
                        top:auto;
                        left:auto;
                        border-right:none;
                        border-left:1px solid #dcdfe6;
                        border-radius:0 0 4px
                    }
                    .el-input-number.is-controls-right[class*=medium] [class*=decrease],.el-input-number.is-controls-right[class*=medium] [class*=increase] {
                        line-height:17px
                    }
                    .el-input-number.is-controls-right[class*=small] [class*=decrease],.el-input-number.is-controls-right[class*=small] [class*=increase] {
                        line-height:15px
                    }
                    .el-input-number.is-controls-right[class*=mini] [class*=decrease],.el-input-number.is-controls-right[class*=mini] [class*=increase] {
                        line-height:13px
                    }
                    .el-tooltip:focus:hover,.el-tooltip:focus:not(.focusing) {
                        outline-width:0
                    }
                    .el-tooltip__popper {
                        position:absolute;
                        border-radius:4px;
                        padding:10px;
                        z-index:2000;
                        font-size:12px;
                        line-height:1.2;
                        min-width:10px;
                        word-wrap:break-word
                    }
                    .el-tooltip__popper .popper__arrow,.el-tooltip__popper .popper__arrow::after {
                        position:absolute;
                        display:block;
                        width:0;
                        height:0;
                        border-color:transparent;
                        border-style:solid
                    }
                    .el-tooltip__popper .popper__arrow {
                        border-width:6px
                    }
                    .el-tooltip__popper .popper__arrow::after {
                        content:" ";
                        border-width:5px
                    }
                    .el-button-group::after,.el-button-group::before,.el-color-dropdown__main-wrapper::after,.el-link.is-underline:hover:after,.el-page-header__left::after,.el-progress-bar__inner::after,.el-row::after,.el-row::before,.el-slider::after,.el-slider::before,.el-slider__button-wrapper::after,.el-transfer-panel .el-transfer-panel__footer::after,.el-upload-cover::after,.el-upload-list--picture-card .el-upload-list__item-actions::after {
                        content:""
                    }
                    .el-tooltip__popper[x-placement^=top] {
                        margin-bottom:12px
                    }
                    .el-tooltip__popper[x-placement^=top] .popper__arrow {
                        bottom:-6px;
                        border-top-color:#303133;
                        border-bottom-width:0
                    }
                    .el-tooltip__popper[x-placement^=top] .popper__arrow::after {
                        bottom:1px;
                        margin-left:-5px;
                        border-top-color:#303133;
                        border-bottom-width:0
                    }
                    .el-tooltip__popper[x-placement^=bottom] {
                        margin-top:12px
                    }
                    .el-tooltip__popper[x-placement^=bottom] .popper__arrow {
                        top:-6px;
                        border-top-width:0;
                        border-bottom-color:#303133
                    }
                    .el-tooltip__popper[x-placement^=bottom] .popper__arrow::after {
                        top:1px;
                        margin-left:-5px;
                        border-top-width:0;
                        border-bottom-color:#303133
                    }
                    .el-tooltip__popper[x-placement^=right] {
                        margin-left:12px
                    }
                    .el-tooltip__popper[x-placement^=right] .popper__arrow {
                        left:-6px;
                        border-right-color:#303133;
                        border-left-width:0
                    }
                    .el-tooltip__popper[x-placement^=right] .popper__arrow::after {
                        bottom:-5px;
                        left:1px;
                        border-right-color:#303133;
                        border-left-width:0
                    }
                    .el-tooltip__popper[x-placement^=left] {
                        margin-right:12px
                    }
                    .el-tooltip__popper[x-placement^=left] .popper__arrow {
                        right:-6px;
                        border-right-width:0;
                        border-left-color:#303133
                    }
                    .el-tooltip__popper[x-placement^=left] .popper__arrow::after {
                        right:1px;
                        bottom:-5px;
                        margin-left:-5px;
                        border-right-width:0;
                        border-left-color:#303133
                    }
                    .el-tooltip__popper.is-dark {
                        background:#303133;
                        color:#fff
                    }
                    .el-tooltip__popper.is-light {
                        background:#fff;
                        border:1px solid #303133
                    }
                    .el-tooltip__popper.is-light[x-placement^=top] .popper__arrow {
                        border-top-color:#303133
                    }
                    .el-tooltip__popper.is-light[x-placement^=top] .popper__arrow::after {
                        border-top-color:#fff
                    }
                    .el-tooltip__popper.is-light[x-placement^=bottom] .popper__arrow {
                        border-bottom-color:#303133
                    }
                    .el-tooltip__popper.is-light[x-placement^=bottom] .popper__arrow::after {
                        border-bottom-color:#fff
                    }
                    .el-tooltip__popper.is-light[x-placement^=left] .popper__arrow {
                        border-left-color:#303133
                    }
                    .el-tooltip__popper.is-light[x-placement^=left] .popper__arrow::after {
                        border-left-color:#fff
                    }
                    .el-tooltip__popper.is-light[x-placement^=right] .popper__arrow {
                        border-right-color:#303133
                    }
                    .el-tooltip__popper.is-light[x-placement^=right] .popper__arrow::after {
                        border-right-color:#fff
                    }
                    .el-slider::after,.el-slider::before {
                        display:table
                    }
                    .el-slider__button-wrapper .el-tooltip,.el-slider__button-wrapper::after {
                        display:inline-block;
                        vertical-align:middle
                    }
                    .el-slider::after {
                        clear:both
                    }
                    .el-slider__runway {
                        width:100%;
                        height:6px;
                        margin:16px 0;
                        background-color:#e4e7ed;
                        border-radius:3px;
                        position:relative;
                        cursor:pointer;
                        vertical-align:middle
                    }
                    .el-slider__runway.show-input {
                        margin-right:160px;
                        width:auto
                    }
                    .el-slider__runway.disabled {
                        cursor:default
                    }
                    .el-slider__runway.disabled .el-slider__bar {
                        background-color:#c0c4cc
                    }
                    .el-slider__runway.disabled .el-slider__button {
                        border-color:#c0c4cc
                    }
                    .el-slider__runway.disabled .el-slider__button-wrapper.dragging,.el-slider__runway.disabled .el-slider__button-wrapper.hover,.el-slider__runway.disabled .el-slider__button-wrapper:hover {
                        cursor:not-allowed
                    }
                    .el-slider__runway.disabled .el-slider__button.dragging,.el-slider__runway.disabled .el-slider__button.hover,.el-slider__runway.disabled .el-slider__button:hover {
                        -webkit-transform:scale(1);
                        transform:scale(1);
                        cursor:not-allowed
                    }
                    .el-slider__button-wrapper,.el-slider__stop {
                        -webkit-transform:translateX(-50%);
                        position:absolute
                    }
                    .el-slider__input {
                        float:right;
                        margin-top:3px;
                        width:130px
                    }
                    .el-slider__input.el-input-number--mini {
                        margin-top:5px
                    }
                    .el-slider__input.el-input-number--medium {
                        margin-top:0
                    }
                    .el-slider__input.el-input-number--large {
                        margin-top:-2px
                    }
                    .el-slider__bar {
                        height:6px;
                        background-color:#409eff;
                        border-top-left-radius:3px;
                        border-bottom-left-radius:3px;
                        position:absolute
                    }
                    .el-slider__button-wrapper {
                        height:36px;
                        width:36px;
                        z-index:1001;
                        top:-15px;
                        transform:translateX(-50%);
                        background-color:transparent;
                        text-align:center;
                        -webkit-user-select:none;
                        -moz-user-select:none;
                        -ms-user-select:none;
                        user-select:none;
                        line-height:normal
                    }
                    .el-image-viewer__btn,.el-slider__button,.el-step__icon-inner {
                        -moz-user-select:none;
                        -ms-user-select:none
                    }
                    .el-slider__button-wrapper::after {
                        height:100%
                    }
                    .el-slider__button-wrapper.hover,.el-slider__button-wrapper:hover {
                        cursor:-webkit-grab;
                        cursor:grab
                    }
                    .el-slider__button-wrapper.dragging {
                        cursor:-webkit-grabbing;
                        cursor:grabbing
                    }
                    .el-slider__button {
                        width:16px;
                        height:16px;
                        border:2px solid #409eff;
                        background-color:#fff;
                        border-radius:50%;
                        -webkit-transition:.2s;
                        transition:.2s;
                        -webkit-user-select:none;
                        user-select:none
                    }
                    .el-slider__button.dragging,.el-slider__button.hover,.el-slider__button:hover {
                        -webkit-transform:scale(1.2);
                        transform:scale(1.2)
                    }
                    .el-slider__button.hover,.el-slider__button:hover {
                        cursor:-webkit-grab;
                        cursor:grab
                    }
                    .el-slider__button.dragging {
                        cursor:-webkit-grabbing;
                        cursor:grabbing
                    }
                    .el-slider__stop {
                        height:6px;
                        width:6px;
                        border-radius:100%;
                        background-color:#fff;
                        transform:translateX(-50%)
                    }
                    .el-slider__marks {
                        top:0;
                        left:12px;
                        width:18px;
                        height:100%
                    }
                    .el-slider__marks-text {
                        position:absolute;
                        -webkit-transform:translateX(-50%);
                        transform:translateX(-50%);
                        font-size:14px;
                        color:#909399;
                        margin-top:15px
                    }
                    .el-slider.is-vertical {
                        position:relative
                    }
                    .el-slider.is-vertical .el-slider__runway {
                        width:6px;
                        height:100%;
                        margin:0 16px
                    }
                    .el-slider.is-vertical .el-slider__bar {
                        width:6px;
                        height:auto;
                        border-radius:0 0 3px 3px
                    }
                    .el-slider.is-vertical .el-slider__button-wrapper {
                        top:auto;
                        left:-15px;
                        -webkit-transform:translateY(50%);
                        transform:translateY(50%)
                    }
                    .el-slider.is-vertical .el-slider__stop {
                        -webkit-transform:translateY(50%);
                        transform:translateY(50%)
                    }
                    .el-slider.is-vertical.el-slider--with-input {
                        padding-bottom:58px
                    }
                    .el-slider.is-vertical.el-slider--with-input .el-slider__input {
                        overflow:visible;
                        float:none;
                        position:absolute;
                        bottom:22px;
                        width:36px;
                        margin-top:15px
                    }
                    .el-slider.is-vertical.el-slider--with-input .el-slider__input .el-input__inner {
                        text-align:center;
                        padding-left:5px;
                        padding-right:5px
                    }
                    .el-slider.is-vertical.el-slider--with-input .el-slider__input .el-input-number__decrease,.el-slider.is-vertical.el-slider--with-input .el-slider__input .el-input-number__increase {
                        top:32px;
                        margin-top:-1px;
                        border:1px solid #dcdfe6;
                        line-height:20px;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        -webkit-transition:border-color .2s cubic-bezier(.645,.045,.355,1);
                        transition:border-color .2s cubic-bezier(.645,.045,.355,1)
                    }
                    .el-slider.is-vertical.el-slider--with-input .el-slider__input .el-input-number__decrease {
                        width:18px;
                        right:18px;
                        border-bottom-left-radius:4px
                    }
                    .el-slider.is-vertical.el-slider--with-input .el-slider__input .el-input-number__increase {
                        width:19px;
                        border-bottom-right-radius:4px
                    }
                    .el-slider.is-vertical.el-slider--with-input .el-slider__input .el-input-number__increase~.el-input .el-input__inner {
                        border-bottom-left-radius:0;
                        border-bottom-right-radius:0
                    }
                    .el-slider.is-vertical.el-slider--with-input .el-slider__input:hover .el-input-number__decrease,.el-slider.is-vertical.el-slider--with-input .el-slider__input:hover .el-input-number__increase {
                        border-color:#c0c4cc
                    }
                    .el-slider.is-vertical.el-slider--with-input .el-slider__input:active .el-input-number__decrease,.el-slider.is-vertical.el-slider--with-input .el-slider__input:active .el-input-number__increase {
                        border-color:#409eff
                    }
                    .el-slider.is-vertical .el-slider__marks-text {
                        margin-top:0;
                        left:15px;
                        -webkit-transform:translateY(50%);
                        transform:translateY(50%)
                    }
                    .el-loading-parent--relative {
                        position:relative!important
                    }
                    .el-loading-parent--hidden {
                        overflow:hidden!important
                    }
                    .el-loading-mask {
                        position:absolute;
                        z-index:2000;
                        background-color:rgba(255,255,255,.9);
                        margin:0;
                        top:0;
                        right:0;
                        bottom:0;
                        left:0;
                        -webkit-transition:opacity .3s;
                        transition:opacity .3s
                    }
                    .el-loading-mask.is-fullscreen {
                        position:fixed
                    }
                    .el-loading-mask.is-fullscreen .el-loading-spinner {
                        margin-top:-25px
                    }
                    .el-loading-mask.is-fullscreen .el-loading-spinner .circular {
                        height:50px;
                        width:50px
                    }
                    .el-loading-spinner {
                        top:50%;
                        margin-top:-21px;
                        width:100%;
                        text-align:center;
                        position:absolute
                    }
                    .el-col-pull-0,.el-col-pull-1,.el-col-pull-10,.el-col-pull-11,.el-col-pull-12,.el-col-pull-13,.el-col-pull-14,.el-col-pull-15,.el-col-pull-16,.el-col-pull-17,.el-col-pull-18,.el-col-pull-19,.el-col-pull-2,.el-col-pull-20,.el-col-pull-21,.el-col-pull-22,.el-col-pull-23,.el-col-pull-24,.el-col-pull-3,.el-col-pull-4,.el-col-pull-5,.el-col-pull-6,.el-col-pull-7,.el-col-pull-8,.el-col-pull-9,.el-col-push-0,.el-col-push-1,.el-col-push-10,.el-col-push-11,.el-col-push-12,.el-col-push-13,.el-col-push-14,.el-col-push-15,.el-col-push-16,.el-col-push-17,.el-col-push-18,.el-col-push-19,.el-col-push-2,.el-col-push-20,.el-col-push-21,.el-col-push-22,.el-col-push-23,.el-col-push-24,.el-col-push-3,.el-col-push-4,.el-col-push-5,.el-col-push-6,.el-col-push-7,.el-col-push-8,.el-col-push-9,.el-row,.el-upload-dragger,.el-upload-list__item {
                        position:relative
                    }
                    .el-loading-spinner .el-loading-text {
                        color:#409eff;
                        margin:3px 0;
                        font-size:14px
                    }
                    .el-loading-spinner .circular {
                        height:42px;
                        width:42px;
                        -webkit-animation:loading-rotate 2s linear infinite;
                        animation:loading-rotate 2s linear infinite
                    }
                    .el-loading-spinner .path {
                        -webkit-animation:loading-dash 1.5s ease-in-out infinite;
                        animation:loading-dash 1.5s ease-in-out infinite;
                        stroke-dasharray:90,150;
                        stroke-dashoffset:0;
                        stroke-width:2;
                        stroke:#409eff;
                        stroke-linecap:round
                    }
                    .el-loading-spinner i {
                        color:#409eff
                    }
                    @-webkit-keyframes loading-rotate {
                        100% {
                        -webkit-transform:rotate(360deg);
                        transform:rotate(360deg)
                    }
                    }@keyframes loading-rotate {
                        100% {
                        -webkit-transform:rotate(360deg);
                        transform:rotate(360deg)
                    }
                    }@-webkit-keyframes loading-dash {
                        0% {
                        stroke-dasharray:1,200;
                        stroke-dashoffset:0
                    }
                    50% {
                        stroke-dasharray:90,150;
                        stroke-dashoffset:-40px
                    }
                    100% {
                        stroke-dasharray:90,150;
                        stroke-dashoffset:-120px
                    }
                    }@keyframes loading-dash {
                        0% {
                        stroke-dasharray:1,200;
                        stroke-dashoffset:0
                    }
                    50% {
                        stroke-dasharray:90,150;
                        stroke-dashoffset:-40px
                    }
                    100% {
                        stroke-dasharray:90,150;
                        stroke-dashoffset:-120px
                    }
                    }.el-row {
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box
                    }
                    .el-row::after,.el-row::before {
                        display:table
                    }
                    .el-row::after {
                        clear:both
                    }
                    .el-row--flex {
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex
                    }
                    .el-col-0,.el-row--flex:after,.el-row--flex:before {
                        display:none
                    }
                    .el-row--flex.is-justify-center {
                        -webkit-box-pack:center;
                        -ms-flex-pack:center;
                        justify-content:center
                    }
                    .el-row--flex.is-justify-end {
                        -webkit-box-pack:end;
                        -ms-flex-pack:end;
                        justify-content:flex-end
                    }
                    .el-row--flex.is-justify-space-between {
                        -webkit-box-pack:justify;
                        -ms-flex-pack:justify;
                        justify-content:space-between
                    }
                    .el-row--flex.is-justify-space-around {
                        -ms-flex-pack:distribute;
                        justify-content:space-around
                    }
                    .el-row--flex.is-align-top {
                        -webkit-box-align:start;
                        -ms-flex-align:start;
                        align-items:flex-start
                    }
                    .el-row--flex.is-align-middle {
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center
                    }
                    .el-row--flex.is-align-bottom {
                        -webkit-box-align:end;
                        -ms-flex-align:end;
                        align-items:flex-end
                    }
                    [class*=el-col-] {
                        float:left;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box
                    }
                    .el-col-0 {
                        width:0%
                    }
                    .el-col-pull-0 {
                        right:0
                    }
                    .el-col-push-0 {
                        left:0
                    }
                    .el-col-1 {
                        width:4.16667%
                    }
                    .el-col-offset-1 {
                        margin-left:4.16667%
                    }
                    .el-col-pull-1 {
                        right:4.16667%
                    }
                    .el-col-push-1 {
                        left:4.16667%
                    }
                    .el-col-2 {
                        width:8.33333%
                    }
                    .el-col-offset-2 {
                        margin-left:8.33333%
                    }
                    .el-col-pull-2 {
                        right:8.33333%
                    }
                    .el-col-push-2 {
                        left:8.33333%
                    }
                    .el-col-3 {
                        width:12.5%
                    }
                    .el-col-offset-3 {
                        margin-left:12.5%
                    }
                    .el-col-pull-3 {
                        right:12.5%
                    }
                    .el-col-push-3 {
                        left:12.5%
                    }
                    .el-col-4 {
                        width:16.66667%
                    }
                    .el-col-offset-4 {
                        margin-left:16.66667%
                    }
                    .el-col-pull-4 {
                        right:16.66667%
                    }
                    .el-col-push-4 {
                        left:16.66667%
                    }
                    .el-col-5 {
                        width:20.83333%
                    }
                    .el-col-offset-5 {
                        margin-left:20.83333%
                    }
                    .el-col-pull-5 {
                        right:20.83333%
                    }
                    .el-col-push-5 {
                        left:20.83333%
                    }
                    .el-col-6 {
                        width:25%
                    }
                    .el-col-offset-6 {
                        margin-left:25%
                    }
                    .el-col-pull-6 {
                        right:25%
                    }
                    .el-col-push-6 {
                        left:25%
                    }
                    .el-col-7 {
                        width:29.16667%
                    }
                    .el-col-offset-7 {
                        margin-left:29.16667%
                    }
                    .el-col-pull-7 {
                        right:29.16667%
                    }
                    .el-col-push-7 {
                        left:29.16667%
                    }
                    .el-col-8 {
                        width:33.33333%
                    }
                    .el-col-offset-8 {
                        margin-left:33.33333%
                    }
                    .el-col-pull-8 {
                        right:33.33333%
                    }
                    .el-col-push-8 {
                        left:33.33333%
                    }
                    .el-col-9 {
                        width:37.5%
                    }
                    .el-col-offset-9 {
                        margin-left:37.5%
                    }
                    .el-col-pull-9 {
                        right:37.5%
                    }
                    .el-col-push-9 {
                        left:37.5%
                    }
                    .el-col-10 {
                        width:41.66667%
                    }
                    .el-col-offset-10 {
                        margin-left:41.66667%
                    }
                    .el-col-pull-10 {
                        right:41.66667%
                    }
                    .el-col-push-10 {
                        left:41.66667%
                    }
                    .el-col-11 {
                        width:45.83333%
                    }
                    .el-col-offset-11 {
                        margin-left:45.83333%
                    }
                    .el-col-pull-11 {
                        right:45.83333%
                    }
                    .el-col-push-11 {
                        left:45.83333%
                    }
                    .el-col-12 {
                        width:50%
                    }
                    .el-col-offset-12 {
                        margin-left:50%
                    }
                    .el-col-pull-12 {
                        right:50%
                    }
                    .el-col-push-12 {
                        left:50%
                    }
                    .el-col-13 {
                        width:54.16667%
                    }
                    .el-col-offset-13 {
                        margin-left:54.16667%
                    }
                    .el-col-pull-13 {
                        right:54.16667%
                    }
                    .el-col-push-13 {
                        left:54.16667%
                    }
                    .el-col-14 {
                        width:58.33333%
                    }
                    .el-col-offset-14 {
                        margin-left:58.33333%
                    }
                    .el-col-pull-14 {
                        right:58.33333%
                    }
                    .el-col-push-14 {
                        left:58.33333%
                    }
                    .el-col-15 {
                        width:62.5%
                    }
                    .el-col-offset-15 {
                        margin-left:62.5%
                    }
                    .el-col-pull-15 {
                        right:62.5%
                    }
                    .el-col-push-15 {
                        left:62.5%
                    }
                    .el-col-16 {
                        width:66.66667%
                    }
                    .el-col-offset-16 {
                        margin-left:66.66667%
                    }
                    .el-col-pull-16 {
                        right:66.66667%
                    }
                    .el-col-push-16 {
                        left:66.66667%
                    }
                    .el-col-17 {
                        width:70.83333%
                    }
                    .el-col-offset-17 {
                        margin-left:70.83333%
                    }
                    .el-col-pull-17 {
                        right:70.83333%
                    }
                    .el-col-push-17 {
                        left:70.83333%
                    }
                    .el-col-18 {
                        width:75%
                    }
                    .el-col-offset-18 {
                        margin-left:75%
                    }
                    .el-col-pull-18 {
                        right:75%
                    }
                    .el-col-push-18 {
                        left:75%
                    }
                    .el-col-19 {
                        width:79.16667%
                    }
                    .el-col-offset-19 {
                        margin-left:79.16667%
                    }
                    .el-col-pull-19 {
                        right:79.16667%
                    }
                    .el-col-push-19 {
                        left:79.16667%
                    }
                    .el-col-20 {
                        width:83.33333%
                    }
                    .el-col-offset-20 {
                        margin-left:83.33333%
                    }
                    .el-col-pull-20 {
                        right:83.33333%
                    }
                    .el-col-push-20 {
                        left:83.33333%
                    }
                    .el-col-21 {
                        width:87.5%
                    }
                    .el-col-offset-21 {
                        margin-left:87.5%
                    }
                    .el-col-pull-21 {
                        right:87.5%
                    }
                    .el-col-push-21 {
                        left:87.5%
                    }
                    .el-col-22 {
                        width:91.66667%
                    }
                    .el-col-offset-22 {
                        margin-left:91.66667%
                    }
                    .el-col-pull-22 {
                        right:91.66667%
                    }
                    .el-col-push-22 {
                        left:91.66667%
                    }
                    .el-col-23 {
                        width:95.83333%
                    }
                    .el-col-offset-23 {
                        margin-left:95.83333%
                    }
                    .el-col-pull-23 {
                        right:95.83333%
                    }
                    .el-col-push-23 {
                        left:95.83333%
                    }
                    .el-col-24 {
                        width:100%
                    }
                    .el-col-offset-24 {
                        margin-left:100%
                    }
                    .el-col-pull-24 {
                        right:100%
                    }
                    .el-col-push-24 {
                        left:100%
                    }
                    @media only screen and (max-width:767px) {
                        .el-col-xs-0 {
                        display:none;
                        width:0%
                    }
                    .el-col-xs-offset-0 {
                        margin-left:0
                    }
                    .el-col-xs-pull-0 {
                        position:relative;
                        right:0
                    }
                    .el-col-xs-push-0 {
                        position:relative;
                        left:0
                    }
                    .el-col-xs-1 {
                        width:4.16667%
                    }
                    .el-col-xs-offset-1 {
                        margin-left:4.16667%
                    }
                    .el-col-xs-pull-1 {
                        position:relative;
                        right:4.16667%
                    }
                    .el-col-xs-push-1 {
                        position:relative;
                        left:4.16667%
                    }
                    .el-col-xs-2 {
                        width:8.33333%
                    }
                    .el-col-xs-offset-2 {
                        margin-left:8.33333%
                    }
                    .el-col-xs-pull-2 {
                        position:relative;
                        right:8.33333%
                    }
                    .el-col-xs-push-2 {
                        position:relative;
                        left:8.33333%
                    }
                    .el-col-xs-3 {
                        width:12.5%
                    }
                    .el-col-xs-offset-3 {
                        margin-left:12.5%
                    }
                    .el-col-xs-pull-3 {
                        position:relative;
                        right:12.5%
                    }
                    .el-col-xs-push-3 {
                        position:relative;
                        left:12.5%
                    }
                    .el-col-xs-4 {
                        width:16.66667%
                    }
                    .el-col-xs-offset-4 {
                        margin-left:16.66667%
                    }
                    .el-col-xs-pull-4 {
                        position:relative;
                        right:16.66667%
                    }
                    .el-col-xs-push-4 {
                        position:relative;
                        left:16.66667%
                    }
                    .el-col-xs-5 {
                        width:20.83333%
                    }
                    .el-col-xs-offset-5 {
                        margin-left:20.83333%
                    }
                    .el-col-xs-pull-5 {
                        position:relative;
                        right:20.83333%
                    }
                    .el-col-xs-push-5 {
                        position:relative;
                        left:20.83333%
                    }
                    .el-col-xs-6 {
                        width:25%
                    }
                    .el-col-xs-offset-6 {
                        margin-left:25%
                    }
                    .el-col-xs-pull-6 {
                        position:relative;
                        right:25%
                    }
                    .el-col-xs-push-6 {
                        position:relative;
                        left:25%
                    }
                    .el-col-xs-7 {
                        width:29.16667%
                    }
                    .el-col-xs-offset-7 {
                        margin-left:29.16667%
                    }
                    .el-col-xs-pull-7 {
                        position:relative;
                        right:29.16667%
                    }
                    .el-col-xs-push-7 {
                        position:relative;
                        left:29.16667%
                    }
                    .el-col-xs-8 {
                        width:33.33333%
                    }
                    .el-col-xs-offset-8 {
                        margin-left:33.33333%
                    }
                    .el-col-xs-pull-8 {
                        position:relative;
                        right:33.33333%
                    }
                    .el-col-xs-push-8 {
                        position:relative;
                        left:33.33333%
                    }
                    .el-col-xs-9 {
                        width:37.5%
                    }
                    .el-col-xs-offset-9 {
                        margin-left:37.5%
                    }
                    .el-col-xs-pull-9 {
                        position:relative;
                        right:37.5%
                    }
                    .el-col-xs-push-9 {
                        position:relative;
                        left:37.5%
                    }
                    .el-col-xs-10 {
                        width:41.66667%
                    }
                    .el-col-xs-offset-10 {
                        margin-left:41.66667%
                    }
                    .el-col-xs-pull-10 {
                        position:relative;
                        right:41.66667%
                    }
                    .el-col-xs-push-10 {
                        position:relative;
                        left:41.66667%
                    }
                    .el-col-xs-11 {
                        width:45.83333%
                    }
                    .el-col-xs-offset-11 {
                        margin-left:45.83333%
                    }
                    .el-col-xs-pull-11 {
                        position:relative;
                        right:45.83333%
                    }
                    .el-col-xs-push-11 {
                        position:relative;
                        left:45.83333%
                    }
                    .el-col-xs-12 {
                        width:50%
                    }
                    .el-col-xs-offset-12 {
                        margin-left:50%
                    }
                    .el-col-xs-pull-12 {
                        position:relative;
                        right:50%
                    }
                    .el-col-xs-push-12 {
                        position:relative;
                        left:50%
                    }
                    .el-col-xs-13 {
                        width:54.16667%
                    }
                    .el-col-xs-offset-13 {
                        margin-left:54.16667%
                    }
                    .el-col-xs-pull-13 {
                        position:relative;
                        right:54.16667%
                    }
                    .el-col-xs-push-13 {
                        position:relative;
                        left:54.16667%
                    }
                    .el-col-xs-14 {
                        width:58.33333%
                    }
                    .el-col-xs-offset-14 {
                        margin-left:58.33333%
                    }
                    .el-col-xs-pull-14 {
                        position:relative;
                        right:58.33333%
                    }
                    .el-col-xs-push-14 {
                        position:relative;
                        left:58.33333%
                    }
                    .el-col-xs-15 {
                        width:62.5%
                    }
                    .el-col-xs-offset-15 {
                        margin-left:62.5%
                    }
                    .el-col-xs-pull-15 {
                        position:relative;
                        right:62.5%
                    }
                    .el-col-xs-push-15 {
                        position:relative;
                        left:62.5%
                    }
                    .el-col-xs-16 {
                        width:66.66667%
                    }
                    .el-col-xs-offset-16 {
                        margin-left:66.66667%
                    }
                    .el-col-xs-pull-16 {
                        position:relative;
                        right:66.66667%
                    }
                    .el-col-xs-push-16 {
                        position:relative;
                        left:66.66667%
                    }
                    .el-col-xs-17 {
                        width:70.83333%
                    }
                    .el-col-xs-offset-17 {
                        margin-left:70.83333%
                    }
                    .el-col-xs-pull-17 {
                        position:relative;
                        right:70.83333%
                    }
                    .el-col-xs-push-17 {
                        position:relative;
                        left:70.83333%
                    }
                    .el-col-xs-18 {
                        width:75%
                    }
                    .el-col-xs-offset-18 {
                        margin-left:75%
                    }
                    .el-col-xs-pull-18 {
                        position:relative;
                        right:75%
                    }
                    .el-col-xs-push-18 {
                        position:relative;
                        left:75%
                    }
                    .el-col-xs-19 {
                        width:79.16667%
                    }
                    .el-col-xs-offset-19 {
                        margin-left:79.16667%
                    }
                    .el-col-xs-pull-19 {
                        position:relative;
                        right:79.16667%
                    }
                    .el-col-xs-push-19 {
                        position:relative;
                        left:79.16667%
                    }
                    .el-col-xs-20 {
                        width:83.33333%
                    }
                    .el-col-xs-offset-20 {
                        margin-left:83.33333%
                    }
                    .el-col-xs-pull-20 {
                        position:relative;
                        right:83.33333%
                    }
                    .el-col-xs-push-20 {
                        position:relative;
                        left:83.33333%
                    }
                    .el-col-xs-21 {
                        width:87.5%
                    }
                    .el-col-xs-offset-21 {
                        margin-left:87.5%
                    }
                    .el-col-xs-pull-21 {
                        position:relative;
                        right:87.5%
                    }
                    .el-col-xs-push-21 {
                        position:relative;
                        left:87.5%
                    }
                    .el-col-xs-22 {
                        width:91.66667%
                    }
                    .el-col-xs-offset-22 {
                        margin-left:91.66667%
                    }
                    .el-col-xs-pull-22 {
                        position:relative;
                        right:91.66667%
                    }
                    .el-col-xs-push-22 {
                        position:relative;
                        left:91.66667%
                    }
                    .el-col-xs-23 {
                        width:95.83333%
                    }
                    .el-col-xs-offset-23 {
                        margin-left:95.83333%
                    }
                    .el-col-xs-pull-23 {
                        position:relative;
                        right:95.83333%
                    }
                    .el-col-xs-push-23 {
                        position:relative;
                        left:95.83333%
                    }
                    .el-col-xs-24 {
                        width:100%
                    }
                    .el-col-xs-offset-24 {
                        margin-left:100%
                    }
                    .el-col-xs-pull-24 {
                        position:relative;
                        right:100%
                    }
                    .el-col-xs-push-24 {
                        position:relative;
                        left:100%
                    }
                    }@media only screen and (min-width:768px) {
                        .el-col-sm-0 {
                        display:none;
                        width:0%
                    }
                    .el-col-sm-offset-0 {
                        margin-left:0
                    }
                    .el-col-sm-pull-0 {
                        position:relative;
                        right:0
                    }
                    .el-col-sm-push-0 {
                        position:relative;
                        left:0
                    }
                    .el-col-sm-1 {
                        width:4.16667%
                    }
                    .el-col-sm-offset-1 {
                        margin-left:4.16667%
                    }
                    .el-col-sm-pull-1 {
                        position:relative;
                        right:4.16667%
                    }
                    .el-col-sm-push-1 {
                        position:relative;
                        left:4.16667%
                    }
                    .el-col-sm-2 {
                        width:8.33333%
                    }
                    .el-col-sm-offset-2 {
                        margin-left:8.33333%
                    }
                    .el-col-sm-pull-2 {
                        position:relative;
                        right:8.33333%
                    }
                    .el-col-sm-push-2 {
                        position:relative;
                        left:8.33333%
                    }
                    .el-col-sm-3 {
                        width:12.5%
                    }
                    .el-col-sm-offset-3 {
                        margin-left:12.5%
                    }
                    .el-col-sm-pull-3 {
                        position:relative;
                        right:12.5%
                    }
                    .el-col-sm-push-3 {
                        position:relative;
                        left:12.5%
                    }
                    .el-col-sm-4 {
                        width:16.66667%
                    }
                    .el-col-sm-offset-4 {
                        margin-left:16.66667%
                    }
                    .el-col-sm-pull-4 {
                        position:relative;
                        right:16.66667%
                    }
                    .el-col-sm-push-4 {
                        position:relative;
                        left:16.66667%
                    }
                    .el-col-sm-5 {
                        width:20.83333%
                    }
                    .el-col-sm-offset-5 {
                        margin-left:20.83333%
                    }
                    .el-col-sm-pull-5 {
                        position:relative;
                        right:20.83333%
                    }
                    .el-col-sm-push-5 {
                        position:relative;
                        left:20.83333%
                    }
                    .el-col-sm-6 {
                        width:25%
                    }
                    .el-col-sm-offset-6 {
                        margin-left:25%
                    }
                    .el-col-sm-pull-6 {
                        position:relative;
                        right:25%
                    }
                    .el-col-sm-push-6 {
                        position:relative;
                        left:25%
                    }
                    .el-col-sm-7 {
                        width:29.16667%
                    }
                    .el-col-sm-offset-7 {
                        margin-left:29.16667%
                    }
                    .el-col-sm-pull-7 {
                        position:relative;
                        right:29.16667%
                    }
                    .el-col-sm-push-7 {
                        position:relative;
                        left:29.16667%
                    }
                    .el-col-sm-8 {
                        width:33.33333%
                    }
                    .el-col-sm-offset-8 {
                        margin-left:33.33333%
                    }
                    .el-col-sm-pull-8 {
                        position:relative;
                        right:33.33333%
                    }
                    .el-col-sm-push-8 {
                        position:relative;
                        left:33.33333%
                    }
                    .el-col-sm-9 {
                        width:37.5%
                    }
                    .el-col-sm-offset-9 {
                        margin-left:37.5%
                    }
                    .el-col-sm-pull-9 {
                        position:relative;
                        right:37.5%
                    }
                    .el-col-sm-push-9 {
                        position:relative;
                        left:37.5%
                    }
                    .el-col-sm-10 {
                        width:41.66667%
                    }
                    .el-col-sm-offset-10 {
                        margin-left:41.66667%
                    }
                    .el-col-sm-pull-10 {
                        position:relative;
                        right:41.66667%
                    }
                    .el-col-sm-push-10 {
                        position:relative;
                        left:41.66667%
                    }
                    .el-col-sm-11 {
                        width:45.83333%
                    }
                    .el-col-sm-offset-11 {
                        margin-left:45.83333%
                    }
                    .el-col-sm-pull-11 {
                        position:relative;
                        right:45.83333%
                    }
                    .el-col-sm-push-11 {
                        position:relative;
                        left:45.83333%
                    }
                    .el-col-sm-12 {
                        width:50%
                    }
                    .el-col-sm-offset-12 {
                        margin-left:50%
                    }
                    .el-col-sm-pull-12 {
                        position:relative;
                        right:50%
                    }
                    .el-col-sm-push-12 {
                        position:relative;
                        left:50%
                    }
                    .el-col-sm-13 {
                        width:54.16667%
                    }
                    .el-col-sm-offset-13 {
                        margin-left:54.16667%
                    }
                    .el-col-sm-pull-13 {
                        position:relative;
                        right:54.16667%
                    }
                    .el-col-sm-push-13 {
                        position:relative;
                        left:54.16667%
                    }
                    .el-col-sm-14 {
                        width:58.33333%
                    }
                    .el-col-sm-offset-14 {
                        margin-left:58.33333%
                    }
                    .el-col-sm-pull-14 {
                        position:relative;
                        right:58.33333%
                    }
                    .el-col-sm-push-14 {
                        position:relative;
                        left:58.33333%
                    }
                    .el-col-sm-15 {
                        width:62.5%
                    }
                    .el-col-sm-offset-15 {
                        margin-left:62.5%
                    }
                    .el-col-sm-pull-15 {
                        position:relative;
                        right:62.5%
                    }
                    .el-col-sm-push-15 {
                        position:relative;
                        left:62.5%
                    }
                    .el-col-sm-16 {
                        width:66.66667%
                    }
                    .el-col-sm-offset-16 {
                        margin-left:66.66667%
                    }
                    .el-col-sm-pull-16 {
                        position:relative;
                        right:66.66667%
                    }
                    .el-col-sm-push-16 {
                        position:relative;
                        left:66.66667%
                    }
                    .el-col-sm-17 {
                        width:70.83333%
                    }
                    .el-col-sm-offset-17 {
                        margin-left:70.83333%
                    }
                    .el-col-sm-pull-17 {
                        position:relative;
                        right:70.83333%
                    }
                    .el-col-sm-push-17 {
                        position:relative;
                        left:70.83333%
                    }
                    .el-col-sm-18 {
                        width:75%
                    }
                    .el-col-sm-offset-18 {
                        margin-left:75%
                    }
                    .el-col-sm-pull-18 {
                        position:relative;
                        right:75%
                    }
                    .el-col-sm-push-18 {
                        position:relative;
                        left:75%
                    }
                    .el-col-sm-19 {
                        width:79.16667%
                    }
                    .el-col-sm-offset-19 {
                        margin-left:79.16667%
                    }
                    .el-col-sm-pull-19 {
                        position:relative;
                        right:79.16667%
                    }
                    .el-col-sm-push-19 {
                        position:relative;
                        left:79.16667%
                    }
                    .el-col-sm-20 {
                        width:83.33333%
                    }
                    .el-col-sm-offset-20 {
                        margin-left:83.33333%
                    }
                    .el-col-sm-pull-20 {
                        position:relative;
                        right:83.33333%
                    }
                    .el-col-sm-push-20 {
                        position:relative;
                        left:83.33333%
                    }
                    .el-col-sm-21 {
                        width:87.5%
                    }
                    .el-col-sm-offset-21 {
                        margin-left:87.5%
                    }
                    .el-col-sm-pull-21 {
                        position:relative;
                        right:87.5%
                    }
                    .el-col-sm-push-21 {
                        position:relative;
                        left:87.5%
                    }
                    .el-col-sm-22 {
                        width:91.66667%
                    }
                    .el-col-sm-offset-22 {
                        margin-left:91.66667%
                    }
                    .el-col-sm-pull-22 {
                        position:relative;
                        right:91.66667%
                    }
                    .el-col-sm-push-22 {
                        position:relative;
                        left:91.66667%
                    }
                    .el-col-sm-23 {
                        width:95.83333%
                    }
                    .el-col-sm-offset-23 {
                        margin-left:95.83333%
                    }
                    .el-col-sm-pull-23 {
                        position:relative;
                        right:95.83333%
                    }
                    .el-col-sm-push-23 {
                        position:relative;
                        left:95.83333%
                    }
                    .el-col-sm-24 {
                        width:100%
                    }
                    .el-col-sm-offset-24 {
                        margin-left:100%
                    }
                    .el-col-sm-pull-24 {
                        position:relative;
                        right:100%
                    }
                    .el-col-sm-push-24 {
                        position:relative;
                        left:100%
                    }
                    }@media only screen and (min-width:992px) {
                        .el-col-md-0 {
                        display:none;
                        width:0%
                    }
                    .el-col-md-offset-0 {
                        margin-left:0
                    }
                    .el-col-md-pull-0 {
                        position:relative;
                        right:0
                    }
                    .el-col-md-push-0 {
                        position:relative;
                        left:0
                    }
                    .el-col-md-1 {
                        width:4.16667%
                    }
                    .el-col-md-offset-1 {
                        margin-left:4.16667%
                    }
                    .el-col-md-pull-1 {
                        position:relative;
                        right:4.16667%
                    }
                    .el-col-md-push-1 {
                        position:relative;
                        left:4.16667%
                    }
                    .el-col-md-2 {
                        width:8.33333%
                    }
                    .el-col-md-offset-2 {
                        margin-left:8.33333%
                    }
                    .el-col-md-pull-2 {
                        position:relative;
                        right:8.33333%
                    }
                    .el-col-md-push-2 {
                        position:relative;
                        left:8.33333%
                    }
                    .el-col-md-3 {
                        width:12.5%
                    }
                    .el-col-md-offset-3 {
                        margin-left:12.5%
                    }
                    .el-col-md-pull-3 {
                        position:relative;
                        right:12.5%
                    }
                    .el-col-md-push-3 {
                        position:relative;
                        left:12.5%
                    }
                    .el-col-md-4 {
                        width:16.66667%
                    }
                    .el-col-md-offset-4 {
                        margin-left:16.66667%
                    }
                    .el-col-md-pull-4 {
                        position:relative;
                        right:16.66667%
                    }
                    .el-col-md-push-4 {
                        position:relative;
                        left:16.66667%
                    }
                    .el-col-md-5 {
                        width:20.83333%
                    }
                    .el-col-md-offset-5 {
                        margin-left:20.83333%
                    }
                    .el-col-md-pull-5 {
                        position:relative;
                        right:20.83333%
                    }
                    .el-col-md-push-5 {
                        position:relative;
                        left:20.83333%
                    }
                    .el-col-md-6 {
                        width:25%
                    }
                    .el-col-md-offset-6 {
                        margin-left:25%
                    }
                    .el-col-md-pull-6 {
                        position:relative;
                        right:25%
                    }
                    .el-col-md-push-6 {
                        position:relative;
                        left:25%
                    }
                    .el-col-md-7 {
                        width:29.16667%
                    }
                    .el-col-md-offset-7 {
                        margin-left:29.16667%
                    }
                    .el-col-md-pull-7 {
                        position:relative;
                        right:29.16667%
                    }
                    .el-col-md-push-7 {
                        position:relative;
                        left:29.16667%
                    }
                    .el-col-md-8 {
                        width:33.33333%
                    }
                    .el-col-md-offset-8 {
                        margin-left:33.33333%
                    }
                    .el-col-md-pull-8 {
                        position:relative;
                        right:33.33333%
                    }
                    .el-col-md-push-8 {
                        position:relative;
                        left:33.33333%
                    }
                    .el-col-md-9 {
                        width:37.5%
                    }
                    .el-col-md-offset-9 {
                        margin-left:37.5%
                    }
                    .el-col-md-pull-9 {
                        position:relative;
                        right:37.5%
                    }
                    .el-col-md-push-9 {
                        position:relative;
                        left:37.5%
                    }
                    .el-col-md-10 {
                        width:41.66667%
                    }
                    .el-col-md-offset-10 {
                        margin-left:41.66667%
                    }
                    .el-col-md-pull-10 {
                        position:relative;
                        right:41.66667%
                    }
                    .el-col-md-push-10 {
                        position:relative;
                        left:41.66667%
                    }
                    .el-col-md-11 {
                        width:45.83333%
                    }
                    .el-col-md-offset-11 {
                        margin-left:45.83333%
                    }
                    .el-col-md-pull-11 {
                        position:relative;
                        right:45.83333%
                    }
                    .el-col-md-push-11 {
                        position:relative;
                        left:45.83333%
                    }
                    .el-col-md-12 {
                        width:50%
                    }
                    .el-col-md-offset-12 {
                        margin-left:50%
                    }
                    .el-col-md-pull-12 {
                        position:relative;
                        right:50%
                    }
                    .el-col-md-push-12 {
                        position:relative;
                        left:50%
                    }
                    .el-col-md-13 {
                        width:54.16667%
                    }
                    .el-col-md-offset-13 {
                        margin-left:54.16667%
                    }
                    .el-col-md-pull-13 {
                        position:relative;
                        right:54.16667%
                    }
                    .el-col-md-push-13 {
                        position:relative;
                        left:54.16667%
                    }
                    .el-col-md-14 {
                        width:58.33333%
                    }
                    .el-col-md-offset-14 {
                        margin-left:58.33333%
                    }
                    .el-col-md-pull-14 {
                        position:relative;
                        right:58.33333%
                    }
                    .el-col-md-push-14 {
                        position:relative;
                        left:58.33333%
                    }
                    .el-col-md-15 {
                        width:62.5%
                    }
                    .el-col-md-offset-15 {
                        margin-left:62.5%
                    }
                    .el-col-md-pull-15 {
                        position:relative;
                        right:62.5%
                    }
                    .el-col-md-push-15 {
                        position:relative;
                        left:62.5%
                    }
                    .el-col-md-16 {
                        width:66.66667%
                    }
                    .el-col-md-offset-16 {
                        margin-left:66.66667%
                    }
                    .el-col-md-pull-16 {
                        position:relative;
                        right:66.66667%
                    }
                    .el-col-md-push-16 {
                        position:relative;
                        left:66.66667%
                    }
                    .el-col-md-17 {
                        width:70.83333%
                    }
                    .el-col-md-offset-17 {
                        margin-left:70.83333%
                    }
                    .el-col-md-pull-17 {
                        position:relative;
                        right:70.83333%
                    }
                    .el-col-md-push-17 {
                        position:relative;
                        left:70.83333%
                    }
                    .el-col-md-18 {
                        width:75%
                    }
                    .el-col-md-offset-18 {
                        margin-left:75%
                    }
                    .el-col-md-pull-18 {
                        position:relative;
                        right:75%
                    }
                    .el-col-md-push-18 {
                        position:relative;
                        left:75%
                    }
                    .el-col-md-19 {
                        width:79.16667%
                    }
                    .el-col-md-offset-19 {
                        margin-left:79.16667%
                    }
                    .el-col-md-pull-19 {
                        position:relative;
                        right:79.16667%
                    }
                    .el-col-md-push-19 {
                        position:relative;
                        left:79.16667%
                    }
                    .el-col-md-20 {
                        width:83.33333%
                    }
                    .el-col-md-offset-20 {
                        margin-left:83.33333%
                    }
                    .el-col-md-pull-20 {
                        position:relative;
                        right:83.33333%
                    }
                    .el-col-md-push-20 {
                        position:relative;
                        left:83.33333%
                    }
                    .el-col-md-21 {
                        width:87.5%
                    }
                    .el-col-md-offset-21 {
                        margin-left:87.5%
                    }
                    .el-col-md-pull-21 {
                        position:relative;
                        right:87.5%
                    }
                    .el-col-md-push-21 {
                        position:relative;
                        left:87.5%
                    }
                    .el-col-md-22 {
                        width:91.66667%
                    }
                    .el-col-md-offset-22 {
                        margin-left:91.66667%
                    }
                    .el-col-md-pull-22 {
                        position:relative;
                        right:91.66667%
                    }
                    .el-col-md-push-22 {
                        position:relative;
                        left:91.66667%
                    }
                    .el-col-md-23 {
                        width:95.83333%
                    }
                    .el-col-md-offset-23 {
                        margin-left:95.83333%
                    }
                    .el-col-md-pull-23 {
                        position:relative;
                        right:95.83333%
                    }
                    .el-col-md-push-23 {
                        position:relative;
                        left:95.83333%
                    }
                    .el-col-md-24 {
                        width:100%
                    }
                    .el-col-md-offset-24 {
                        margin-left:100%
                    }
                    .el-col-md-pull-24 {
                        position:relative;
                        right:100%
                    }
                    .el-col-md-push-24 {
                        position:relative;
                        left:100%
                    }
                    }@media only screen and (min-width:1200px) {
                        .el-col-lg-0 {
                        display:none;
                        width:0%
                    }
                    .el-col-lg-offset-0 {
                        margin-left:0
                    }
                    .el-col-lg-pull-0 {
                        position:relative;
                        right:0
                    }
                    .el-col-lg-push-0 {
                        position:relative;
                        left:0
                    }
                    .el-col-lg-1 {
                        width:4.16667%
                    }
                    .el-col-lg-offset-1 {
                        margin-left:4.16667%
                    }
                    .el-col-lg-pull-1 {
                        position:relative;
                        right:4.16667%
                    }
                    .el-col-lg-push-1 {
                        position:relative;
                        left:4.16667%
                    }
                    .el-col-lg-2 {
                        width:8.33333%
                    }
                    .el-col-lg-offset-2 {
                        margin-left:8.33333%
                    }
                    .el-col-lg-pull-2 {
                        position:relative;
                        right:8.33333%
                    }
                    .el-col-lg-push-2 {
                        position:relative;
                        left:8.33333%
                    }
                    .el-col-lg-3 {
                        width:12.5%
                    }
                    .el-col-lg-offset-3 {
                        margin-left:12.5%
                    }
                    .el-col-lg-pull-3 {
                        position:relative;
                        right:12.5%
                    }
                    .el-col-lg-push-3 {
                        position:relative;
                        left:12.5%
                    }
                    .el-col-lg-4 {
                        width:16.66667%
                    }
                    .el-col-lg-offset-4 {
                        margin-left:16.66667%
                    }
                    .el-col-lg-pull-4 {
                        position:relative;
                        right:16.66667%
                    }
                    .el-col-lg-push-4 {
                        position:relative;
                        left:16.66667%
                    }
                    .el-col-lg-5 {
                        width:20.83333%
                    }
                    .el-col-lg-offset-5 {
                        margin-left:20.83333%
                    }
                    .el-col-lg-pull-5 {
                        position:relative;
                        right:20.83333%
                    }
                    .el-col-lg-push-5 {
                        position:relative;
                        left:20.83333%
                    }
                    .el-col-lg-6 {
                        width:25%
                    }
                    .el-col-lg-offset-6 {
                        margin-left:25%
                    }
                    .el-col-lg-pull-6 {
                        position:relative;
                        right:25%
                    }
                    .el-col-lg-push-6 {
                        position:relative;
                        left:25%
                    }
                    .el-col-lg-7 {
                        width:29.16667%
                    }
                    .el-col-lg-offset-7 {
                        margin-left:29.16667%
                    }
                    .el-col-lg-pull-7 {
                        position:relative;
                        right:29.16667%
                    }
                    .el-col-lg-push-7 {
                        position:relative;
                        left:29.16667%
                    }
                    .el-col-lg-8 {
                        width:33.33333%
                    }
                    .el-col-lg-offset-8 {
                        margin-left:33.33333%
                    }
                    .el-col-lg-pull-8 {
                        position:relative;
                        right:33.33333%
                    }
                    .el-col-lg-push-8 {
                        position:relative;
                        left:33.33333%
                    }
                    .el-col-lg-9 {
                        width:37.5%
                    }
                    .el-col-lg-offset-9 {
                        margin-left:37.5%
                    }
                    .el-col-lg-pull-9 {
                        position:relative;
                        right:37.5%
                    }
                    .el-col-lg-push-9 {
                        position:relative;
                        left:37.5%
                    }
                    .el-col-lg-10 {
                        width:41.66667%
                    }
                    .el-col-lg-offset-10 {
                        margin-left:41.66667%
                    }
                    .el-col-lg-pull-10 {
                        position:relative;
                        right:41.66667%
                    }
                    .el-col-lg-push-10 {
                        position:relative;
                        left:41.66667%
                    }
                    .el-col-lg-11 {
                        width:45.83333%
                    }
                    .el-col-lg-offset-11 {
                        margin-left:45.83333%
                    }
                    .el-col-lg-pull-11 {
                        position:relative;
                        right:45.83333%
                    }
                    .el-col-lg-push-11 {
                        position:relative;
                        left:45.83333%
                    }
                    .el-col-lg-12 {
                        width:50%
                    }
                    .el-col-lg-offset-12 {
                        margin-left:50%
                    }
                    .el-col-lg-pull-12 {
                        position:relative;
                        right:50%
                    }
                    .el-col-lg-push-12 {
                        position:relative;
                        left:50%
                    }
                    .el-col-lg-13 {
                        width:54.16667%
                    }
                    .el-col-lg-offset-13 {
                        margin-left:54.16667%
                    }
                    .el-col-lg-pull-13 {
                        position:relative;
                        right:54.16667%
                    }
                    .el-col-lg-push-13 {
                        position:relative;
                        left:54.16667%
                    }
                    .el-col-lg-14 {
                        width:58.33333%
                    }
                    .el-col-lg-offset-14 {
                        margin-left:58.33333%
                    }
                    .el-col-lg-pull-14 {
                        position:relative;
                        right:58.33333%
                    }
                    .el-col-lg-push-14 {
                        position:relative;
                        left:58.33333%
                    }
                    .el-col-lg-15 {
                        width:62.5%
                    }
                    .el-col-lg-offset-15 {
                        margin-left:62.5%
                    }
                    .el-col-lg-pull-15 {
                        position:relative;
                        right:62.5%
                    }
                    .el-col-lg-push-15 {
                        position:relative;
                        left:62.5%
                    }
                    .el-col-lg-16 {
                        width:66.66667%
                    }
                    .el-col-lg-offset-16 {
                        margin-left:66.66667%
                    }
                    .el-col-lg-pull-16 {
                        position:relative;
                        right:66.66667%
                    }
                    .el-col-lg-push-16 {
                        position:relative;
                        left:66.66667%
                    }
                    .el-col-lg-17 {
                        width:70.83333%
                    }
                    .el-col-lg-offset-17 {
                        margin-left:70.83333%
                    }
                    .el-col-lg-pull-17 {
                        position:relative;
                        right:70.83333%
                    }
                    .el-col-lg-push-17 {
                        position:relative;
                        left:70.83333%
                    }
                    .el-col-lg-18 {
                        width:75%
                    }
                    .el-col-lg-offset-18 {
                        margin-left:75%
                    }
                    .el-col-lg-pull-18 {
                        position:relative;
                        right:75%
                    }
                    .el-col-lg-push-18 {
                        position:relative;
                        left:75%
                    }
                    .el-col-lg-19 {
                        width:79.16667%
                    }
                    .el-col-lg-offset-19 {
                        margin-left:79.16667%
                    }
                    .el-col-lg-pull-19 {
                        position:relative;
                        right:79.16667%
                    }
                    .el-col-lg-push-19 {
                        position:relative;
                        left:79.16667%
                    }
                    .el-col-lg-20 {
                        width:83.33333%
                    }
                    .el-col-lg-offset-20 {
                        margin-left:83.33333%
                    }
                    .el-col-lg-pull-20 {
                        position:relative;
                        right:83.33333%
                    }
                    .el-col-lg-push-20 {
                        position:relative;
                        left:83.33333%
                    }
                    .el-col-lg-21 {
                        width:87.5%
                    }
                    .el-col-lg-offset-21 {
                        margin-left:87.5%
                    }
                    .el-col-lg-pull-21 {
                        position:relative;
                        right:87.5%
                    }
                    .el-col-lg-push-21 {
                        position:relative;
                        left:87.5%
                    }
                    .el-col-lg-22 {
                        width:91.66667%
                    }
                    .el-col-lg-offset-22 {
                        margin-left:91.66667%
                    }
                    .el-col-lg-pull-22 {
                        position:relative;
                        right:91.66667%
                    }
                    .el-col-lg-push-22 {
                        position:relative;
                        left:91.66667%
                    }
                    .el-col-lg-23 {
                        width:95.83333%
                    }
                    .el-col-lg-offset-23 {
                        margin-left:95.83333%
                    }
                    .el-col-lg-pull-23 {
                        position:relative;
                        right:95.83333%
                    }
                    .el-col-lg-push-23 {
                        position:relative;
                        left:95.83333%
                    }
                    .el-col-lg-24 {
                        width:100%
                    }
                    .el-col-lg-offset-24 {
                        margin-left:100%
                    }
                    .el-col-lg-pull-24 {
                        position:relative;
                        right:100%
                    }
                    .el-col-lg-push-24 {
                        position:relative;
                        left:100%
                    }
                    }@media only screen and (min-width:1920px) {
                        .el-col-xl-0 {
                        display:none;
                        width:0%
                    }
                    .el-col-xl-offset-0 {
                        margin-left:0
                    }
                    .el-col-xl-pull-0 {
                        position:relative;
                        right:0
                    }
                    .el-col-xl-push-0 {
                        position:relative;
                        left:0
                    }
                    .el-col-xl-1 {
                        width:4.16667%
                    }
                    .el-col-xl-offset-1 {
                        margin-left:4.16667%
                    }
                    .el-col-xl-pull-1 {
                        position:relative;
                        right:4.16667%
                    }
                    .el-col-xl-push-1 {
                        position:relative;
                        left:4.16667%
                    }
                    .el-col-xl-2 {
                        width:8.33333%
                    }
                    .el-col-xl-offset-2 {
                        margin-left:8.33333%
                    }
                    .el-col-xl-pull-2 {
                        position:relative;
                        right:8.33333%
                    }
                    .el-col-xl-push-2 {
                        position:relative;
                        left:8.33333%
                    }
                    .el-col-xl-3 {
                        width:12.5%
                    }
                    .el-col-xl-offset-3 {
                        margin-left:12.5%
                    }
                    .el-col-xl-pull-3 {
                        position:relative;
                        right:12.5%
                    }
                    .el-col-xl-push-3 {
                        position:relative;
                        left:12.5%
                    }
                    .el-col-xl-4 {
                        width:16.66667%
                    }
                    .el-col-xl-offset-4 {
                        margin-left:16.66667%
                    }
                    .el-col-xl-pull-4 {
                        position:relative;
                        right:16.66667%
                    }
                    .el-col-xl-push-4 {
                        position:relative;
                        left:16.66667%
                    }
                    .el-col-xl-5 {
                        width:20.83333%
                    }
                    .el-col-xl-offset-5 {
                        margin-left:20.83333%
                    }
                    .el-col-xl-pull-5 {
                        position:relative;
                        right:20.83333%
                    }
                    .el-col-xl-push-5 {
                        position:relative;
                        left:20.83333%
                    }
                    .el-col-xl-6 {
                        width:25%
                    }
                    .el-col-xl-offset-6 {
                        margin-left:25%
                    }
                    .el-col-xl-pull-6 {
                        position:relative;
                        right:25%
                    }
                    .el-col-xl-push-6 {
                        position:relative;
                        left:25%
                    }
                    .el-col-xl-7 {
                        width:29.16667%
                    }
                    .el-col-xl-offset-7 {
                        margin-left:29.16667%
                    }
                    .el-col-xl-pull-7 {
                        position:relative;
                        right:29.16667%
                    }
                    .el-col-xl-push-7 {
                        position:relative;
                        left:29.16667%
                    }
                    .el-col-xl-8 {
                        width:33.33333%
                    }
                    .el-col-xl-offset-8 {
                        margin-left:33.33333%
                    }
                    .el-col-xl-pull-8 {
                        position:relative;
                        right:33.33333%
                    }
                    .el-col-xl-push-8 {
                        position:relative;
                        left:33.33333%
                    }
                    .el-col-xl-9 {
                        width:37.5%
                    }
                    .el-col-xl-offset-9 {
                        margin-left:37.5%
                    }
                    .el-col-xl-pull-9 {
                        position:relative;
                        right:37.5%
                    }
                    .el-col-xl-push-9 {
                        position:relative;
                        left:37.5%
                    }
                    .el-col-xl-10 {
                        width:41.66667%
                    }
                    .el-col-xl-offset-10 {
                        margin-left:41.66667%
                    }
                    .el-col-xl-pull-10 {
                        position:relative;
                        right:41.66667%
                    }
                    .el-col-xl-push-10 {
                        position:relative;
                        left:41.66667%
                    }
                    .el-col-xl-11 {
                        width:45.83333%
                    }
                    .el-col-xl-offset-11 {
                        margin-left:45.83333%
                    }
                    .el-col-xl-pull-11 {
                        position:relative;
                        right:45.83333%
                    }
                    .el-col-xl-push-11 {
                        position:relative;
                        left:45.83333%
                    }
                    .el-col-xl-12 {
                        width:50%
                    }
                    .el-col-xl-offset-12 {
                        margin-left:50%
                    }
                    .el-col-xl-pull-12 {
                        position:relative;
                        right:50%
                    }
                    .el-col-xl-push-12 {
                        position:relative;
                        left:50%
                    }
                    .el-col-xl-13 {
                        width:54.16667%
                    }
                    .el-col-xl-offset-13 {
                        margin-left:54.16667%
                    }
                    .el-col-xl-pull-13 {
                        position:relative;
                        right:54.16667%
                    }
                    .el-col-xl-push-13 {
                        position:relative;
                        left:54.16667%
                    }
                    .el-col-xl-14 {
                        width:58.33333%
                    }
                    .el-col-xl-offset-14 {
                        margin-left:58.33333%
                    }
                    .el-col-xl-pull-14 {
                        position:relative;
                        right:58.33333%
                    }
                    .el-col-xl-push-14 {
                        position:relative;
                        left:58.33333%
                    }
                    .el-col-xl-15 {
                        width:62.5%
                    }
                    .el-col-xl-offset-15 {
                        margin-left:62.5%
                    }
                    .el-col-xl-pull-15 {
                        position:relative;
                        right:62.5%
                    }
                    .el-col-xl-push-15 {
                        position:relative;
                        left:62.5%
                    }
                    .el-col-xl-16 {
                        width:66.66667%
                    }
                    .el-col-xl-offset-16 {
                        margin-left:66.66667%
                    }
                    .el-col-xl-pull-16 {
                        position:relative;
                        right:66.66667%
                    }
                    .el-col-xl-push-16 {
                        position:relative;
                        left:66.66667%
                    }
                    .el-col-xl-17 {
                        width:70.83333%
                    }
                    .el-col-xl-offset-17 {
                        margin-left:70.83333%
                    }
                    .el-col-xl-pull-17 {
                        position:relative;
                        right:70.83333%
                    }
                    .el-col-xl-push-17 {
                        position:relative;
                        left:70.83333%
                    }
                    .el-col-xl-18 {
                        width:75%
                    }
                    .el-col-xl-offset-18 {
                        margin-left:75%
                    }
                    .el-col-xl-pull-18 {
                        position:relative;
                        right:75%
                    }
                    .el-col-xl-push-18 {
                        position:relative;
                        left:75%
                    }
                    .el-col-xl-19 {
                        width:79.16667%
                    }
                    .el-col-xl-offset-19 {
                        margin-left:79.16667%
                    }
                    .el-col-xl-pull-19 {
                        position:relative;
                        right:79.16667%
                    }
                    .el-col-xl-push-19 {
                        position:relative;
                        left:79.16667%
                    }
                    .el-col-xl-20 {
                        width:83.33333%
                    }
                    .el-col-xl-offset-20 {
                        margin-left:83.33333%
                    }
                    .el-col-xl-pull-20 {
                        position:relative;
                        right:83.33333%
                    }
                    .el-col-xl-push-20 {
                        position:relative;
                        left:83.33333%
                    }
                    .el-col-xl-21 {
                        width:87.5%
                    }
                    .el-col-xl-offset-21 {
                        margin-left:87.5%
                    }
                    .el-col-xl-pull-21 {
                        position:relative;
                        right:87.5%
                    }
                    .el-col-xl-push-21 {
                        position:relative;
                        left:87.5%
                    }
                    .el-col-xl-22 {
                        width:91.66667%
                    }
                    .el-col-xl-offset-22 {
                        margin-left:91.66667%
                    }
                    .el-col-xl-pull-22 {
                        position:relative;
                        right:91.66667%
                    }
                    .el-col-xl-push-22 {
                        position:relative;
                        left:91.66667%
                    }
                    .el-col-xl-23 {
                        width:95.83333%
                    }
                    .el-col-xl-offset-23 {
                        margin-left:95.83333%
                    }
                    .el-col-xl-pull-23 {
                        position:relative;
                        right:95.83333%
                    }
                    .el-col-xl-push-23 {
                        position:relative;
                        left:95.83333%
                    }
                    .el-col-xl-24 {
                        width:100%
                    }
                    .el-col-xl-offset-24 {
                        margin-left:100%
                    }
                    .el-col-xl-pull-24 {
                        position:relative;
                        right:100%
                    }
                    .el-col-xl-push-24 {
                        position:relative;
                        left:100%
                    }
                    }@-webkit-keyframes progress {
                        0% {
                        background-position:0 0
                    }
                    100% {
                        background-position:32px 0
                    }
                    }.el-upload {
                        display:inline-block;
                        text-align:center;
                        cursor:pointer;
                        outline:0
                    }
                    .el-upload__input {
                        display:none
                    }
                    .el-upload__tip {
                        font-size:12px;
                        color:#606266;
                        margin-top:7px
                    }
                    .el-upload iframe {
                        position:absolute;
                        z-index:-1;
                        top:0;
                        left:0
                    }
                    .el-upload--picture-card {
                        background-color:#fbfdff;
                        border:1px dashed #c0ccda;
                        border-radius:6px;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        width:148px;
                        height:148px;
                        cursor:pointer;
                        line-height:146px;
                        vertical-align:top
                    }
                    .el-upload--picture-card i {
                        font-size:28px;
                        color:#8c939d
                    }
                    .el-upload--picture-card:hover,.el-upload:focus {
                        border-color:#409eff;
                        color:#409eff
                    }
                    .el-upload:focus .el-upload-dragger {
                        border-color:#409eff
                    }
                    .el-upload-dragger {
                        background-color:#fff;
                        border:1px dashed #d9d9d9;
                        border-radius:6px;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        width:360px;
                        height:180px;
                        text-align:center;
                        cursor:pointer;
                        overflow:hidden
                    }
                    .el-upload-dragger .el-icon-upload {
                        font-size:67px;
                        color:#c0c4cc;
                        margin:40px 0 16px;
                        line-height:50px
                    }
                    .el-upload-dragger+.el-upload__tip {
                        text-align:center
                    }
                    .el-upload-dragger~.el-upload__files {
                        border-top:1px solid #dcdfe6;
                        margin-top:7px;
                        padding-top:5px
                    }
                    .el-upload-dragger .el-upload__text {
                        color:#606266;
                        font-size:14px;
                        text-align:center
                    }
                    .el-upload-dragger .el-upload__text em {
                        color:#409eff;
                        font-style:normal
                    }
                    .el-upload-dragger:hover {
                        border-color:#409eff
                    }
                    .el-upload-dragger.is-dragover {
                        background-color:rgba(32,159,255,.06);
                        border:2px dashed #409eff
                    }
                    .el-upload-list {
                        margin:0;
                        padding:0;
                        list-style:none
                    }
                    .el-upload-list__item {
                        -webkit-transition:all .5s cubic-bezier(.55,0,.1,1);
                        transition:all .5s cubic-bezier(.55,0,.1,1);
                        font-size:14px;
                        color:#606266;
                        line-height:1.8;
                        margin-top:5px;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        border-radius:4px;
                        width:100%
                    }
                    .el-upload-list__item .el-progress {
                        position:absolute;
                        top:20px;
                        width:100%
                    }
                    .el-upload-list__item .el-progress__text {
                        position:absolute;
                        right:0;
                        top:-13px
                    }
                    .el-upload-list__item .el-progress-bar {
                        margin-right:0;
                        padding-right:0
                    }
                    .el-upload-list__item:first-child {
                        margin-top:10px
                    }
                    .el-upload-list__item .el-icon-upload-success {
                        color:#67c23a
                    }
                    .el-upload-list__item .el-icon-close {
                        display:none;
                        position:absolute;
                        top:5px;
                        right:5px;
                        cursor:pointer;
                        opacity:.75;
                        color:#606266
                    }
                    .el-upload-list__item .el-icon-close:hover {
                        opacity:1
                    }
                    .el-upload-list__item .el-icon-close-tip {
                        display:none;
                        position:absolute;
                        top:5px;
                        right:5px;
                        font-size:12px;
                        cursor:pointer;
                        opacity:1;
                        color:#409eff
                    }
                    .el-upload-list__item:hover .el-icon-close {
                        display:inline-block
                    }
                    .el-upload-list__item:hover .el-progress__text {
                        display:none
                    }
                    .el-upload-list__item.is-success .el-upload-list__item-status-label {
                        display:block
                    }
                    .el-upload-list__item.is-success .el-upload-list__item-name:focus,.el-upload-list__item.is-success .el-upload-list__item-name:hover {
                        color:#409eff;
                        cursor:pointer
                    }
                    .el-upload-list__item.is-success:focus:not(:hover) .el-icon-close-tip {
                        display:inline-block
                    }
                    .el-upload-list__item.is-success:active,.el-upload-list__item.is-success:not(.focusing):focus {
                        outline-width:0
                    }
                    .el-upload-list__item.is-success:active .el-icon-close-tip,.el-upload-list__item.is-success:focus .el-upload-list__item-status-label,.el-upload-list__item.is-success:hover .el-upload-list__item-status-label,.el-upload-list__item.is-success:not(.focusing):focus .el-icon-close-tip {
                        display:none
                    }
                    .el-upload-list.is-disabled .el-upload-list__item:hover .el-upload-list__item-status-label {
                        display:block
                    }
                    .el-upload-list__item-name {
                        color:#606266;
                        display:block;
                        margin-right:40px;
                        overflow:hidden;
                        padding-left:4px;
                        text-overflow:ellipsis;
                        -webkit-transition:color .3s;
                        transition:color .3s;
                        white-space:nowrap
                    }
                    .el-upload-list__item-name [class^=el-icon] {
                        height:100%;
                        margin-right:7px;
                        color:#909399;
                        line-height:inherit
                    }
                    .el-upload-list__item-status-label {
                        position:absolute;
                        right:5px;
                        top:0;
                        line-height:inherit;
                        display:none
                    }
                    .el-upload-list__item-delete {
                        position:absolute;
                        right:10px;
                        top:0;
                        font-size:12px;
                        color:#606266;
                        display:none
                    }
                    .el-upload-list__item-delete:hover {
                        color:#409eff
                    }
                    .el-upload-list--picture-card {
                        margin:0;
                        display:inline;
                        vertical-align:top
                    }
                    .el-upload-list--picture-card .el-upload-list__item {
                        overflow:hidden;
                        background-color:#fff;
                        border:1px solid #c0ccda;
                        border-radius:6px;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        width:148px;
                        height:148px;
                        margin:0 8px 8px 0;
                        display:inline-block
                    }
                    .el-upload-list--picture-card .el-upload-list__item .el-icon-check,.el-upload-list--picture-card .el-upload-list__item .el-icon-circle-check {
                        color:#fff
                    }
                    .el-upload-list--picture-card .el-upload-list__item .el-icon-close,.el-upload-list--picture-card .el-upload-list__item:hover .el-upload-list__item-status-label {
                        display:none
                    }
                    .el-upload-list--picture-card .el-upload-list__item:hover .el-progress__text {
                        display:block
                    }
                    .el-upload-list--picture-card .el-upload-list__item-name {
                        display:none
                    }
                    .el-upload-list--picture-card .el-upload-list__item-thumbnail {
                        width:100%;
                        height:100%
                    }
                    .el-upload-list--picture-card .el-upload-list__item-status-label {
                        position:absolute;
                        right:-15px;
                        top:-6px;
                        width:40px;
                        height:24px;
                        background:#13ce66;
                        text-align:center;
                        -webkit-transform:rotate(45deg);
                        transform:rotate(45deg);
                        -webkit-box-shadow:0 0 1pc 1px rgba(0,0,0,.2);
                        box-shadow:0 0 1pc 1px rgba(0,0,0,.2)
                    }
                    .el-upload-list--picture-card .el-upload-list__item-status-label i {
                        font-size:12px;
                        margin-top:11px;
                        -webkit-transform:rotate(-45deg);
                        transform:rotate(-45deg)
                    }
                    .el-upload-list--picture-card .el-upload-list__item-actions {
                        position:absolute;
                        width:100%;
                        height:100%;
                        left:0;
                        top:0;
                        cursor:default;
                        text-align:center;
                        color:#fff;
                        opacity:0;
                        font-size:20px;
                        background-color:rgba(0,0,0,.5);
                        -webkit-transition:opacity .3s;
                        transition:opacity .3s
                    }
                    .el-upload-list--picture-card .el-upload-list__item-actions::after {
                        display:inline-block;
                        height:100%;
                        vertical-align:middle
                    }
                    .el-upload-list--picture-card .el-upload-list__item-actions span {
                        display:none;
                        cursor:pointer
                    }
                    .el-upload-list--picture-card .el-upload-list__item-actions span+span {
                        margin-left:15px
                    }
                    .el-upload-list--picture-card .el-upload-list__item-actions .el-upload-list__item-delete {
                        position:static;
                        font-size:inherit;
                        color:inherit
                    }
                    .el-upload-list--picture-card .el-upload-list__item-actions:hover {
                        opacity:1
                    }
                    .el-upload-list--picture-card .el-upload-list__item-actions:hover span {
                        display:inline-block
                    }
                    .el-upload-list--picture-card .el-progress {
                        top:50%;
                        left:50%;
                        -webkit-transform:translate(-50%,-50%);
                        transform:translate(-50%,-50%);
                        bottom:auto;
                        width:126px
                    }
                    .el-upload-list--picture-card .el-progress .el-progress__text {
                        top:50%
                    }
                    .el-upload-list--picture .el-upload-list__item {
                        overflow:hidden;
                        z-index:0;
                        background-color:#fff;
                        border:1px solid #c0ccda;
                        border-radius:6px;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        margin-top:10px;
                        padding:10px 10px 10px 90px;
                        height:92px
                    }
                    .el-upload-list--picture .el-upload-list__item .el-icon-check,.el-upload-list--picture .el-upload-list__item .el-icon-circle-check {
                        color:#fff
                    }
                    .el-upload-list--picture .el-upload-list__item:hover .el-upload-list__item-status-label {
                        background:0 0;
                        -webkit-box-shadow:none;
                        box-shadow:none;
                        top:-2px;
                        right:-12px
                    }
                    .el-upload-list--picture .el-upload-list__item:hover .el-progress__text {
                        display:block
                    }
                    .el-upload-list--picture .el-upload-list__item.is-success .el-upload-list__item-name {
                        line-height:70px;
                        margin-top:0
                    }
                    .el-upload-list--picture .el-upload-list__item.is-success .el-upload-list__item-name i {
                        display:none
                    }
                    .el-upload-list--picture .el-upload-list__item-thumbnail {
                        vertical-align:middle;
                        display:inline-block;
                        width:70px;
                        height:70px;
                        float:left;
                        position:relative;
                        z-index:1;
                        margin-left:-80px;
                        background-color:#fff
                    }
                    .el-upload-list--picture .el-upload-list__item-name {
                        display:block;
                        margin-top:20px
                    }
                    .el-upload-list--picture .el-upload-list__item-name i {
                        font-size:70px;
                        line-height:1;
                        position:absolute;
                        left:9px;
                        top:10px
                    }
                    .el-upload-list--picture .el-upload-list__item-status-label {
                        position:absolute;
                        right:-17px;
                        top:-7px;
                        width:46px;
                        height:26px;
                        background:#13ce66;
                        text-align:center;
                        -webkit-transform:rotate(45deg);
                        transform:rotate(45deg);
                        -webkit-box-shadow:0 1px 1px #ccc;
                        box-shadow:0 1px 1px #ccc
                    }
                    .el-upload-list--picture .el-upload-list__item-status-label i {
                        font-size:12px;
                        margin-top:12px;
                        -webkit-transform:rotate(-45deg);
                        transform:rotate(-45deg)
                    }
                    .el-upload-list--picture .el-progress {
                        position:relative;
                        top:-7px
                    }
                    .el-upload-cover {
                        position:absolute;
                        left:0;
                        top:0;
                        width:100%;
                        height:100%;
                        overflow:hidden;
                        z-index:10;
                        cursor:default
                    }
                    .el-upload-cover::after {
                        display:inline-block;
                        height:100%;
                        vertical-align:middle
                    }
                    .el-upload-cover img {
                        display:block;
                        width:100%;
                        height:100%
                    }
                    .el-upload-cover__label {
                        position:absolute;
                        right:-15px;
                        top:-6px;
                        width:40px;
                        height:24px;
                        background:#13ce66;
                        text-align:center;
                        -webkit-transform:rotate(45deg);
                        transform:rotate(45deg);
                        -webkit-box-shadow:0 0 1pc 1px rgba(0,0,0,.2);
                        box-shadow:0 0 1pc 1px rgba(0,0,0,.2)
                    }
                    .el-upload-cover__label i {
                        font-size:12px;
                        margin-top:11px;
                        -webkit-transform:rotate(-45deg);
                        transform:rotate(-45deg);
                        color:#fff
                    }
                    .el-upload-cover__progress {
                        display:inline-block;
                        vertical-align:middle;
                        position:static;
                        width:243px
                    }
                    .el-upload-cover__progress+.el-upload__inner {
                        opacity:0
                    }
                    .el-upload-cover__content {
                        position:absolute;
                        top:0;
                        left:0;
                        width:100%;
                        height:100%
                    }
                    .el-upload-cover__interact {
                        position:absolute;
                        bottom:0;
                        left:0;
                        width:100%;
                        height:100%;
                        background-color:rgba(0,0,0,.72);
                        text-align:center
                    }
                    .el-upload-cover__interact .btn {
                        display:inline-block;
                        color:#fff;
                        font-size:14px;
                        cursor:pointer;
                        vertical-align:middle;
                        -webkit-transition:opacity .3s cubic-bezier(.23,1,.32,1),-webkit-transform .3s cubic-bezier(.23,1,.32,1);
                        transition:opacity .3s cubic-bezier(.23,1,.32,1),-webkit-transform .3s cubic-bezier(.23,1,.32,1);
                        transition:transform .3s cubic-bezier(.23,1,.32,1),opacity .3s cubic-bezier(.23,1,.32,1);
                        transition:transform .3s cubic-bezier(.23,1,.32,1),opacity .3s cubic-bezier(.23,1,.32,1),-webkit-transform .3s cubic-bezier(.23,1,.32,1);
                        margin-top:60px
                    }
                    .el-upload-cover__interact .btn span {
                        opacity:0;
                        -webkit-transition:opacity .15s linear;
                        transition:opacity .15s linear
                    }
                    .el-upload-cover__interact .btn:not(:first-child) {
                        margin-left:35px
                    }
                    .el-upload-cover__interact .btn:hover {
                        -webkit-transform:translateY(-13px);
                        transform:translateY(-13px)
                    }
                    .el-upload-cover__interact .btn:hover span {
                        opacity:1
                    }
                    .el-upload-cover__interact .btn i {
                        color:#fff;
                        display:block;
                        font-size:24px;
                        line-height:inherit;
                        margin:0 auto 5px
                    }
                    .el-upload-cover__title {
                        position:absolute;
                        bottom:0;
                        left:0;
                        background-color:#fff;
                        height:36px;
                        width:100%;
                        overflow:hidden;
                        text-overflow:ellipsis;
                        white-space:nowrap;
                        font-weight:400;
                        text-align:left;
                        padding:0 10px;
                        margin:0;
                        line-height:36px;
                        font-size:14px;
                        color:#303133
                    }
                    .el-upload-cover+.el-upload__inner {
                        opacity:0;
                        position:relative;
                        z-index:1
                    }
                    .el-progress {
                        position:relative;
                        line-height:1
                    }
                    .el-progress__text {
                        font-size:14px;
                        color:#606266;
                        display:inline-block;
                        vertical-align:middle;
                        margin-left:10px;
                        line-height:1
                    }
                    .el-progress__text i {
                        vertical-align:middle;
                        display:block
                    }
                    .el-progress--circle,.el-progress--dashboard {
                        display:inline-block
                    }
                    .el-progress--circle .el-progress__text,.el-progress--dashboard .el-progress__text {
                        position:absolute;
                        top:50%;
                        left:0;
                        width:100%;
                        text-align:center;
                        margin:0;
                        -webkit-transform:translate(0,-50%);
                        transform:translate(0,-50%)
                    }
                    .el-progress--circle .el-progress__text i,.el-progress--dashboard .el-progress__text i {
                        vertical-align:middle;
                        display:inline-block
                    }
                    .el-progress--without-text .el-progress__text {
                        display:none
                    }
                    .el-progress--without-text .el-progress-bar {
                        padding-right:0;
                        margin-right:0;
                        display:block
                    }
                    .el-progress--text-inside .el-progress-bar {
                        padding-right:0;
                        margin-right:0
                    }
                    .el-progress.is-success .el-progress-bar__inner {
                        background-color:#67c23a
                    }
                    .el-progress.is-success .el-progress__text {
                        color:#67c23a
                    }
                    .el-progress.is-warning .el-progress-bar__inner {
                        background-color:#e6a23c
                    }
                    .el-badge__content,.el-progress.is-exception .el-progress-bar__inner {
                        background-color:#f56c6c
                    }
                    .el-progress.is-warning .el-progress__text {
                        color:#e6a23c
                    }
                    .el-progress.is-exception .el-progress__text {
                        color:#f56c6c
                    }
                    .el-progress-bar {
                        padding-right:50px;
                        display:inline-block;
                        vertical-align:middle;
                        width:100%;
                        margin-right:-55px;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box
                    }
                    .el-card__header,.el-message,.el-step__icon {
                        -webkit-box-sizing:border-box
                    }
                    .el-progress-bar__outer {
                        height:6px;
                        border-radius:100px;
                        background-color:#ebeef5;
                        overflow:hidden;
                        position:relative;
                        vertical-align:middle
                    }
                    .el-progress-bar__inner {
                        position:absolute;
                        left:0;
                        top:0;
                        height:100%;
                        background-color:#409eff;
                        text-align:right;
                        border-radius:100px;
                        line-height:1;
                        white-space:nowrap;
                        -webkit-transition:width .6s ease;
                        transition:width .6s ease
                    }
                    .el-progress-bar__inner::after {
                        display:inline-block;
                        height:100%;
                        vertical-align:middle
                    }
                    .el-progress-bar__innerText {
                        display:inline-block;
                        vertical-align:middle;
                        color:#fff;
                        font-size:12px;
                        margin:0 5px
                    }
                    @keyframes progress {
                        0% {
                        background-position:0 0
                    }
                    100% {
                        background-position:32px 0
                    }
                    }.el-time-spinner {
                        width:100%;
                        white-space:nowrap
                    }
                    .el-spinner {
                        display:inline-block;
                        vertical-align:middle
                    }
                    .el-spinner-inner {
                        -webkit-animation:rotate 2s linear infinite;
                        animation:rotate 2s linear infinite;
                        width:50px;
                        height:50px
                    }
                    .el-spinner-inner .path {
                        stroke:#ececec;
                        stroke-linecap:round;
                        -webkit-animation:dash 1.5s ease-in-out infinite;
                        animation:dash 1.5s ease-in-out infinite
                    }
                    @-webkit-keyframes rotate {
                        100% {
                        -webkit-transform:rotate(360deg);
                        transform:rotate(360deg)
                    }
                    }@keyframes rotate {
                        100% {
                        -webkit-transform:rotate(360deg);
                        transform:rotate(360deg)
                    }
                    }@-webkit-keyframes dash {
                        0% {
                        stroke-dasharray:1,150;
                        stroke-dashoffset:0
                    }
                    50% {
                        stroke-dasharray:90,150;
                        stroke-dashoffset:-35
                    }
                    100% {
                        stroke-dasharray:90,150;
                        stroke-dashoffset:-124
                    }
                    }@keyframes dash {
                        0% {
                        stroke-dasharray:1,150;
                        stroke-dashoffset:0
                    }
                    50% {
                        stroke-dasharray:90,150;
                        stroke-dashoffset:-35
                    }
                    100% {
                        stroke-dasharray:90,150;
                        stroke-dashoffset:-124
                    }
                    }.el-message {
                        min-width:380px;
                        box-sizing:border-box;
                        border-radius:4px;
                        border-width:1px;
                        border-style:solid;
                        border-color:#ebeef5;
                        position:fixed;
                        left:50%;
                        top:20px;
                        -webkit-transform:translateX(-50%);
                        transform:translateX(-50%);
                        background-color:#edf2fc;
                        -webkit-transition:opacity .3s,top .4s,-webkit-transform .4s;
                        transition:opacity .3s,top .4s,-webkit-transform .4s;
                        transition:opacity .3s,transform .4s,top .4s;
                        transition:opacity .3s,transform .4s,top .4s,-webkit-transform .4s;
                        overflow:hidden;
                        padding:15px 15px 15px 20px;
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center
                    }
                    .el-message.is-center {
                        -webkit-box-pack:center;
                        -ms-flex-pack:center;
                        justify-content:center
                    }
                    .el-message.is-closable .el-message__content {
                        padding-right:16px
                    }
                    .el-message p {
                        margin:0
                    }
                    .el-message--info .el-message__content {
                        color:#909399
                    }
                    .el-message--success {
                        background-color:#f0f9eb;
                        border-color:#e1f3d8
                    }
                    .el-message--success .el-message__content {
                        color:#67c23a
                    }
                    .el-message--warning {
                        background-color:#fdf6ec;
                        border-color:#faecd8
                    }
                    .el-message--warning .el-message__content {
                        color:#e6a23c
                    }
                    .el-message--error {
                        background-color:#fef0f0;
                        border-color:#fde2e2
                    }
                    .el-message--error .el-message__content {
                        color:#f56c6c
                    }
                    .el-message__icon {
                        margin-right:10px
                    }
                    .el-message__content {
                        padding:0;
                        font-size:14px;
                        line-height:1
                    }
                    .el-message__content:focus {
                        outline-width:0
                    }
                    .el-message__closeBtn {
                        position:absolute;
                        top:50%;
                        right:15px;
                        -webkit-transform:translateY(-50%);
                        transform:translateY(-50%);
                        cursor:pointer;
                        color:#c0c4cc;
                        font-size:16px
                    }
                    .el-message__closeBtn:focus {
                        outline-width:0
                    }
                    .el-message__closeBtn:hover {
                        color:#909399
                    }
                    .el-message .el-icon-success {
                        color:#67c23a
                    }
                    .el-message .el-icon-error {
                        color:#f56c6c
                    }
                    .el-message .el-icon-info {
                        color:#909399
                    }
                    .el-message .el-icon-warning {
                        color:#e6a23c
                    }
                    .el-message-fade-enter,.el-message-fade-leave-active {
                        opacity:0;
                        -webkit-transform:translate(-50%,-100%);
                        transform:translate(-50%,-100%)
                    }
                    .el-badge {
                        position:relative;
                        vertical-align:middle;
                        display:inline-block
                    }
                    .el-badge__content {
                        border-radius:10px;
                        color:#fff;
                        display:inline-block;
                        font-size:12px;
                        height:18px;
                        line-height:18px;
                        padding:0 6px;
                        text-align:center;
                        white-space:nowrap;
                        border:1px solid #fff
                    }
                    .el-badge__content.is-fixed {
                        position:absolute;
                        top:0;
                        right:10px;
                        -webkit-transform:translateY(-50%) translateX(100%);
                        transform:translateY(-50%) translateX(100%)
                    }
                    .el-rate__icon,.el-rate__item {
                        position:relative;
                        display:inline-block
                    }
                    .el-badge__content.is-fixed.is-dot {
                        right:5px
                    }
                    .el-badge__content.is-dot {
                        height:8px;
                        width:8px;
                        padding:0;
                        right:0;
                        border-radius:50%
                    }
                    .el-badge__content--primary {
                        background-color:#409eff
                    }
                    .el-badge__content--success {
                        background-color:#67c23a
                    }
                    .el-badge__content--warning {
                        background-color:#e6a23c
                    }
                    .el-badge__content--info {
                        background-color:#909399
                    }
                    .el-badge__content--danger {
                        background-color:#f56c6c
                    }
                    .el-card {
                        border-radius:4px;
                        border:1px solid #ebeef5;
                        background-color:#fff;
                        overflow:hidden;
                        color:#303133;
                        -webkit-transition:.3s;
                        transition:.3s
                    }
                    .el-card.is-always-shadow,.el-card.is-hover-shadow:focus,.el-card.is-hover-shadow:hover {
                        box-shadow:0 2px 12px 0 rgba(0,0,0,.1)
                    }
                    .el-card__header {
                        padding:18px 20px;
                        border-bottom:1px solid #ebeef5;
                        box-sizing:border-box
                    }
                    .el-card__body,.el-main {
                        padding:20px
                    }
                    .el-rate {
                        height:20px;
                        line-height:1
                    }
                    .el-rate:active,.el-rate:focus {
                        outline-width:0
                    }
                    .el-rate__item {
                        font-size:0;
                        vertical-align:middle
                    }
                    .el-rate__icon {
                        font-size:18px;
                        margin-right:6px;
                        color:#c0c4cc;
                        -webkit-transition:.3s;
                        transition:.3s
                    }
                    .el-rate__decimal,.el-rate__icon .path2 {
                        position:absolute;
                        top:0;
                        left:0
                    }
                    .el-rate__icon.hover {
                        -webkit-transform:scale(1.15);
                        transform:scale(1.15)
                    }
                    .el-rate__decimal {
                        display:inline-block;
                        overflow:hidden
                    }
                    .el-step.is-vertical,.el-steps {
                        display:-webkit-box;
                        display:-ms-flexbox
                    }
                    .el-rate__text {
                        font-size:14px;
                        vertical-align:middle
                    }
                    .el-steps {
                        display:flex
                    }
                    .el-steps--simple {
                        padding:13px 8%;
                        border-radius:4px;
                        background:#f5f7fa
                    }
                    .el-steps--horizontal {
                        white-space:nowrap
                    }
                    .el-steps--vertical {
                        height:100%;
                        -webkit-box-orient:vertical;
                        -webkit-box-direction:normal;
                        -ms-flex-flow:column;
                        flex-flow:column
                    }
                    .el-step {
                        position:relative;
                        -ms-flex-negative:1;
                        flex-shrink:1
                    }
                    .el-step:last-of-type .el-step__line {
                        display:none
                    }
                    .el-step:last-of-type.is-flex {
                        -ms-flex-preferred-size:auto!important;
                        flex-basis:auto!important;
                        -ms-flex-negative:0;
                        flex-shrink:0;
                        -webkit-box-flex:0;
                        -ms-flex-positive:0;
                        flex-grow:0
                    }
                    .el-step:last-of-type .el-step__description,.el-step:last-of-type .el-step__main {
                        padding-right:0
                    }
                    .el-step__head {
                        position:relative;
                        width:100%
                    }
                    .el-step__head.is-process {
                        color:#303133;
                        border-color:#303133
                    }
                    .el-step__head.is-wait {
                        color:#c0c4cc;
                        border-color:#c0c4cc
                    }
                    .el-step__head.is-success {
                        color:#67c23a;
                        border-color:#67c23a
                    }
                    .el-step__head.is-error {
                        color:#f56c6c;
                        border-color:#f56c6c
                    }
                    .el-step__head.is-finish {
                        color:#409eff;
                        border-color:#409eff
                    }
                    .el-step__icon {
                        position:relative;
                        z-index:1;
                        display:-webkit-inline-box;
                        display:-ms-inline-flexbox;
                        display:inline-flex;
                        -webkit-box-pack:center;
                        -ms-flex-pack:center;
                        justify-content:center;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        width:24px;
                        height:24px;
                        font-size:14px;
                        box-sizing:border-box;
                        background:#fff;
                        -webkit-transition:.15s ease-out;
                        transition:.15s ease-out
                    }
                    .el-step.is-horizontal,.el-step__icon-inner {
                        display:inline-block
                    }
                    .el-step__icon.is-text {
                        border-radius:50%;
                        border:2px solid;
                        border-color:inherit
                    }
                    .el-step__icon.is-icon {
                        width:40px
                    }
                    .el-step__icon-inner {
                        -webkit-user-select:none;
                        user-select:none;
                        text-align:center;
                        font-weight:700;
                        line-height:1;
                        color:inherit
                    }
                    .el-step__icon-inner[class*=el-icon]:not(.is-status) {
                        font-size:25px;
                        font-weight:400
                    }
                    .el-step__icon-inner.is-status {
                        -webkit-transform:translateY(1px);
                        transform:translateY(1px)
                    }
                    .el-step__line {
                        position:absolute;
                        border-color:inherit;
                        background-color:#c0c4cc
                    }
                    .el-step__line-inner {
                        display:block;
                        border-width:1px;
                        border-style:solid;
                        border-color:inherit;
                        -webkit-transition:.15s ease-out;
                        transition:.15s ease-out;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        width:0;
                        height:0
                    }
                    .el-step__main {
                        white-space:normal;
                        text-align:left
                    }
                    .el-step__title {
                        font-size:16px;
                        line-height:38px
                    }
                    .el-step__title.is-process {
                        font-weight:700;
                        color:#303133
                    }
                    .el-step__title.is-wait {
                        color:#c0c4cc
                    }
                    .el-step__title.is-success {
                        color:#67c23a
                    }
                    .el-step__title.is-error {
                        color:#f56c6c
                    }
                    .el-step__title.is-finish {
                        color:#409eff
                    }
                    .el-step__description {
                        padding-right:10%;
                        margin-top:-5px;
                        font-size:12px;
                        line-height:20px;
                        font-weight:400
                    }
                    .el-step__description.is-process {
                        color:#303133
                    }
                    .el-step__description.is-wait {
                        color:#c0c4cc
                    }
                    .el-step__description.is-success {
                        color:#67c23a
                    }
                    .el-step__description.is-error {
                        color:#f56c6c
                    }
                    .el-step__description.is-finish {
                        color:#409eff
                    }
                    .el-step.is-horizontal .el-step__line {
                        height:2px;
                        top:11px;
                        left:0;
                        right:0
                    }
                    .el-step.is-vertical {
                        display:flex
                    }
                    .el-step.is-vertical .el-step__head {
                        -webkit-box-flex:0;
                        -ms-flex-positive:0;
                        flex-grow:0;
                        width:24px
                    }
                    .el-step.is-vertical .el-step__main {
                        padding-left:10px;
                        -webkit-box-flex:1;
                        -ms-flex-positive:1;
                        flex-grow:1
                    }
                    .el-step.is-vertical .el-step__title {
                        line-height:24px;
                        padding-bottom:8px
                    }
                    .el-step.is-vertical .el-step__line {
                        width:2px;
                        top:0;
                        bottom:0;
                        left:11px
                    }
                    .el-step.is-vertical .el-step__icon.is-icon {
                        width:24px
                    }
                    .el-step.is-center .el-step__head,.el-step.is-center .el-step__main {
                        text-align:center
                    }
                    .el-step.is-center .el-step__description {
                        padding-left:20%;
                        padding-right:20%
                    }
                    .el-step.is-center .el-step__line {
                        left:50%;
                        right:-50%
                    }
                    .el-step.is-simple {
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center
                    }
                    .el-step.is-simple .el-step__head {
                        width:auto;
                        font-size:0;
                        padding-right:10px
                    }
                    .el-step.is-simple .el-step__icon {
                        background:0 0;
                        width:16px;
                        height:16px;
                        font-size:12px
                    }
                    .el-step.is-simple .el-step__icon-inner[class*=el-icon]:not(.is-status) {
                        font-size:18px
                    }
                    .el-step.is-simple .el-step__icon-inner.is-status {
                        -webkit-transform:scale(.8) translateY(1px);
                        transform:scale(.8) translateY(1px)
                    }
                    .el-step.is-simple .el-step__main {
                        position:relative;
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -webkit-box-align:stretch;
                        -ms-flex-align:stretch;
                        align-items:stretch;
                        -webkit-box-flex:1;
                        -ms-flex-positive:1;
                        flex-grow:1
                    }
                    .el-step.is-simple .el-step__title {
                        font-size:16px;
                        line-height:20px
                    }
                    .el-step.is-simple:not(:last-of-type) .el-step__title {
                        max-width:50%;
                        word-break:break-all
                    }
                    .el-step.is-simple .el-step__arrow {
                        -webkit-box-flex:1;
                        -ms-flex-positive:1;
                        flex-grow:1;
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        -webkit-box-pack:center;
                        -ms-flex-pack:center;
                        justify-content:center
                    }
                    .el-step.is-simple .el-step__arrow::after,.el-step.is-simple .el-step__arrow::before {
                        content:'';
                        display:inline-block;
                        position:absolute;
                        height:15px;
                        width:1px;
                        background:#c0c4cc
                    }
                    .el-step.is-simple .el-step__arrow::before {
                        -webkit-transform:rotate(-45deg) translateY(-4px);
                        transform:rotate(-45deg) translateY(-4px);
                        -webkit-transform-origin:0 0;
                        transform-origin:0 0
                    }
                    .el-step.is-simple .el-step__arrow::after {
                        -webkit-transform:rotate(45deg) translateY(4px);
                        transform:rotate(45deg) translateY(4px);
                        -webkit-transform-origin:100% 100%;
                        transform-origin:100% 100%
                    }
                    .el-step.is-simple:last-of-type .el-step__arrow {
                        display:none
                    }
                    .el-carousel {
                        position:relative
                    }
                    .el-carousel--horizontal {
                        overflow-x:hidden
                    }
                    .el-carousel--vertical {
                        overflow-y:hidden
                    }
                    .el-carousel__container {
                        position:relative;
                        height:300px
                    }
                    .el-carousel__arrow {
                        border:none;
                        outline:0;
                        padding:0;
                        margin:0;
                        height:36px;
                        width:36px;
                        cursor:pointer;
                        -webkit-transition:.3s;
                        transition:.3s;
                        border-radius:50%;
                        background-color:rgba(31,45,61,.11);
                        color:#fff;
                        position:absolute;
                        top:50%;
                        z-index:10;
                        -webkit-transform:translateY(-50%);
                        transform:translateY(-50%);
                        text-align:center;
                        font-size:12px
                    }
                    .el-carousel__arrow--left {
                        left:16px
                    }
                    .el-carousel__arrow:hover {
                        background-color:rgba(31,45,61,.23)
                    }
                    .el-carousel__arrow i {
                        cursor:pointer
                    }
                    .el-carousel__indicators {
                        position:absolute;
                        list-style:none;
                        margin:0;
                        padding:0;
                        z-index:2
                    }
                    .el-carousel__indicators--horizontal {
                        bottom:0;
                        left:50%;
                        -webkit-transform:translateX(-50%);
                        transform:translateX(-50%)
                    }
                    .el-carousel__indicators--vertical {
                        right:0;
                        top:50%;
                        -webkit-transform:translateY(-50%);
                        transform:translateY(-50%)
                    }
                    .el-carousel__indicators--outside {
                        bottom:26px;
                        text-align:center;
                        position:static;
                        -webkit-transform:none;
                        transform:none
                    }
                    .el-carousel__indicators--outside .el-carousel__indicator:hover button {
                        opacity:.64
                    }
                    .el-carousel__indicators--outside button {
                        background-color:#c0c4cc;
                        opacity:.24
                    }
                    .el-carousel__indicators--labels {
                        left:0;
                        right:0;
                        -webkit-transform:none;
                        transform:none;
                        text-align:center
                    }
                    .el-carousel__indicators--labels .el-carousel__button {
                        height:auto;
                        width:auto;
                        padding:2px 18px;
                        font-size:12px
                    }
                    .el-carousel__indicators--labels .el-carousel__indicator {
                        padding:6px 4px
                    }
                    .el-carousel__indicator {
                        background-color:transparent;
                        cursor:pointer
                    }
                    .el-carousel__indicator:hover button {
                        opacity:.72
                    }
                    .el-carousel__indicator--horizontal {
                        display:inline-block;
                        padding:12px 4px
                    }
                    .el-carousel__indicator--vertical {
                        padding:4px 12px
                    }
                    .el-carousel__indicator--vertical .el-carousel__button {
                        width:2px;
                        height:15px
                    }
                    .el-carousel__indicator.is-active button {
                        opacity:1
                    }
                    .el-carousel__button {
                        display:block;
                        opacity:.48;
                        width:30px;
                        height:2px;
                        background-color:#fff;
                        border:none;
                        outline:0;
                        padding:0;
                        margin:0;
                        cursor:pointer;
                        -webkit-transition:.3s;
                        transition:.3s
                    }
                    .el-carousel__item,.el-carousel__mask {
                        height:100%;
                        position:absolute;
                        top:0;
                        left:0
                    }
                    .carousel-arrow-left-enter,.carousel-arrow-left-leave-active {
                        -webkit-transform:translateY(-50%) translateX(-10px);
                        transform:translateY(-50%) translateX(-10px);
                        opacity:0
                    }
                    .carousel-arrow-right-enter,.carousel-arrow-right-leave-active {
                        -webkit-transform:translateY(-50%) translateX(10px);
                        transform:translateY(-50%) translateX(10px);
                        opacity:0
                    }
                    .el-carousel__item {
                        width:100%;
                        display:inline-block;
                        overflow:hidden;
                        z-index:0
                    }
                    .el-carousel__item.is-active {
                        z-index:2
                    }
                    .el-carousel__item.is-animating {
                        -webkit-transition:-webkit-transform .4s ease-in-out;
                        transition:-webkit-transform .4s ease-in-out;
                        transition:transform .4s ease-in-out;
                        transition:transform .4s ease-in-out,-webkit-transform .4s ease-in-out
                    }
                    .el-carousel__item--card {
                        width:50%;
                        -webkit-transition:-webkit-transform .4s ease-in-out;
                        transition:-webkit-transform .4s ease-in-out;
                        transition:transform .4s ease-in-out;
                        transition:transform .4s ease-in-out,-webkit-transform .4s ease-in-out
                    }
                    .el-carousel__item--card.is-in-stage {
                        cursor:pointer;
                        z-index:1
                    }
                    .el-carousel__item--card.is-in-stage.is-hover .el-carousel__mask,.el-carousel__item--card.is-in-stage:hover .el-carousel__mask {
                        opacity:.12
                    }
                    .el-carousel__item--card.is-active {
                        z-index:2
                    }
                    .el-carousel__mask {
                        width:100%;
                        background-color:#fff;
                        opacity:.24;
                        -webkit-transition:.2s;
                        transition:.2s
                    }
                    .fade-in-linear-enter-active,.fade-in-linear-leave-active {
                        -webkit-transition:opacity .2s linear;
                        transition:opacity .2s linear
                    }
                    .fade-in-linear-enter,.fade-in-linear-leave,.fade-in-linear-leave-active {
                        opacity:0
                    }
                    .el-fade-in-linear-enter-active,.el-fade-in-linear-leave-active {
                        -webkit-transition:opacity .2s linear;
                        transition:opacity .2s linear
                    }
                    .el-fade-in-linear-enter,.el-fade-in-linear-leave,.el-fade-in-linear-leave-active {
                        opacity:0
                    }
                    .el-fade-in-enter-active,.el-fade-in-leave-active {
                        -webkit-transition:all .3s cubic-bezier(.55,0,.1,1);
                        transition:all .3s cubic-bezier(.55,0,.1,1)
                    }
                    .el-fade-in-enter,.el-fade-in-leave-active {
                        opacity:0
                    }
                    .el-zoom-in-center-enter-active,.el-zoom-in-center-leave-active {
                        -webkit-transition:all .3s cubic-bezier(.55,0,.1,1);
                        transition:all .3s cubic-bezier(.55,0,.1,1)
                    }
                    .el-zoom-in-center-enter,.el-zoom-in-center-leave-active {
                        opacity:0;
                        -webkit-transform:scaleX(0);
                        transform:scaleX(0)
                    }
                    .el-zoom-in-top-enter-active,.el-zoom-in-top-leave-active {
                        opacity:1;
                        -webkit-transform:scaleY(1);
                        transform:scaleY(1);
                        -webkit-transition:opacity .3s cubic-bezier(.23,1,.32,1),-webkit-transform .3s cubic-bezier(.23,1,.32,1);
                        transition:opacity .3s cubic-bezier(.23,1,.32,1),-webkit-transform .3s cubic-bezier(.23,1,.32,1);
                        transition:transform .3s cubic-bezier(.23,1,.32,1),opacity .3s cubic-bezier(.23,1,.32,1);
                        transition:transform .3s cubic-bezier(.23,1,.32,1),opacity .3s cubic-bezier(.23,1,.32,1),-webkit-transform .3s cubic-bezier(.23,1,.32,1);
                        -webkit-transform-origin:center top;
                        transform-origin:center top
                    }
                    .el-zoom-in-top-enter,.el-zoom-in-top-leave-active {
                        opacity:0;
                        -webkit-transform:scaleY(0);
                        transform:scaleY(0)
                    }
                    .el-zoom-in-bottom-enter-active,.el-zoom-in-bottom-leave-active {
                        opacity:1;
                        -webkit-transform:scaleY(1);
                        transform:scaleY(1);
                        -webkit-transition:opacity .3s cubic-bezier(.23,1,.32,1),-webkit-transform .3s cubic-bezier(.23,1,.32,1);
                        transition:opacity .3s cubic-bezier(.23,1,.32,1),-webkit-transform .3s cubic-bezier(.23,1,.32,1);
                        transition:transform .3s cubic-bezier(.23,1,.32,1),opacity .3s cubic-bezier(.23,1,.32,1);
                        transition:transform .3s cubic-bezier(.23,1,.32,1),opacity .3s cubic-bezier(.23,1,.32,1),-webkit-transform .3s cubic-bezier(.23,1,.32,1);
                        -webkit-transform-origin:center bottom;
                        transform-origin:center bottom
                    }
                    .el-zoom-in-bottom-enter,.el-zoom-in-bottom-leave-active {
                        opacity:0;
                        -webkit-transform:scaleY(0);
                        transform:scaleY(0)
                    }
                    .el-zoom-in-left-enter-active,.el-zoom-in-left-leave-active {
                        opacity:1;
                        -webkit-transform:scale(1,1);
                        transform:scale(1,1);
                        -webkit-transition:opacity .3s cubic-bezier(.23,1,.32,1),-webkit-transform .3s cubic-bezier(.23,1,.32,1);
                        transition:opacity .3s cubic-bezier(.23,1,.32,1),-webkit-transform .3s cubic-bezier(.23,1,.32,1);
                        transition:transform .3s cubic-bezier(.23,1,.32,1),opacity .3s cubic-bezier(.23,1,.32,1);
                        transition:transform .3s cubic-bezier(.23,1,.32,1),opacity .3s cubic-bezier(.23,1,.32,1),-webkit-transform .3s cubic-bezier(.23,1,.32,1);
                        -webkit-transform-origin:top left;
                        transform-origin:top left
                    }
                    .el-zoom-in-left-enter,.el-zoom-in-left-leave-active {
                        opacity:0;
                        -webkit-transform:scale(.45,.45);
                        transform:scale(.45,.45)
                    }
                    .collapse-transition {
                        -webkit-transition:.3s height ease-in-out,.3s padding-top ease-in-out,.3s padding-bottom ease-in-out;
                        transition:.3s height ease-in-out,.3s padding-top ease-in-out,.3s padding-bottom ease-in-out
                    }
                    .horizontal-collapse-transition {
                        -webkit-transition:.3s width ease-in-out,.3s padding-left ease-in-out,.3s padding-right ease-in-out;
                        transition:.3s width ease-in-out,.3s padding-left ease-in-out,.3s padding-right ease-in-out
                    }
                    .el-list-enter-active,.el-list-leave-active {
                        -webkit-transition:all 1s;
                        transition:all 1s
                    }
                    .el-list-enter,.el-list-leave-active {
                        opacity:0;
                        -webkit-transform:translateY(-30px);
                        transform:translateY(-30px)
                    }
                    .el-opacity-transition {
                        -webkit-transition:opacity .3s cubic-bezier(.55,0,.1,1);
                        transition:opacity .3s cubic-bezier(.55,0,.1,1)
                    }
                    .el-collapse {
                        border-top:1px solid #ebeef5;
                        border-bottom:1px solid #ebeef5
                    }
                    .el-collapse-item.is-disabled .el-collapse-item__header {
                        color:#bbb;
                        cursor:not-allowed
                    }
                    .el-collapse-item__header {
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        height:48px;
                        line-height:48px;
                        background-color:#fff;
                        color:#303133;
                        cursor:pointer;
                        border-bottom:1px solid #ebeef5;
                        font-size:13px;
                        font-weight:500;
                        -webkit-transition:border-bottom-color .3s;
                        transition:border-bottom-color .3s;
                        outline:0
                    }
                    .el-collapse-item__arrow {
                        margin:0 8px 0 auto;
                        -webkit-transition:-webkit-transform .3s;
                        transition:-webkit-transform .3s;
                        transition:transform .3s;
                        transition:transform .3s,-webkit-transform .3s;
                        font-weight:300
                    }
                    .el-collapse-item__arrow.is-active {
                        -webkit-transform:rotate(90deg);
                        transform:rotate(90deg)
                    }
                    .el-collapse-item__header.focusing:focus:not(:hover) {
                        color:#409eff
                    }
                    .el-collapse-item__header.is-active {
                        border-bottom-color:transparent
                    }
                    .el-collapse-item__wrap {
                        will-change:height;
                        background-color:#fff;
                        overflow:hidden;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        border-bottom:1px solid #ebeef5
                    }
                    .el-cascader__search-input,.el-cascader__tags,.el-tag {
                        -webkit-box-sizing:border-box
                    }
                    .el-collapse-item__content {
                        padding-bottom:25px;
                        font-size:13px;
                        color:#303133;
                        line-height:1.769230769230769
                    }
                    .el-collapse-item:last-child {
                        margin-bottom:-1px
                    }
                    .el-popper .popper__arrow,.el-popper .popper__arrow::after {
                        position:absolute;
                        display:block;
                        width:0;
                        height:0;
                        border-color:transparent;
                        border-style:solid
                    }
                    .el-cascader,.el-tag {
                        display:inline-block
                    }
                    .el-popper .popper__arrow {
                        border-width:6px;
                        -webkit-filter:drop-shadow(0 2px 12px rgba(0,0,0,.03));
                        filter:drop-shadow(0 2px 12px rgba(0,0,0,.03))
                    }
                    .el-popper .popper__arrow::after {
                        content:" ";
                        border-width:6px
                    }
                    .el-popper[x-placement^=top] {
                        margin-bottom:12px
                    }
                    .el-popper[x-placement^=top] .popper__arrow {
                        bottom:-6px;
                        left:50%;
                        margin-right:3px;
                        border-top-color:#ebeef5;
                        border-bottom-width:0
                    }
                    .el-popper[x-placement^=top] .popper__arrow::after {
                        bottom:1px;
                        margin-left:-6px;
                        border-top-color:#fff;
                        border-bottom-width:0
                    }
                    .el-popper[x-placement^=bottom] {
                        margin-top:12px
                    }
                    .el-popper[x-placement^=bottom] .popper__arrow {
                        top:-6px;
                        left:50%;
                        margin-right:3px;
                        border-top-width:0;
                        border-bottom-color:#ebeef5
                    }
                    .el-popper[x-placement^=bottom] .popper__arrow::after {
                        top:1px;
                        margin-left:-6px;
                        border-top-width:0;
                        border-bottom-color:#fff
                    }
                    .el-popper[x-placement^=right] {
                        margin-left:12px
                    }
                    .el-popper[x-placement^=right] .popper__arrow {
                        top:50%;
                        left:-6px;
                        margin-bottom:3px;
                        border-right-color:#ebeef5;
                        border-left-width:0
                    }
                    .el-popper[x-placement^=right] .popper__arrow::after {
                        bottom:-6px;
                        left:1px;
                        border-right-color:#fff;
                        border-left-width:0
                    }
                    .el-popper[x-placement^=left] {
                        margin-right:12px
                    }
                    .el-popper[x-placement^=left] .popper__arrow {
                        top:50%;
                        right:-6px;
                        margin-bottom:3px;
                        border-right-width:0;
                        border-left-color:#ebeef5
                    }
                    .el-popper[x-placement^=left] .popper__arrow::after {
                        right:1px;
                        bottom:-6px;
                        margin-left:-6px;
                        border-right-width:0;
                        border-left-color:#fff
                    }
                    .el-tag {
                        background-color:#ecf5ff;
                        border-color:#d9ecff;
                        height:32px;
                        padding:0 10px;
                        line-height:30px;
                        font-size:12px;
                        color:#409eff;
                        border-width:1px;
                        border-style:solid;
                        border-radius:4px;
                        box-sizing:border-box;
                        white-space:nowrap
                    }
                    .el-tag.is-hit {
                        border-color:#409eff
                    }
                    .el-tag .el-tag__close {
                        color:#409eff
                    }
                    .el-tag .el-tag__close:hover {
                        color:#fff;
                        background-color:#409eff
                    }
                    .el-tag.el-tag--info {
                        background-color:#f4f4f5;
                        border-color:#e9e9eb;
                        color:#909399
                    }
                    .el-tag.el-tag--info.is-hit {
                        border-color:#909399
                    }
                    .el-tag.el-tag--info .el-tag__close {
                        color:#909399
                    }
                    .el-tag.el-tag--info .el-tag__close:hover {
                        color:#fff;
                        background-color:#909399
                    }
                    .el-tag.el-tag--success {
                        background-color:#f0f9eb;
                        border-color:#e1f3d8;
                        color:#67c23a
                    }
                    .el-tag.el-tag--success.is-hit {
                        border-color:#67c23a
                    }
                    .el-tag.el-tag--success .el-tag__close {
                        color:#67c23a
                    }
                    .el-tag.el-tag--success .el-tag__close:hover {
                        color:#fff;
                        background-color:#67c23a
                    }
                    .el-tag.el-tag--warning {
                        background-color:#fdf6ec;
                        border-color:#faecd8;
                        color:#e6a23c
                    }
                    .el-tag.el-tag--warning.is-hit {
                        border-color:#e6a23c
                    }
                    .el-tag.el-tag--warning .el-tag__close {
                        color:#e6a23c
                    }
                    .el-tag.el-tag--warning .el-tag__close:hover {
                        color:#fff;
                        background-color:#e6a23c
                    }
                    .el-tag.el-tag--danger {
                        background-color:#fef0f0;
                        border-color:#fde2e2;
                        color:#f56c6c
                    }
                    .el-tag.el-tag--danger.is-hit {
                        border-color:#f56c6c
                    }
                    .el-tag.el-tag--danger .el-tag__close {
                        color:#f56c6c
                    }
                    .el-tag.el-tag--danger .el-tag__close:hover {
                        color:#fff;
                        background-color:#f56c6c
                    }
                    .el-tag .el-icon-close {
                        border-radius:50%;
                        text-align:center;
                        position:relative;
                        cursor:pointer;
                        font-size:12px;
                        height:16px;
                        width:16px;
                        line-height:16px;
                        vertical-align:middle;
                        top:-1px;
                        right:-5px
                    }
                    .el-tag .el-icon-close::before {
                        display:block
                    }
                    .el-tag--dark {
                        background-color:#409eff;
                        border-color:#409eff;
                        color:#fff
                    }
                    .el-tag--dark.is-hit {
                        border-color:#409eff
                    }
                    .el-tag--dark .el-tag__close {
                        color:#fff
                    }
                    .el-tag--dark .el-tag__close:hover {
                        color:#fff;
                        background-color:#66b1ff
                    }
                    .el-tag--dark.el-tag--info {
                        background-color:#909399;
                        border-color:#909399;
                        color:#fff
                    }
                    .el-tag--dark.el-tag--info.is-hit {
                        border-color:#909399
                    }
                    .el-tag--dark.el-tag--info .el-tag__close {
                        color:#fff
                    }
                    .el-tag--dark.el-tag--info .el-tag__close:hover {
                        color:#fff;
                        background-color:#a6a9ad
                    }
                    .el-tag--dark.el-tag--success {
                        background-color:#67c23a;
                        border-color:#67c23a;
                        color:#fff
                    }
                    .el-tag--dark.el-tag--success.is-hit {
                        border-color:#67c23a
                    }
                    .el-tag--dark.el-tag--success .el-tag__close {
                        color:#fff
                    }
                    .el-tag--dark.el-tag--success .el-tag__close:hover {
                        color:#fff;
                        background-color:#85ce61
                    }
                    .el-tag--dark.el-tag--warning {
                        background-color:#e6a23c;
                        border-color:#e6a23c;
                        color:#fff
                    }
                    .el-tag--dark.el-tag--warning.is-hit {
                        border-color:#e6a23c
                    }
                    .el-tag--dark.el-tag--warning .el-tag__close {
                        color:#fff
                    }
                    .el-tag--dark.el-tag--warning .el-tag__close:hover {
                        color:#fff;
                        background-color:#ebb563
                    }
                    .el-tag--dark.el-tag--danger {
                        background-color:#f56c6c;
                        border-color:#f56c6c;
                        color:#fff
                    }
                    .el-tag--dark.el-tag--danger.is-hit {
                        border-color:#f56c6c
                    }
                    .el-tag--dark.el-tag--danger .el-tag__close {
                        color:#fff
                    }
                    .el-tag--dark.el-tag--danger .el-tag__close:hover {
                        color:#fff;
                        background-color:#f78989
                    }
                    .el-tag--plain {
                        background-color:#fff;
                        border-color:#b3d8ff;
                        color:#409eff
                    }
                    .el-tag--plain.is-hit {
                        border-color:#409eff
                    }
                    .el-tag--plain .el-tag__close {
                        color:#409eff
                    }
                    .el-tag--plain .el-tag__close:hover {
                        color:#fff;
                        background-color:#409eff
                    }
                    .el-tag--plain.el-tag--info {
                        background-color:#fff;
                        border-color:#d3d4d6;
                        color:#909399
                    }
                    .el-tag--plain.el-tag--info.is-hit {
                        border-color:#909399
                    }
                    .el-tag--plain.el-tag--info .el-tag__close {
                        color:#909399
                    }
                    .el-tag--plain.el-tag--info .el-tag__close:hover {
                        color:#fff;
                        background-color:#909399
                    }
                    .el-tag--plain.el-tag--success {
                        background-color:#fff;
                        border-color:#c2e7b0;
                        color:#67c23a
                    }
                    .el-tag--plain.el-tag--success.is-hit {
                        border-color:#67c23a
                    }
                    .el-tag--plain.el-tag--success .el-tag__close {
                        color:#67c23a
                    }
                    .el-tag--plain.el-tag--success .el-tag__close:hover {
                        color:#fff;
                        background-color:#67c23a
                    }
                    .el-tag--plain.el-tag--warning {
                        background-color:#fff;
                        border-color:#f5dab1;
                        color:#e6a23c
                    }
                    .el-tag--plain.el-tag--warning.is-hit {
                        border-color:#e6a23c
                    }
                    .el-tag--plain.el-tag--warning .el-tag__close {
                        color:#e6a23c
                    }
                    .el-tag--plain.el-tag--warning .el-tag__close:hover {
                        color:#fff;
                        background-color:#e6a23c
                    }
                    .el-tag--plain.el-tag--danger {
                        background-color:#fff;
                        border-color:#fbc4c4;
                        color:#f56c6c
                    }
                    .el-tag--plain.el-tag--danger.is-hit {
                        border-color:#f56c6c
                    }
                    .el-tag--plain.el-tag--danger .el-tag__close {
                        color:#f56c6c
                    }
                    .el-tag--plain.el-tag--danger .el-tag__close:hover {
                        color:#fff;
                        background-color:#f56c6c
                    }
                    .el-tag--medium {
                        height:28px;
                        line-height:26px
                    }
                    .el-tag--medium .el-icon-close {
                        -webkit-transform:scale(.8);
                        transform:scale(.8)
                    }
                    .el-tag--small {
                        height:24px;
                        padding:0 8px;
                        line-height:22px
                    }
                    .el-tag--small .el-icon-close {
                        -webkit-transform:scale(.8);
                        transform:scale(.8)
                    }
                    .el-tag--mini {
                        height:20px;
                        padding:0 5px;
                        line-height:19px
                    }
                    .el-tag--mini .el-icon-close {
                        margin-left:-3px;
                        -webkit-transform:scale(.7);
                        transform:scale(.7)
                    }
                    .el-cascader {
                        position:relative;
                        font-size:14px;
                        line-height:40px
                    }
                    .el-cascader:not(.is-disabled):hover .el-input__inner {
                        cursor:pointer;
                        border-color:#c0c4cc
                    }
                    .el-cascader .el-input .el-input__inner:focus,.el-cascader .el-input.is-focus .el-input__inner {
                        border-color:#409eff
                    }
                    .el-cascader .el-input {
                        cursor:pointer
                    }
                    .el-cascader .el-input .el-input__inner {
                        text-overflow:ellipsis
                    }
                    .el-cascader .el-input .el-icon-arrow-down {
                        -webkit-transition:-webkit-transform .3s;
                        transition:-webkit-transform .3s;
                        transition:transform .3s;
                        transition:transform .3s,-webkit-transform .3s;
                        font-size:14px
                    }
                    .el-cascader .el-input .el-icon-arrow-down.is-reverse {
                        -webkit-transform:rotateZ(180deg);
                        transform:rotateZ(180deg)
                    }
                    .el-cascader .el-input .el-icon-circle-close:hover {
                        color:#909399
                    }
                    .el-cascader--medium {
                        font-size:14px;
                        line-height:36px
                    }
                    .el-cascader--small {
                        font-size:13px;
                        line-height:32px
                    }
                    .el-cascader--mini {
                        font-size:12px;
                        line-height:28px
                    }
                    .el-cascader.is-disabled .el-cascader__label {
                        z-index:2;
                        color:#c0c4cc
                    }
                    .el-cascader__dropdown {
                        margin:5px 0;
                        font-size:14px;
                        background:#fff;
                        border:1px solid #e4e7ed;
                        border-radius:4px;
                        box-shadow:0 2px 12px 0 rgba(0,0,0,.1)
                    }
                    .el-cascader__tags {
                        position:absolute;
                        left:0;
                        right:30px;
                        top:50%;
                        -webkit-transform:translateY(-50%);
                        transform:translateY(-50%);
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -ms-flex-wrap:wrap;
                        flex-wrap:wrap;
                        line-height:normal;
                        text-align:left;
                        box-sizing:border-box
                    }
                    .el-cascader__tags .el-tag {
                        display:-webkit-inline-box;
                        display:-ms-inline-flexbox;
                        display:inline-flex;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        max-width:100%;
                        margin:2px 0 2px 6px;
                        text-overflow:ellipsis;
                        background:#f0f2f5
                    }
                    .el-cascader__tags .el-tag:not(.is-hit) {
                        border-color:transparent
                    }
                    .el-cascader__tags .el-tag>span {
                        -webkit-box-flex:1;
                        -ms-flex:1;
                        flex:1;
                        overflow:hidden;
                        text-overflow:ellipsis
                    }
                    .el-cascader__tags .el-tag .el-icon-close {
                        -webkit-box-flex:0;
                        -ms-flex:none;
                        flex:none;
                        background-color:#c0c4cc;
                        color:#fff
                    }
                    .el-cascader__tags .el-tag .el-icon-close:hover {
                        background-color:#909399
                    }
                    .el-cascader__suggestion-panel {
                        border-radius:4px
                    }
                    .el-cascader__suggestion-list {
                        max-height:204px;
                        margin:0;
                        padding:6px 0;
                        font-size:14px;
                        color:#606266;
                        text-align:center
                    }
                    .el-cascader__suggestion-item {
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -webkit-box-pack:justify;
                        -ms-flex-pack:justify;
                        justify-content:space-between;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        height:34px;
                        padding:0 15px;
                        text-align:left;
                        outline:0;
                        cursor:pointer
                    }
                    .el-cascader__suggestion-item:focus,.el-cascader__suggestion-item:hover {
                        background:#f5f7fa
                    }
                    .el-cascader__suggestion-item.is-checked {
                        color:#409eff;
                        font-weight:700
                    }
                    .el-cascader__suggestion-item>span {
                        margin-right:10px
                    }
                    .el-cascader__empty-text {
                        margin:10px 0;
                        color:#c0c4cc
                    }
                    .el-cascader__search-input {
                        -webkit-box-flex:1;
                        -ms-flex:1;
                        flex:1;
                        height:24px;
                        min-width:60px;
                        margin:2px 0 2px 15px;
                        padding:0;
                        color:#606266;
                        border:none;
                        outline:0;
                        box-sizing:border-box
                    }
                    .el-cascader__search-input::-webkit-input-placeholder {
                        color:#c0c4cc
                    }
                    .el-cascader__search-input:-ms-input-placeholder {
                        color:#c0c4cc
                    }
                    .el-cascader__search-input::-ms-input-placeholder {
                        color:#c0c4cc
                    }
                    .el-cascader__search-input::placeholder {
                        color:#c0c4cc
                    }
                    .el-color-predefine {
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        font-size:12px;
                        margin-top:8px;
                        width:280px
                    }
                    .el-color-predefine__colors {
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -webkit-box-flex:1;
                        -ms-flex:1;
                        flex:1;
                        -ms-flex-wrap:wrap;
                        flex-wrap:wrap
                    }
                    .el-color-predefine__color-selector {
                        margin:0 0 8px 8px;
                        width:20px;
                        height:20px;
                        border-radius:4px;
                        cursor:pointer
                    }
                    .el-color-predefine__color-selector:nth-child(10n+1) {
                        margin-left:0
                    }
                    .el-color-predefine__color-selector.selected {
                        -webkit-box-shadow:0 0 3px 2px #409eff;
                        box-shadow:0 0 3px 2px #409eff
                    }
                    .el-color-predefine__color-selector>div {
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        height:100%;
                        border-radius:3px
                    }
                    .el-color-predefine__color-selector.is-alpha {
                        background-image:url(data:image/png;
                        base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)
                    }
                    .el-color-hue-slider {
                        position:relative;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        width:280px;
                        height:12px;
                        background-color:red;
                        padding:0 2px
                    }
                    .el-color-hue-slider__bar {
                        position:relative;
                        background:-webkit-gradient(linear,left top,right top,from(red),color-stop(17%,#ff0),color-stop(33%,#0f0),color-stop(50%,#0ff),color-stop(67%,#00f),color-stop(83%,#f0f),to(red));
                        background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%);
                        height:100%
                    }
                    .el-color-hue-slider__thumb {
                        position:absolute;
                        cursor:pointer;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        left:0;
                        top:0;
                        width:4px;
                        height:100%;
                        border-radius:1px;
                        background:#fff;
                        border:1px solid #f0f0f0;
                        -webkit-box-shadow:0 0 2px rgba(0,0,0,.6);
                        box-shadow:0 0 2px rgba(0,0,0,.6);
                        z-index:1
                    }
                    .el-color-hue-slider.is-vertical {
                        width:12px;
                        height:180px;
                        padding:2px 0
                    }
                    .el-color-hue-slider.is-vertical .el-color-hue-slider__bar {
                        background:-webkit-gradient(linear,left top,left bottom,from(red),color-stop(17%,#ff0),color-stop(33%,#0f0),color-stop(50%,#0ff),color-stop(67%,#00f),color-stop(83%,#f0f),to(red));
                        background:linear-gradient(to bottom,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)
                    }
                    .el-color-hue-slider.is-vertical .el-color-hue-slider__thumb {
                        left:0;
                        top:0;
                        width:100%;
                        height:4px
                    }
                    .el-color-svpanel {
                        position:relative;
                        width:280px;
                        height:180px
                    }
                    .el-color-svpanel__black,.el-color-svpanel__white {
                        position:absolute;
                        top:0;
                        left:0;
                        right:0;
                        bottom:0
                    }
                    .el-color-svpanel__white {
                        background:-webkit-gradient(linear,left top,right top,from(#fff),to(rgba(255,255,255,0)));
                        background:linear-gradient(to right,#fff,rgba(255,255,255,0))
                    }
                    .el-color-svpanel__black {
                        background:-webkit-gradient(linear,left bottom,left top,from(#000),to(rgba(0,0,0,0)));
                        background:linear-gradient(to top,#000,rgba(0,0,0,0))
                    }
                    .el-color-svpanel__cursor {
                        position:absolute
                    }
                    .el-color-svpanel__cursor>div {
                        cursor:head;
                        width:4px;
                        height:4px;
                        -webkit-box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);
                        box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);
                        border-radius:50%;
                        -webkit-transform:translate(-2px,-2px);
                        transform:translate(-2px,-2px)
                    }
                    .el-color-alpha-slider {
                        position:relative;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        width:280px;
                        height:12px;
                        background:url(data:image/png;
                        base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)
                    }
                    .el-color-alpha-slider__bar {
                        position:relative;
                        background:-webkit-gradient(linear,left top,right top,from(rgba(255,255,255,0)),to(white));
                        background:linear-gradient(to right,rgba(255,255,255,0) 0,#fff 100%);
                        height:100%
                    }
                    .el-color-alpha-slider__thumb {
                        position:absolute;
                        cursor:pointer;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        left:0;
                        top:0;
                        width:4px;
                        height:100%;
                        border-radius:1px;
                        background:#fff;
                        border:1px solid #f0f0f0;
                        -webkit-box-shadow:0 0 2px rgba(0,0,0,.6);
                        box-shadow:0 0 2px rgba(0,0,0,.6);
                        z-index:1
                    }
                    .el-color-alpha-slider.is-vertical {
                        width:20px;
                        height:180px
                    }
                    .el-color-alpha-slider.is-vertical .el-color-alpha-slider__bar {
                        background:-webkit-gradient(linear,left top,left bottom,from(rgba(255,255,255,0)),to(white));
                        background:linear-gradient(to bottom,rgba(255,255,255,0) 0,#fff 100%)
                    }
                    .el-color-alpha-slider.is-vertical .el-color-alpha-slider__thumb {
                        left:0;
                        top:0;
                        width:100%;
                        height:4px
                    }
                    .el-color-dropdown {
                        width:300px
                    }
                    .el-color-dropdown__main-wrapper {
                        margin-bottom:6px
                    }
                    .el-color-dropdown__main-wrapper::after {
                        display:table;
                        clear:both
                    }
                    .el-color-dropdown__btns {
                        margin-top:6px;
                        text-align:right
                    }
                    .el-color-dropdown__value {
                        float:left;
                        line-height:26px;
                        font-size:12px;
                        color:#000;
                        width:160px
                    }
                    .el-color-dropdown__btn {
                        border:1px solid #dcdcdc;
                        color:#333;
                        line-height:24px;
                        border-radius:2px;
                        padding:0 20px;
                        cursor:pointer;
                        background-color:transparent;
                        outline:0;
                        font-size:12px
                    }
                    .el-color-dropdown__btn[disabled] {
                        color:#ccc;
                        cursor:not-allowed
                    }
                    .el-color-dropdown__btn:hover {
                        color:#409eff;
                        border-color:#409eff
                    }
                    .el-color-dropdown__link-btn {
                        cursor:pointer;
                        color:#409eff;
                        text-decoration:none;
                        padding:15px;
                        font-size:12px
                    }
                    .el-color-dropdown__link-btn:hover {
                        color:tint(#409eff,20%)
                    }
                    .el-color-picker {
                        display:inline-block;
                        position:relative;
                        line-height:normal;
                        height:40px
                    }
                    .el-color-picker.is-disabled .el-color-picker__trigger {
                        cursor:not-allowed
                    }
                    .el-color-picker--medium {
                        height:36px
                    }
                    .el-color-picker--medium .el-color-picker__trigger {
                        height:36px;
                        width:36px
                    }
                    .el-color-picker--medium .el-color-picker__mask {
                        height:34px;
                        width:34px
                    }
                    .el-color-picker--small {
                        height:32px
                    }
                    .el-color-picker--small .el-color-picker__trigger {
                        height:32px;
                        width:32px
                    }
                    .el-color-picker--small .el-color-picker__mask {
                        height:30px;
                        width:30px
                    }
                    .el-color-picker--small .el-color-picker__empty,.el-color-picker--small .el-color-picker__icon {
                        -webkit-transform:translate3d(-50%,-50%,0) scale(.8);
                        transform:translate3d(-50%,-50%,0) scale(.8)
                    }
                    .el-color-picker--mini {
                        height:28px
                    }
                    .el-color-picker--mini .el-color-picker__trigger {
                        height:28px;
                        width:28px
                    }
                    .el-color-picker--mini .el-color-picker__mask {
                        height:26px;
                        width:26px
                    }
                    .el-color-picker--mini .el-color-picker__empty,.el-color-picker--mini .el-color-picker__icon {
                        -webkit-transform:translate3d(-50%,-50%,0) scale(.8);
                        transform:translate3d(-50%,-50%,0) scale(.8)
                    }
                    .el-color-picker__mask {
                        height:38px;
                        width:38px;
                        border-radius:4px;
                        position:absolute;
                        top:1px;
                        left:1px;
                        z-index:1;
                        cursor:not-allowed;
                        background-color:rgba(255,255,255,.7)
                    }
                    .el-color-picker__trigger {
                        display:inline-block;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        height:40px;
                        width:40px;
                        padding:4px;
                        border:1px solid #e6e6e6;
                        border-radius:4px;
                        font-size:0;
                        position:relative;
                        cursor:pointer
                    }
                    .el-color-picker__color {
                        position:relative;
                        display:block;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        border:1px solid #999;
                        border-radius:2px;
                        width:100%;
                        height:100%;
                        text-align:center
                    }
                    .el-color-picker__icon,.el-input,.el-textarea {
                        display:inline-block;
                        width:100%
                    }
                    .el-color-picker__color.is-alpha {
                        background-image:url(data:image/png;
                        base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)
                    }
                    .el-color-picker__color-inner {
                        position:absolute;
                        left:0;
                        top:0;
                        right:0;
                        bottom:0
                    }
                    .el-color-picker__empty {
                        font-size:12px;
                        color:#999;
                        position:absolute;
                        top:50%;
                        left:50%;
                        -webkit-transform:translate3d(-50%,-50%,0);
                        transform:translate3d(-50%,-50%,0)
                    }
                    .el-color-picker__icon {
                        position:absolute;
                        top:50%;
                        left:50%;
                        -webkit-transform:translate3d(-50%,-50%,0);
                        transform:translate3d(-50%,-50%,0);
                        color:#fff;
                        text-align:center;
                        font-size:12px
                    }
                    .el-input__prefix,.el-input__suffix {
                        position:absolute;
                        top:0;
                        text-align:center
                    }
                    .el-color-picker__panel {
                        position:absolute;
                        z-index:10;
                        padding:6px;
                        -webkit-box-sizing:content-box;
                        box-sizing:content-box;
                        background-color:#fff;
                        border:1px solid #ebeef5;
                        border-radius:4px;
                        box-shadow:0 2px 12px 0 rgba(0,0,0,.1)
                    }
                    .el-input__inner,.el-textarea__inner,.el-transfer-panel {
                        -webkit-box-sizing:border-box
                    }
                    .el-textarea {
                        position:relative;
                        vertical-align:bottom;
                        font-size:14px
                    }
                    .el-textarea__inner {
                        display:block;
                        resize:vertical;
                        padding:5px 15px;
                        line-height:1.5;
                        box-sizing:border-box;
                        width:100%;
                        font-size:inherit;
                        color:#606266;
                        background-color:#fff;
                        background-image:none;
                        border:1px solid #dcdfe6;
                        border-radius:4px;
                        -webkit-transition:border-color .2s cubic-bezier(.645,.045,.355,1);
                        transition:border-color .2s cubic-bezier(.645,.045,.355,1)
                    }
                    .el-textarea__inner::-webkit-input-placeholder {
                        color:#c0c4cc
                    }
                    .el-textarea__inner:-ms-input-placeholder {
                        color:#c0c4cc
                    }
                    .el-textarea__inner::-ms-input-placeholder {
                        color:#c0c4cc
                    }
                    .el-textarea__inner::placeholder {
                        color:#c0c4cc
                    }
                    .el-textarea__inner:hover {
                        border-color:#c0c4cc
                    }
                    .el-textarea__inner:focus {
                        outline:0;
                        border-color:#409eff
                    }
                    .el-textarea .el-input__count {
                        color:#909399;
                        background:#fff;
                        position:absolute;
                        font-size:12px;
                        bottom:5px;
                        right:10px
                    }
                    .el-textarea.is-disabled .el-textarea__inner {
                        background-color:#f5f7fa;
                        border-color:#e4e7ed;
                        color:#c0c4cc;
                        cursor:not-allowed
                    }
                    .el-textarea.is-disabled .el-textarea__inner::-webkit-input-placeholder {
                        color:#c0c4cc
                    }
                    .el-textarea.is-disabled .el-textarea__inner:-ms-input-placeholder {
                        color:#c0c4cc
                    }
                    .el-textarea.is-disabled .el-textarea__inner::-ms-input-placeholder {
                        color:#c0c4cc
                    }
                    .el-textarea.is-disabled .el-textarea__inner::placeholder {
                        color:#c0c4cc
                    }
                    .el-textarea.is-exceed .el-textarea__inner {
                        border-color:#f56c6c
                    }
                    .el-textarea.is-exceed .el-input__count {
                        color:#f56c6c
                    }
                    .el-input {
                        position:relative;
                        font-size:14px
                    }
                    .el-input::-webkit-scrollbar {
                        z-index:11;
                        width:6px
                    }
                    .el-input::-webkit-scrollbar:horizontal {
                        height:6px
                    }
                    .el-input::-webkit-scrollbar-thumb {
                        border-radius:5px;
                        width:6px;
                        background:#b4bccc
                    }
                    .el-input::-webkit-scrollbar-corner {
                        background:#fff
                    }
                    .el-input::-webkit-scrollbar-track {
                        background:#fff
                    }
                    .el-input::-webkit-scrollbar-track-piece {
                        background:#fff;
                        width:6px
                    }
                    .el-input .el-input__clear {
                        color:#c0c4cc;
                        font-size:14px;
                        cursor:pointer;
                        -webkit-transition:color .2s cubic-bezier(.645,.045,.355,1);
                        transition:color .2s cubic-bezier(.645,.045,.355,1)
                    }
                    .el-input .el-input__clear:hover {
                        color:#909399
                    }
                    .el-input .el-input__count {
                        height:100%;
                        display:-webkit-inline-box;
                        display:-ms-inline-flexbox;
                        display:inline-flex;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        color:#909399;
                        font-size:12px
                    }
                    .el-input-group__append .el-button,.el-input-group__append .el-input,.el-input-group__prepend .el-button,.el-input-group__prepend .el-input,.el-input__inner {
                        font-size:inherit
                    }
                    .el-input .el-input__count .el-input__count-inner {
                        background:#fff;
                        line-height:initial;
                        display:inline-block;
                        padding:0 5px
                    }
                    .el-input__inner {
                        -webkit-appearance:none;
                        background-color:#fff;
                        background-image:none;
                        border-radius:4px;
                        border:1px solid #dcdfe6;
                        box-sizing:border-box;
                        color:#606266;
                        display:inline-block;
                        height:40px;
                        line-height:40px;
                        outline:0;
                        padding:0 15px;
                        -webkit-transition:border-color .2s cubic-bezier(.645,.045,.355,1);
                        transition:border-color .2s cubic-bezier(.645,.045,.355,1);
                        width:100%
                    }
                    .el-input__inner::-ms-reveal {
                        display:none
                    }
                    .el-input__inner::-webkit-input-placeholder {
                        color:#c0c4cc
                    }
                    .el-input__inner:-ms-input-placeholder {
                        color:#c0c4cc
                    }
                    .el-input__inner::-ms-input-placeholder {
                        color:#c0c4cc
                    }
                    .el-input__inner::placeholder {
                        color:#c0c4cc
                    }
                    .el-input__inner:hover {
                        border-color:#c0c4cc
                    }
                    .el-input.is-active .el-input__inner,.el-input__inner:focus {
                        border-color:#409eff;
                        outline:0
                    }
                    .el-input__suffix {
                        height:100%;
                        right:5px;
                        transition:all .3s;
                        pointer-events:none
                    }
                    .el-input__suffix-inner {
                        pointer-events:all
                    }
                    .el-input__prefix {
                        height:100%;
                        left:5px;
                        transition:all .3s
                    }
                    .el-input__icon {
                        height:100%;
                        width:25px;
                        text-align:center;
                        -webkit-transition:all .3s;
                        transition:all .3s;
                        line-height:40px
                    }
                    .el-input__icon:after {
                        content:'';
                        height:100%;
                        width:0;
                        display:inline-block;
                        vertical-align:middle
                    }
                    .el-input__validateIcon {
                        pointer-events:none
                    }
                    .el-input.is-disabled .el-input__inner {
                        background-color:#f5f7fa;
                        border-color:#e4e7ed;
                        color:#c0c4cc;
                        cursor:not-allowed
                    }
                    .el-input.is-disabled .el-input__inner::-webkit-input-placeholder {
                        color:#c0c4cc
                    }
                    .el-input.is-disabled .el-input__inner:-ms-input-placeholder {
                        color:#c0c4cc
                    }
                    .el-input.is-disabled .el-input__inner::-ms-input-placeholder {
                        color:#c0c4cc
                    }
                    .el-input.is-disabled .el-input__inner::placeholder {
                        color:#c0c4cc
                    }
                    .el-input.is-disabled .el-input__icon {
                        cursor:not-allowed
                    }
                    .el-image-viewer__btn,.el-image__preview,.el-link,.el-transfer-panel__filter .el-icon-circle-close {
                        cursor:pointer
                    }
                    .el-input.is-exceed .el-input__inner {
                        border-color:#f56c6c
                    }
                    .el-input.is-exceed .el-input__suffix .el-input__count {
                        color:#f56c6c
                    }
                    .el-input--suffix .el-input__inner {
                        padding-right:30px
                    }
                    .el-input--prefix .el-input__inner {
                        padding-left:30px
                    }
                    .el-input--medium {
                        font-size:14px
                    }
                    .el-input--medium .el-input__inner {
                        height:36px;
                        line-height:36px
                    }
                    .el-input--medium .el-input__icon {
                        line-height:36px
                    }
                    .el-input--small {
                        font-size:13px
                    }
                    .el-input--small .el-input__inner {
                        height:32px;
                        line-height:32px
                    }
                    .el-input--small .el-input__icon {
                        line-height:32px
                    }
                    .el-input--mini {
                        font-size:12px
                    }
                    .el-input--mini .el-input__inner {
                        height:28px;
                        line-height:28px
                    }
                    .el-input--mini .el-input__icon {
                        line-height:28px
                    }
                    .el-input-group {
                        line-height:normal;
                        display:inline-table;
                        width:100%;
                        border-collapse:separate;
                        border-spacing:0
                    }
                    .el-input-group>.el-input__inner {
                        vertical-align:middle;
                        display:table-cell
                    }
                    .el-input-group__append,.el-input-group__prepend {
                        background-color:#f5f7fa;
                        color:#909399;
                        vertical-align:middle;
                        display:table-cell;
                        position:relative;
                        border:1px solid #dcdfe6;
                        border-radius:4px;
                        padding:0 20px;
                        width:1px;
                        white-space:nowrap
                    }
                    .el-input-group--append .el-input__inner,.el-input-group__prepend {
                        border-top-right-radius:0;
                        border-bottom-right-radius:0
                    }
                    .el-input-group__append:focus,.el-input-group__prepend:focus {
                        outline:0
                    }
                    .el-input-group__append .el-button,.el-input-group__append .el-select,.el-input-group__prepend .el-button,.el-input-group__prepend .el-select {
                        display:inline-block;
                        margin:-10px -20px
                    }
                    .el-input-group__append button.el-button,.el-input-group__append div.el-select .el-input__inner,.el-input-group__append div.el-select:hover .el-input__inner,.el-input-group__prepend button.el-button,.el-input-group__prepend div.el-select .el-input__inner,.el-input-group__prepend div.el-select:hover .el-input__inner {
                        border-color:transparent;
                        background-color:transparent;
                        color:inherit;
                        border-top:0;
                        border-bottom:0
                    }
                    .el-input-group__prepend {
                        border-right:0
                    }
                    .el-input-group__append {
                        border-left:0;
                        border-top-left-radius:0;
                        border-bottom-left-radius:0
                    }
                    .el-input-group--append .el-select .el-input.is-focus .el-input__inner,.el-input-group--prepend .el-select .el-input.is-focus .el-input__inner {
                        border-color:transparent
                    }
                    .el-input-group--prepend .el-input__inner {
                        border-top-left-radius:0;
                        border-bottom-left-radius:0
                    }
                    .el-input__inner::-ms-clear {
                        display:none;
                        width:0;
                        height:0
                    }
                    .el-transfer {
                        font-size:14px
                    }
                    .el-transfer__buttons {
                        display:inline-block;
                        vertical-align:middle;
                        padding:0 30px
                    }
                    .el-transfer__button {
                        display:block;
                        margin:0 auto;
                        padding:10px;
                        border-radius:50%;
                        color:#fff;
                        background-color:#409eff;
                        font-size:0
                    }
                    .el-button-group>.el-button+.el-button,.el-transfer-panel__item+.el-transfer-panel__item,.el-transfer__button [class*=el-icon-]+span {
                        margin-left:0
                    }
                    .el-divider__text,.el-image__error,.el-link,.el-timeline,.el-transfer__button i,.el-transfer__button span {
                        font-size:14px
                    }
                    .el-transfer__button.is-with-texts {
                        border-radius:4px
                    }
                    .el-transfer__button.is-disabled,.el-transfer__button.is-disabled:hover {
                        border:1px solid #dcdfe6;
                        background-color:#f5f7fa;
                        color:#c0c4cc
                    }
                    .el-transfer__button:first-child {
                        margin-bottom:10px
                    }
                    .el-transfer__button:nth-child(2) {
                        margin:0
                    }
                    .el-transfer-panel {
                        border:1px solid #ebeef5;
                        border-radius:4px;
                        overflow:hidden;
                        background:#fff;
                        display:inline-block;
                        vertical-align:middle;
                        width:200px;
                        max-height:100%;
                        box-sizing:border-box;
                        position:relative
                    }
                    .el-transfer-panel__body {
                        height:246px
                    }
                    .el-transfer-panel__body.is-with-footer {
                        padding-bottom:40px
                    }
                    .el-transfer-panel__list {
                        margin:0;
                        padding:6px 0;
                        list-style:none;
                        height:246px;
                        overflow:auto;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box
                    }
                    .el-transfer-panel__list.is-filterable {
                        height:194px;
                        padding-top:0
                    }
                    .el-transfer-panel__item {
                        height:30px;
                        line-height:30px;
                        padding-left:15px;
                        display:block!important
                    }
                    .el-transfer-panel__item.el-checkbox {
                        color:#606266
                    }
                    .el-transfer-panel__item:hover {
                        color:#409eff
                    }
                    .el-transfer-panel__item.el-checkbox .el-checkbox__label {
                        width:100%;
                        overflow:hidden;
                        text-overflow:ellipsis;
                        white-space:nowrap;
                        display:block;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        padding-left:24px;
                        line-height:30px
                    }
                    .el-transfer-panel__item .el-checkbox__input {
                        position:absolute;
                        top:8px
                    }
                    .el-transfer-panel__filter {
                        text-align:center;
                        margin:15px;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        display:block;
                        width:auto
                    }
                    .el-transfer-panel__filter .el-input__inner {
                        height:32px;
                        width:100%;
                        font-size:12px;
                        display:inline-block;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        border-radius:16px;
                        padding-right:10px;
                        padding-left:30px
                    }
                    .el-transfer-panel__filter .el-input__icon {
                        margin-left:5px
                    }
                    .el-transfer-panel .el-transfer-panel__header {
                        height:40px;
                        line-height:40px;
                        background:#f5f7fa;
                        margin:0;
                        padding-left:15px;
                        border-bottom:1px solid #ebeef5;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        color:#000
                    }
                    .el-container,.el-header {
                        -webkit-box-sizing:border-box
                    }
                    .el-transfer-panel .el-transfer-panel__header .el-checkbox {
                        display:block;
                        line-height:40px
                    }
                    .el-transfer-panel .el-transfer-panel__header .el-checkbox .el-checkbox__label {
                        font-size:16px;
                        color:#303133;
                        font-weight:400
                    }
                    .el-transfer-panel .el-transfer-panel__header .el-checkbox .el-checkbox__label span {
                        position:absolute;
                        right:15px;
                        color:#909399;
                        font-size:12px;
                        font-weight:400
                    }
                    .el-transfer-panel .el-transfer-panel__footer {
                        height:40px;
                        background:#fff;
                        margin:0;
                        padding:0;
                        border-top:1px solid #ebeef5;
                        position:absolute;
                        bottom:0;
                        left:0;
                        width:100%;
                        z-index:1
                    }
                    .el-transfer-panel .el-transfer-panel__footer::after {
                        display:inline-block;
                        height:100%;
                        vertical-align:middle
                    }
                    .el-container,.el-timeline-item__node {
                        display:-webkit-box;
                        display:-ms-flexbox
                    }
                    .el-transfer-panel .el-transfer-panel__footer .el-checkbox {
                        padding-left:20px;
                        color:#606266
                    }
                    .el-transfer-panel .el-transfer-panel__empty {
                        margin:0;
                        height:30px;
                        line-height:30px;
                        padding:6px 15px 0;
                        color:#909399;
                        text-align:center
                    }
                    .el-transfer-panel .el-checkbox__label {
                        padding-left:8px
                    }
                    .el-transfer-panel .el-checkbox__inner {
                        height:14px;
                        width:14px;
                        border-radius:3px
                    }
                    .el-transfer-panel .el-checkbox__inner::after {
                        height:6px;
                        width:3px;
                        left:4px
                    }
                    .el-container {
                        display:flex;
                        -webkit-box-orient:horizontal;
                        -webkit-box-direction:normal;
                        -ms-flex-direction:row;
                        flex-direction:row;
                        -webkit-box-flex:1;
                        -ms-flex:1;
                        flex:1;
                        -ms-flex-preferred-size:auto;
                        flex-basis:auto;
                        box-sizing:border-box;
                        min-width:0
                    }
                    .el-container.is-vertical,.el-drawer,.el-empty,.el-result {
                        -webkit-box-orient:vertical;
                        -webkit-box-direction:normal
                    }
                    .el-container.is-vertical {
                        -ms-flex-direction:column;
                        flex-direction:column
                    }
                    .el-header {
                        padding:0 20px;
                        box-sizing:border-box;
                        -ms-flex-negative:0;
                        flex-shrink:0
                    }
                    .el-aside {
                        overflow:auto;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        -ms-flex-negative:0;
                        flex-shrink:0
                    }
                    .el-main {
                        display:block;
                        -webkit-box-flex:1;
                        -ms-flex:1;
                        flex:1;
                        -ms-flex-preferred-size:auto;
                        flex-basis:auto;
                        overflow:auto;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box
                    }
                    .el-footer {
                        padding:0 20px;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        -ms-flex-negative:0;
                        flex-shrink:0
                    }
                    .el-timeline {
                        margin:0;
                        list-style:none
                    }
                    .el-timeline .el-timeline-item:last-child .el-timeline-item__tail {
                        display:none
                    }
                    .el-timeline-item {
                        position:relative;
                        padding-bottom:20px
                    }
                    .el-timeline-item__wrapper {
                        position:relative;
                        padding-left:28px;
                        top:-3px
                    }
                    .el-timeline-item__tail {
                        position:absolute;
                        left:4px;
                        height:100%;
                        border-left:2px solid #e4e7ed
                    }
                    .el-timeline-item__icon {
                        color:#fff;
                        font-size:13px
                    }
                    .el-timeline-item__node {
                        position:absolute;
                        background-color:#e4e7ed;
                        border-radius:50%;
                        display:flex;
                        -webkit-box-pack:center;
                        -ms-flex-pack:center;
                        justify-content:center;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center
                    }
                    .el-image__error,.el-timeline-item__dot {
                        display:-webkit-box;
                        display:-ms-flexbox
                    }
                    .el-timeline-item__node--normal {
                        left:-1px;
                        width:12px;
                        height:12px
                    }
                    .el-timeline-item__node--large {
                        left:-2px;
                        width:14px;
                        height:14px
                    }
                    .el-timeline-item__node--primary {
                        background-color:#409eff
                    }
                    .el-timeline-item__node--success {
                        background-color:#67c23a
                    }
                    .el-timeline-item__node--warning {
                        background-color:#e6a23c
                    }
                    .el-timeline-item__node--danger {
                        background-color:#f56c6c
                    }
                    .el-timeline-item__node--info {
                        background-color:#909399
                    }
                    .el-timeline-item__dot {
                        position:absolute;
                        display:flex;
                        -webkit-box-pack:center;
                        -ms-flex-pack:center;
                        justify-content:center;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center
                    }
                    .el-timeline-item__content {
                        color:#303133
                    }
                    .el-timeline-item__timestamp {
                        color:#909399;
                        line-height:1;
                        font-size:13px
                    }
                    .el-timeline-item__timestamp.is-top {
                        margin-bottom:8px;
                        padding-top:4px
                    }
                    .el-timeline-item__timestamp.is-bottom {
                        margin-top:8px
                    }
                    .el-link {
                        display:-webkit-inline-box;
                        display:-ms-inline-flexbox;
                        display:inline-flex;
                        -webkit-box-orient:horizontal;
                        -webkit-box-direction:normal;
                        -ms-flex-direction:row;
                        flex-direction:row;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        -webkit-box-pack:center;
                        -ms-flex-pack:center;
                        justify-content:center;
                        vertical-align:middle;
                        position:relative;
                        text-decoration:none;
                        outline:0;
                        padding:0;
                        font-weight:500
                    }
                    .el-link.is-underline:hover:after {
                        position:absolute;
                        left:0;
                        right:0;
                        height:0;
                        bottom:0;
                        border-bottom:1px solid #409eff
                    }
                    .el-link.el-link--default:after,.el-link.el-link--primary.is-underline:hover:after,.el-link.el-link--primary:after {
                        border-color:#409eff
                    }
                    .el-link.is-disabled {
                        cursor:not-allowed
                    }
                    .el-link [class*=el-icon-]+span {
                        margin-left:5px
                    }
                    .el-link.el-link--default {
                        color:#606266
                    }
                    .el-link.el-link--default:hover {
                        color:#409eff
                    }
                    .el-link.el-link--default.is-disabled {
                        color:#c0c4cc
                    }
                    .el-link.el-link--primary {
                        color:#409eff
                    }
                    .el-link.el-link--primary:hover {
                        color:#66b1ff
                    }
                    .el-link.el-link--primary.is-disabled {
                        color:#a0cfff
                    }
                    .el-link.el-link--danger.is-underline:hover:after,.el-link.el-link--danger:after {
                        border-color:#f56c6c
                    }
                    .el-link.el-link--danger {
                        color:#f56c6c
                    }
                    .el-link.el-link--danger:hover {
                        color:#f78989
                    }
                    .el-link.el-link--danger.is-disabled {
                        color:#fab6b6
                    }
                    .el-link.el-link--success.is-underline:hover:after,.el-link.el-link--success:after {
                        border-color:#67c23a
                    }
                    .el-link.el-link--success {
                        color:#67c23a
                    }
                    .el-link.el-link--success:hover {
                        color:#85ce61
                    }
                    .el-link.el-link--success.is-disabled {
                        color:#b3e19d
                    }
                    .el-link.el-link--warning.is-underline:hover:after,.el-link.el-link--warning:after {
                        border-color:#e6a23c
                    }
                    .el-link.el-link--warning {
                        color:#e6a23c
                    }
                    .el-link.el-link--warning:hover {
                        color:#ebb563
                    }
                    .el-link.el-link--warning.is-disabled {
                        color:#f3d19e
                    }
                    .el-link.el-link--info.is-underline:hover:after,.el-link.el-link--info:after {
                        border-color:#909399
                    }
                    .el-link.el-link--info {
                        color:#909399
                    }
                    .el-link.el-link--info:hover {
                        color:#a6a9ad
                    }
                    .el-link.el-link--info.is-disabled {
                        color:#c8c9cc
                    }
                    .el-divider {
                        background-color:#dcdfe6;
                        position:relative
                    }
                    .el-divider--horizontal {
                        display:block;
                        height:1px;
                        width:100%;
                        margin:24px 0
                    }
                    .el-divider--vertical {
                        display:inline-block;
                        width:1px;
                        height:1em;
                        margin:0 8px;
                        vertical-align:middle;
                        position:relative
                    }
                    .el-divider__text {
                        position:absolute;
                        background-color:#fff;
                        padding:0 20px;
                        font-weight:500;
                        color:#303133
                    }
                    .el-image__error,.el-image__placeholder {
                        background:#f5f7fa
                    }
                    .el-divider__text.is-left {
                        left:20px;
                        -webkit-transform:translateY(-50%);
                        transform:translateY(-50%)
                    }
                    .el-divider__text.is-center {
                        left:50%;
                        -webkit-transform:translateX(-50%) translateY(-50%);
                        transform:translateX(-50%) translateY(-50%)
                    }
                    .el-divider__text.is-right {
                        right:20px;
                        -webkit-transform:translateY(-50%);
                        transform:translateY(-50%)
                    }
                    .el-image__error,.el-image__inner,.el-image__placeholder {
                        width:100%;
                        height:100%
                    }
                    .el-image {
                        position:relative;
                        display:inline-block;
                        overflow:hidden
                    }
                    .el-image__inner {
                        vertical-align:top
                    }
                    .el-image__inner--center {
                        position:relative;
                        top:50%;
                        left:50%;
                        -webkit-transform:translate(-50%,-50%);
                        transform:translate(-50%,-50%);
                        display:block
                    }
                    .el-image__error {
                        display:flex;
                        -webkit-box-pack:center;
                        -ms-flex-pack:center;
                        justify-content:center;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        color:#c0c4cc;
                        vertical-align:middle
                    }
                    .el-image-viewer__wrapper {
                        position:fixed;
                        top:0;
                        right:0;
                        bottom:0;
                        left:0
                    }
                    .el-image-viewer__btn {
                        position:absolute;
                        z-index:1;
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        -webkit-box-pack:center;
                        -ms-flex-pack:center;
                        justify-content:center;
                        border-radius:50%;
                        opacity:.8;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        -webkit-user-select:none;
                        user-select:none
                    }
                    .el-button,.el-checkbox,.el-checkbox-button__inner,.el-empty__image img,.el-radio {
                        -webkit-user-select:none;
                        -moz-user-select:none;
                        -ms-user-select:none
                    }
                    .el-image-viewer__close {
                        top:40px;
                        right:40px;
                        width:40px;
                        height:40px;
                        font-size:24px;
                        color:#fff;
                        background-color:#606266
                    }
                    .el-image-viewer__canvas {
                        width:100%;
                        height:100%;
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -webkit-box-pack:center;
                        -ms-flex-pack:center;
                        justify-content:center;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center
                    }
                    .el-image-viewer__actions {
                        left:50%;
                        bottom:30px;
                        -webkit-transform:translateX(-50%);
                        transform:translateX(-50%);
                        width:282px;
                        height:44px;
                        padding:0 23px;
                        background-color:#606266;
                        border-color:#fff;
                        border-radius:22px
                    }
                    .el-image-viewer__actions__inner {
                        width:100%;
                        height:100%;
                        text-align:justify;
                        cursor:default;
                        font-size:23px;
                        color:#fff;
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        -ms-flex-pack:distribute;
                        justify-content:space-around
                    }
                    .el-image-viewer__next,.el-image-viewer__prev {
                        width:44px;
                        height:44px;
                        font-size:24px;
                        color:#fff;
                        background-color:#606266;
                        border-color:#fff;
                        top:50%
                    }
                    .el-image-viewer__prev {
                        -webkit-transform:translateY(-50%);
                        transform:translateY(-50%);
                        left:40px
                    }
                    .el-image-viewer__next {
                        -webkit-transform:translateY(-50%);
                        transform:translateY(-50%);
                        right:40px;
                        text-indent:2px
                    }
                    .el-image-viewer__mask {
                        position:absolute;
                        width:100%;
                        height:100%;
                        top:0;
                        left:0;
                        opacity:.5;
                        background:#000
                    }
                    .viewer-fade-enter-active {
                        -webkit-animation:viewer-fade-in .3s;
                        animation:viewer-fade-in .3s
                    }
                    .viewer-fade-leave-active {
                        -webkit-animation:viewer-fade-out .3s;
                        animation:viewer-fade-out .3s
                    }
                    @-webkit-keyframes viewer-fade-in {
                        0% {
                        -webkit-transform:translate3d(0,-20px,0);
                        transform:translate3d(0,-20px,0);
                        opacity:0
                    }
                    100% {
                        -webkit-transform:translate3d(0,0,0);
                        transform:translate3d(0,0,0);
                        opacity:1
                    }
                    }@keyframes viewer-fade-in {
                        0% {
                        -webkit-transform:translate3d(0,-20px,0);
                        transform:translate3d(0,-20px,0);
                        opacity:0
                    }
                    100% {
                        -webkit-transform:translate3d(0,0,0);
                        transform:translate3d(0,0,0);
                        opacity:1
                    }
                    }@-webkit-keyframes viewer-fade-out {
                        0% {
                        -webkit-transform:translate3d(0,0,0);
                        transform:translate3d(0,0,0);
                        opacity:1
                    }
                    100% {
                        -webkit-transform:translate3d(0,-20px,0);
                        transform:translate3d(0,-20px,0);
                        opacity:0
                    }
                    }@keyframes viewer-fade-out {
                        0% {
                        -webkit-transform:translate3d(0,0,0);
                        transform:translate3d(0,0,0);
                        opacity:1
                    }
                    100% {
                        -webkit-transform:translate3d(0,-20px,0);
                        transform:translate3d(0,-20px,0);
                        opacity:0
                    }
                    }.el-button {
                        display:inline-block;
                        line-height:1;
                        white-space:nowrap;
                        cursor:pointer;
                        background:#fff;
                        border:1px solid #dcdfe6;
                        color:#606266;
                        -webkit-appearance:none;
                        text-align:center;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        outline:0;
                        margin:0;
                        -webkit-transition:.1s;
                        transition:.1s;
                        font-weight:500;
                        padding:12px 20px;
                        font-size:14px;
                        border-radius:4px
                    }
                    .el-button+.el-button,.el-checkbox.is-bordered+.el-checkbox.is-bordered {
                        margin-left:10px
                    }
                    .el-button:focus,.el-button:hover {
                        color:#409eff;
                        border-color:#c6e2ff;
                        background-color:#ecf5ff
                    }
                    .el-button:active {
                        color:#3a8ee6;
                        border-color:#3a8ee6;
                        outline:0
                    }
                    .el-button::-moz-focus-inner {
                        border:0
                    }
                    .el-button [class*=el-icon-]+span {
                        margin-left:5px
                    }
                    .el-button.is-plain:focus,.el-button.is-plain:hover {
                        background:#fff;
                        border-color:#409eff;
                        color:#409eff
                    }
                    .el-button.is-active,.el-button.is-plain:active {
                        color:#3a8ee6;
                        border-color:#3a8ee6
                    }
                    .el-button.is-plain:active {
                        background:#fff;
                        outline:0
                    }
                    .el-button.is-disabled,.el-button.is-disabled:focus,.el-button.is-disabled:hover {
                        color:#c0c4cc;
                        cursor:not-allowed;
                        background-image:none;
                        background-color:#fff;
                        border-color:#ebeef5
                    }
                    .el-button.is-disabled.el-button--text {
                        background-color:transparent
                    }
                    .el-button.is-disabled.is-plain,.el-button.is-disabled.is-plain:focus,.el-button.is-disabled.is-plain:hover {
                        background-color:#fff;
                        border-color:#ebeef5;
                        color:#c0c4cc
                    }
                    .el-button.is-loading {
                        position:relative;
                        pointer-events:none
                    }
                    .el-button.is-loading:before {
                        pointer-events:none;
                        content:'';
                        position:absolute;
                        left:-1px;
                        top:-1px;
                        right:-1px;
                        bottom:-1px;
                        border-radius:inherit;
                        background-color:rgba(255,255,255,.35)
                    }
                    .el-button.is-round {
                        border-radius:20px;
                        padding:12px 23px
                    }
                    .el-button.is-circle {
                        border-radius:50%;
                        padding:12px
                    }
                    .el-button--primary {
                        color:#fff;
                        background-color:#409eff;
                        border-color:#409eff
                    }
                    .el-button--primary:focus,.el-button--primary:hover {
                        background:#66b1ff;
                        border-color:#66b1ff;
                        color:#fff
                    }
                    .el-button--primary.is-active,.el-button--primary:active {
                        background:#3a8ee6;
                        border-color:#3a8ee6;
                        color:#fff
                    }
                    .el-button--primary:active {
                        outline:0
                    }
                    .el-button--primary.is-disabled,.el-button--primary.is-disabled:active,.el-button--primary.is-disabled:focus,.el-button--primary.is-disabled:hover {
                        color:#fff;
                        background-color:#a0cfff;
                        border-color:#a0cfff
                    }
                    .el-button--primary.is-plain {
                        color:#409eff;
                        background:#ecf5ff;
                        border-color:#b3d8ff
                    }
                    .el-button--primary.is-plain:focus,.el-button--primary.is-plain:hover {
                        background:#409eff;
                        border-color:#409eff;
                        color:#fff
                    }
                    .el-button--primary.is-plain:active {
                        background:#3a8ee6;
                        border-color:#3a8ee6;
                        color:#fff;
                        outline:0
                    }
                    .el-button--primary.is-plain.is-disabled,.el-button--primary.is-plain.is-disabled:active,.el-button--primary.is-plain.is-disabled:focus,.el-button--primary.is-plain.is-disabled:hover {
                        color:#8cc5ff;
                        background-color:#ecf5ff;
                        border-color:#d9ecff
                    }
                    .el-button--success {
                        color:#fff;
                        background-color:#67c23a;
                        border-color:#67c23a
                    }
                    .el-button--success:focus,.el-button--success:hover {
                        background:#85ce61;
                        border-color:#85ce61;
                        color:#fff
                    }
                    .el-button--success.is-active,.el-button--success:active {
                        background:#5daf34;
                        border-color:#5daf34;
                        color:#fff
                    }
                    .el-button--success:active {
                        outline:0
                    }
                    .el-button--success.is-disabled,.el-button--success.is-disabled:active,.el-button--success.is-disabled:focus,.el-button--success.is-disabled:hover {
                        color:#fff;
                        background-color:#b3e19d;
                        border-color:#b3e19d
                    }
                    .el-button--success.is-plain {
                        color:#67c23a;
                        background:#f0f9eb;
                        border-color:#c2e7b0
                    }
                    .el-button--success.is-plain:focus,.el-button--success.is-plain:hover {
                        background:#67c23a;
                        border-color:#67c23a;
                        color:#fff
                    }
                    .el-button--success.is-plain:active {
                        background:#5daf34;
                        border-color:#5daf34;
                        color:#fff;
                        outline:0
                    }
                    .el-button--success.is-plain.is-disabled,.el-button--success.is-plain.is-disabled:active,.el-button--success.is-plain.is-disabled:focus,.el-button--success.is-plain.is-disabled:hover {
                        color:#a4da89;
                        background-color:#f0f9eb;
                        border-color:#e1f3d8
                    }
                    .el-button--warning {
                        color:#fff;
                        background-color:#e6a23c;
                        border-color:#e6a23c
                    }
                    .el-button--warning:focus,.el-button--warning:hover {
                        background:#ebb563;
                        border-color:#ebb563;
                        color:#fff
                    }
                    .el-button--warning.is-active,.el-button--warning:active {
                        background:#cf9236;
                        border-color:#cf9236;
                        color:#fff
                    }
                    .el-button--warning:active {
                        outline:0
                    }
                    .el-button--warning.is-disabled,.el-button--warning.is-disabled:active,.el-button--warning.is-disabled:focus,.el-button--warning.is-disabled:hover {
                        color:#fff;
                        background-color:#f3d19e;
                        border-color:#f3d19e
                    }
                    .el-button--warning.is-plain {
                        color:#e6a23c;
                        background:#fdf6ec;
                        border-color:#f5dab1
                    }
                    .el-button--warning.is-plain:focus,.el-button--warning.is-plain:hover {
                        background:#e6a23c;
                        border-color:#e6a23c;
                        color:#fff
                    }
                    .el-button--warning.is-plain:active {
                        background:#cf9236;
                        border-color:#cf9236;
                        color:#fff;
                        outline:0
                    }
                    .el-button--warning.is-plain.is-disabled,.el-button--warning.is-plain.is-disabled:active,.el-button--warning.is-plain.is-disabled:focus,.el-button--warning.is-plain.is-disabled:hover {
                        color:#f0c78a;
                        background-color:#fdf6ec;
                        border-color:#faecd8
                    }
                    .el-button--danger {
                        color:#fff;
                        background-color:#f56c6c;
                        border-color:#f56c6c
                    }
                    .el-button--danger:focus,.el-button--danger:hover {
                        background:#f78989;
                        border-color:#f78989;
                        color:#fff
                    }
                    .el-button--danger.is-active,.el-button--danger:active {
                        background:#dd6161;
                        border-color:#dd6161;
                        color:#fff
                    }
                    .el-button--danger:active {
                        outline:0
                    }
                    .el-button--danger.is-disabled,.el-button--danger.is-disabled:active,.el-button--danger.is-disabled:focus,.el-button--danger.is-disabled:hover {
                        color:#fff;
                        background-color:#fab6b6;
                        border-color:#fab6b6
                    }
                    .el-button--danger.is-plain {
                        color:#f56c6c;
                        background:#fef0f0;
                        border-color:#fbc4c4
                    }
                    .el-button--danger.is-plain:focus,.el-button--danger.is-plain:hover {
                        background:#f56c6c;
                        border-color:#f56c6c;
                        color:#fff
                    }
                    .el-button--danger.is-plain:active {
                        background:#dd6161;
                        border-color:#dd6161;
                        color:#fff;
                        outline:0
                    }
                    .el-button--danger.is-plain.is-disabled,.el-button--danger.is-plain.is-disabled:active,.el-button--danger.is-plain.is-disabled:focus,.el-button--danger.is-plain.is-disabled:hover {
                        color:#f9a7a7;
                        background-color:#fef0f0;
                        border-color:#fde2e2
                    }
                    .el-button--info {
                        color:#fff;
                        background-color:#909399;
                        border-color:#909399
                    }
                    .el-button--info:focus,.el-button--info:hover {
                        background:#a6a9ad;
                        border-color:#a6a9ad;
                        color:#fff
                    }
                    .el-button--info.is-active,.el-button--info:active {
                        background:#82848a;
                        border-color:#82848a;
                        color:#fff
                    }
                    .el-button--info:active {
                        outline:0
                    }
                    .el-button--info.is-disabled,.el-button--info.is-disabled:active,.el-button--info.is-disabled:focus,.el-button--info.is-disabled:hover {
                        color:#fff;
                        background-color:#c8c9cc;
                        border-color:#c8c9cc
                    }
                    .el-button--info.is-plain {
                        color:#909399;
                        background:#f4f4f5;
                        border-color:#d3d4d6
                    }
                    .el-button--info.is-plain:focus,.el-button--info.is-plain:hover {
                        background:#909399;
                        border-color:#909399;
                        color:#fff
                    }
                    .el-button--info.is-plain:active {
                        background:#82848a;
                        border-color:#82848a;
                        color:#fff;
                        outline:0
                    }
                    .el-button--info.is-plain.is-disabled,.el-button--info.is-plain.is-disabled:active,.el-button--info.is-plain.is-disabled:focus,.el-button--info.is-plain.is-disabled:hover {
                        color:#bcbec2;
                        background-color:#f4f4f5;
                        border-color:#e9e9eb
                    }
                    .el-button--medium {
                        padding:10px 20px;
                        font-size:14px;
                        border-radius:4px
                    }
                    .el-button--medium.is-round {
                        padding:10px 20px
                    }
                    .el-button--medium.is-circle {
                        padding:10px
                    }
                    .el-button--small {
                        padding:9px 15px;
                        font-size:12px;
                        border-radius:3px
                    }
                    .el-button--small.is-round {
                        padding:9px 15px
                    }
                    .el-button--small.is-circle {
                        padding:9px
                    }
                    .el-button--mini,.el-button--mini.is-round {
                        padding:7px 15px
                    }
                    .el-button--mini {
                        font-size:12px;
                        border-radius:3px
                    }
                    .el-button--mini.is-circle {
                        padding:7px
                    }
                    .el-button--text {
                        border-color:transparent;
                        color:#409eff;
                        background:0 0;
                        padding-left:0;
                        padding-right:0
                    }
                    .el-button--text:focus,.el-button--text:hover {
                        color:#66b1ff;
                        border-color:transparent;
                        background-color:transparent
                    }
                    .el-button--text:active {
                        color:#3a8ee6;
                        border-color:transparent;
                        background-color:transparent
                    }
                    .el-button--text.is-disabled,.el-button--text.is-disabled:focus,.el-button--text.is-disabled:hover {
                        border-color:transparent
                    }
                    .el-button-group .el-button--danger:last-child,.el-button-group .el-button--danger:not(:first-child):not(:last-child),.el-button-group .el-button--info:last-child,.el-button-group .el-button--info:not(:first-child):not(:last-child),.el-button-group .el-button--primary:last-child,.el-button-group .el-button--primary:not(:first-child):not(:last-child),.el-button-group .el-button--success:last-child,.el-button-group .el-button--success:not(:first-child):not(:last-child),.el-button-group .el-button--warning:last-child,.el-button-group .el-button--warning:not(:first-child):not(:last-child),.el-button-group>.el-dropdown>.el-button {
                        border-left-color:rgba(255,255,255,.5)
                    }
                    .el-button-group .el-button--danger:first-child,.el-button-group .el-button--danger:not(:first-child):not(:last-child),.el-button-group .el-button--info:first-child,.el-button-group .el-button--info:not(:first-child):not(:last-child),.el-button-group .el-button--primary:first-child,.el-button-group .el-button--primary:not(:first-child):not(:last-child),.el-button-group .el-button--success:first-child,.el-button-group .el-button--success:not(:first-child):not(:last-child),.el-button-group .el-button--warning:first-child,.el-button-group .el-button--warning:not(:first-child):not(:last-child) {
                        border-right-color:rgba(255,255,255,.5)
                    }
                    .el-button-group {
                        display:inline-block;
                        vertical-align:middle
                    }
                    .el-button-group::after,.el-button-group::before {
                        display:table
                    }
                    .el-button-group::after {
                        clear:both
                    }
                    .el-button-group>.el-button {
                        float:left;
                        position:relative
                    }
                    .el-button-group>.el-button.is-disabled {
                        z-index:1
                    }
                    .el-button-group>.el-button:first-child {
                        border-top-right-radius:0;
                        border-bottom-right-radius:0
                    }
                    .el-button-group>.el-button:last-child {
                        border-top-left-radius:0;
                        border-bottom-left-radius:0
                    }
                    .el-button-group>.el-button:first-child:last-child {
                        border-radius:4px
                    }
                    .el-button-group>.el-button:first-child:last-child.is-round {
                        border-radius:20px
                    }
                    .el-button-group>.el-button:first-child:last-child.is-circle {
                        border-radius:50%
                    }
                    .el-button-group>.el-button:not(:first-child):not(:last-child) {
                        border-radius:0
                    }
                    .el-button-group>.el-button.is-active,.el-button-group>.el-button:not(.is-disabled):active,.el-button-group>.el-button:not(.is-disabled):focus,.el-button-group>.el-button:not(.is-disabled):hover {
                        z-index:1
                    }
                    .el-button-group>.el-dropdown>.el-button {
                        border-top-left-radius:0;
                        border-bottom-left-radius:0
                    }
                    .el-calendar {
                        background-color:#fff
                    }
                    .el-calendar__header {
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -webkit-box-pack:justify;
                        -ms-flex-pack:justify;
                        justify-content:space-between;
                        padding:12px 20px;
                        border-bottom:1px solid #ebeef5
                    }
                    .el-backtop,.el-page-header {
                        display:-webkit-box;
                        display:-ms-flexbox
                    }
                    .el-calendar__title {
                        color:#000;
                        -ms-flex-item-align:center;
                        align-self:center
                    }
                    .el-calendar__body {
                        padding:12px 20px 35px
                    }
                    .el-calendar-table {
                        table-layout:fixed;
                        width:100%
                    }
                    .el-calendar-table thead th {
                        padding:12px 0;
                        color:#606266;
                        font-weight:400
                    }
                    .el-calendar-table:not(.is-range) td.next,.el-calendar-table:not(.is-range) td.prev {
                        color:#c0c4cc
                    }
                    .el-backtop,.el-calendar-table td.is-today {
                        color:#409eff
                    }
                    .el-calendar-table td {
                        border-bottom:1px solid #ebeef5;
                        border-right:1px solid #ebeef5;
                        vertical-align:top;
                        -webkit-transition:background-color .2s ease;
                        transition:background-color .2s ease
                    }
                    .el-calendar-table td.is-selected {
                        background-color:#f2f8fe
                    }
                    .el-calendar-table tr:first-child td {
                        border-top:1px solid #ebeef5
                    }
                    .el-calendar-table tr td:first-child {
                        border-left:1px solid #ebeef5
                    }
                    .el-calendar-table tr.el-calendar-table__row--hide-border td {
                        border-top:none
                    }
                    .el-calendar-table .el-calendar-day {
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        padding:8px;
                        height:85px
                    }
                    .el-calendar-table .el-calendar-day:hover {
                        cursor:pointer;
                        background-color:#f2f8fe
                    }
                    .el-backtop {
                        position:fixed;
                        background-color:#fff;
                        width:40px;
                        height:40px;
                        border-radius:50%;
                        display:flex;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        -webkit-box-pack:center;
                        -ms-flex-pack:center;
                        justify-content:center;
                        font-size:20px;
                        -webkit-box-shadow:0 0 6px rgba(0,0,0,.12);
                        box-shadow:0 0 6px rgba(0,0,0,.12);
                        cursor:pointer;
                        z-index:5
                    }
                    .el-backtop:hover {
                        background-color:#f2f6fc
                    }
                    .el-page-header {
                        display:flex;
                        line-height:24px
                    }
                    .el-page-header__left {
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        cursor:pointer;
                        margin-right:40px;
                        position:relative
                    }
                    .el-page-header__left::after {
                        position:absolute;
                        width:1px;
                        height:16px;
                        right:-20px;
                        top:50%;
                        -webkit-transform:translateY(-50%);
                        transform:translateY(-50%);
                        background-color:#dcdfe6
                    }
                    .el-checkbox,.el-checkbox__input {
                        display:inline-block;
                        position:relative;
                        white-space:nowrap
                    }
                    .el-page-header__left .el-icon-back {
                        font-size:18px;
                        margin-right:6px;
                        -ms-flex-item-align:center;
                        align-self:center
                    }
                    .el-page-header__title {
                        font-size:14px;
                        font-weight:500
                    }
                    .el-page-header__content {
                        font-size:18px;
                        color:#303133
                    }
                    .el-checkbox {
                        color:#606266;
                        font-weight:500;
                        font-size:14px;
                        cursor:pointer;
                        user-select:none;
                        margin-right:30px
                    }
                    .el-checkbox.is-bordered {
                        padding:9px 20px 9px 10px;
                        border-radius:4px;
                        border:1px solid #dcdfe6;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        line-height:normal;
                        height:40px
                    }
                    .el-checkbox.is-bordered.is-checked {
                        border-color:#409eff
                    }
                    .el-checkbox.is-bordered.is-disabled {
                        border-color:#ebeef5;
                        cursor:not-allowed
                    }
                    .el-checkbox.is-bordered.el-checkbox--medium {
                        padding:7px 20px 7px 10px;
                        border-radius:4px;
                        height:36px
                    }
                    .el-checkbox.is-bordered.el-checkbox--medium .el-checkbox__label {
                        line-height:17px;
                        font-size:14px
                    }
                    .el-checkbox.is-bordered.el-checkbox--medium .el-checkbox__inner {
                        height:14px;
                        width:14px
                    }
                    .el-checkbox.is-bordered.el-checkbox--small {
                        padding:5px 15px 5px 10px;
                        border-radius:3px;
                        height:32px
                    }
                    .el-checkbox.is-bordered.el-checkbox--small .el-checkbox__label {
                        line-height:15px;
                        font-size:12px
                    }
                    .el-checkbox.is-bordered.el-checkbox--small .el-checkbox__inner {
                        height:12px;
                        width:12px
                    }
                    .el-checkbox.is-bordered.el-checkbox--small .el-checkbox__inner::after {
                        height:6px;
                        width:2px
                    }
                    .el-checkbox.is-bordered.el-checkbox--mini {
                        padding:3px 15px 3px 10px;
                        border-radius:3px;
                        height:28px
                    }
                    .el-checkbox.is-bordered.el-checkbox--mini .el-checkbox__label {
                        line-height:12px;
                        font-size:12px
                    }
                    .el-checkbox.is-bordered.el-checkbox--mini .el-checkbox__inner {
                        height:12px;
                        width:12px
                    }
                    .el-checkbox.is-bordered.el-checkbox--mini .el-checkbox__inner::after {
                        height:6px;
                        width:2px
                    }
                    .el-checkbox__input {
                        cursor:pointer;
                        outline:0;
                        line-height:1;
                        vertical-align:middle
                    }
                    .el-checkbox__input.is-disabled .el-checkbox__inner {
                        background-color:#edf2fc;
                        border-color:#dcdfe6;
                        cursor:not-allowed
                    }
                    .el-checkbox__input.is-disabled .el-checkbox__inner::after {
                        cursor:not-allowed;
                        border-color:#c0c4cc
                    }
                    .el-checkbox__input.is-disabled .el-checkbox__inner+.el-checkbox__label {
                        cursor:not-allowed
                    }
                    .el-checkbox__input.is-disabled.is-checked .el-checkbox__inner {
                        background-color:#f2f6fc;
                        border-color:#dcdfe6
                    }
                    .el-checkbox__input.is-disabled.is-checked .el-checkbox__inner::after {
                        border-color:#c0c4cc
                    }
                    .el-checkbox__input.is-disabled.is-indeterminate .el-checkbox__inner {
                        background-color:#f2f6fc;
                        border-color:#dcdfe6
                    }
                    .el-checkbox__input.is-disabled.is-indeterminate .el-checkbox__inner::before {
                        background-color:#c0c4cc;
                        border-color:#c0c4cc
                    }
                    .el-checkbox__input.is-checked .el-checkbox__inner,.el-checkbox__input.is-indeterminate .el-checkbox__inner {
                        background-color:#409eff;
                        border-color:#409eff
                    }
                    .el-checkbox__input.is-disabled+span.el-checkbox__label {
                        color:#c0c4cc;
                        cursor:not-allowed
                    }
                    .el-checkbox__input.is-checked .el-checkbox__inner::after {
                        -webkit-transform:rotate(45deg) scaleY(1);
                        transform:rotate(45deg) scaleY(1)
                    }
                    .el-checkbox__input.is-checked+.el-checkbox__label {
                        color:#409eff
                    }
                    .el-checkbox__input.is-focus .el-checkbox__inner {
                        border-color:#409eff
                    }
                    .el-checkbox__input.is-indeterminate .el-checkbox__inner::before {
                        content:'';
                        position:absolute;
                        display:block;
                        background-color:#fff;
                        height:2px;
                        -webkit-transform:scale(.5);
                        transform:scale(.5);
                        left:0;
                        right:0;
                        top:5px
                    }
                    .el-checkbox__input.is-indeterminate .el-checkbox__inner::after {
                        display:none
                    }
                    .el-checkbox__inner {
                        display:inline-block;
                        position:relative;
                        border:1px solid #dcdfe6;
                        border-radius:2px;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        width:14px;
                        height:14px;
                        background-color:#fff;
                        z-index:1;
                        -webkit-transition:border-color .25s cubic-bezier(.71,-.46,.29,1.46),background-color .25s cubic-bezier(.71,-.46,.29,1.46);
                        transition:border-color .25s cubic-bezier(.71,-.46,.29,1.46),background-color .25s cubic-bezier(.71,-.46,.29,1.46)
                    }
                    .el-checkbox__inner:hover {
                        border-color:#409eff
                    }
                    .el-checkbox__inner::after {
                        -webkit-box-sizing:content-box;
                        box-sizing:content-box;
                        content:"";
                        border:1px solid #fff;
                        border-left:0;
                        border-top:0;
                        height:7px;
                        left:4px;
                        position:absolute;
                        top:1px;
                        -webkit-transform:rotate(45deg) scaleY(0);
                        transform:rotate(45deg) scaleY(0);
                        width:3px;
                        -webkit-transition:-webkit-transform .15s ease-in .05s;
                        transition:-webkit-transform .15s ease-in .05s;
                        transition:transform .15s ease-in .05s;
                        transition:transform .15s ease-in .05s,-webkit-transform .15s ease-in .05s;
                        -webkit-transform-origin:center;
                        transform-origin:center
                    }
                    .el-checkbox__original {
                        opacity:0;
                        outline:0;
                        position:absolute;
                        margin:0;
                        width:0;
                        height:0;
                        z-index:-1
                    }
                    .el-checkbox-button,.el-checkbox-button__inner {
                        display:inline-block;
                        position:relative
                    }
                    .el-checkbox__label {
                        display:inline-block;
                        padding-left:10px;
                        line-height:19px;
                        font-size:14px
                    }
                    .el-checkbox:last-of-type {
                        margin-right:0
                    }
                    .el-checkbox-button__inner {
                        line-height:1;
                        font-weight:500;
                        white-space:nowrap;
                        vertical-align:middle;
                        cursor:pointer;
                        background:#fff;
                        border:1px solid #dcdfe6;
                        border-left:0;
                        color:#606266;
                        -webkit-appearance:none;
                        text-align:center;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        outline:0;
                        margin:0;
                        -webkit-transition:all .3s cubic-bezier(.645,.045,.355,1);
                        transition:all .3s cubic-bezier(.645,.045,.355,1);
                        padding:12px 20px;
                        font-size:14px;
                        border-radius:0
                    }
                    .el-checkbox-button__inner.is-round {
                        padding:12px 20px
                    }
                    .el-checkbox-button__inner:hover {
                        color:#409eff
                    }
                    .el-checkbox-button__inner [class*=el-icon-] {
                        line-height:.9
                    }
                    .el-checkbox-button__inner [class*=el-icon-]+span {
                        margin-left:5px
                    }
                    .el-checkbox-button__original {
                        opacity:0;
                        outline:0;
                        position:absolute;
                        margin:0;
                        z-index:-1
                    }
                    .el-radio,.el-radio__inner,.el-radio__input {
                        position:relative;
                        display:inline-block
                    }
                    .el-checkbox-button.is-checked .el-checkbox-button__inner {
                        color:#fff;
                        background-color:#409eff;
                        border-color:#409eff;
                        -webkit-box-shadow:-1px 0 0 0 #8cc5ff;
                        box-shadow:-1px 0 0 0 #8cc5ff
                    }
                    .el-checkbox-button.is-checked:first-child .el-checkbox-button__inner {
                        border-left-color:#409eff
                    }
                    .el-checkbox-button.is-disabled .el-checkbox-button__inner {
                        color:#c0c4cc;
                        cursor:not-allowed;
                        background-image:none;
                        background-color:#fff;
                        border-color:#ebeef5;
                        -webkit-box-shadow:none;
                        box-shadow:none
                    }
                    .el-checkbox-button.is-disabled:first-child .el-checkbox-button__inner {
                        border-left-color:#ebeef5
                    }
                    .el-checkbox-button:first-child .el-checkbox-button__inner {
                        border-left:1px solid #dcdfe6;
                        border-radius:4px 0 0 4px;
                        -webkit-box-shadow:none!important;
                        box-shadow:none!important
                    }
                    .el-checkbox-button.is-focus .el-checkbox-button__inner {
                        border-color:#409eff
                    }
                    .el-checkbox-button:last-child .el-checkbox-button__inner {
                        border-radius:0 4px 4px 0
                    }
                    .el-checkbox-button--medium .el-checkbox-button__inner {
                        padding:10px 20px;
                        font-size:14px;
                        border-radius:0
                    }
                    .el-checkbox-button--medium .el-checkbox-button__inner.is-round {
                        padding:10px 20px
                    }
                    .el-checkbox-button--small .el-checkbox-button__inner {
                        padding:9px 15px;
                        font-size:12px;
                        border-radius:0
                    }
                    .el-checkbox-button--small .el-checkbox-button__inner.is-round {
                        padding:9px 15px
                    }
                    .el-checkbox-button--mini .el-checkbox-button__inner {
                        padding:7px 15px;
                        font-size:12px;
                        border-radius:0
                    }
                    .el-checkbox-button--mini .el-checkbox-button__inner.is-round {
                        padding:7px 15px
                    }
                    .el-checkbox-group {
                        font-size:0
                    }
                    .el-avatar,.el-cascader-panel,.el-radio,.el-radio--medium.is-bordered .el-radio__label,.el-radio__label {
                        font-size:14px
                    }
                    .el-radio {
                        color:#606266;
                        font-weight:500;
                        line-height:1;
                        cursor:pointer;
                        white-space:nowrap;
                        outline:0;
                        margin-right:30px
                    }
                    .el-cascader-node>.el-radio,.el-radio:last-child {
                        margin-right:0
                    }
                    .el-radio.is-bordered {
                        padding:12px 20px 0 10px;
                        border-radius:4px;
                        border:1px solid #dcdfe6;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        height:40px
                    }
                    .el-cascader-menu,.el-cascader-menu__list,.el-radio__inner {
                        -webkit-box-sizing:border-box
                    }
                    .el-radio.is-bordered.is-checked {
                        border-color:#409eff
                    }
                    .el-radio.is-bordered.is-disabled {
                        cursor:not-allowed;
                        border-color:#ebeef5
                    }
                    .el-radio__input.is-disabled .el-radio__inner,.el-radio__input.is-disabled.is-checked .el-radio__inner {
                        background-color:#f5f7fa;
                        border-color:#e4e7ed
                    }
                    .el-radio.is-bordered+.el-radio.is-bordered {
                        margin-left:10px
                    }
                    .el-radio--medium.is-bordered {
                        padding:10px 20px 0 10px;
                        border-radius:4px;
                        height:36px
                    }
                    .el-radio--mini.is-bordered .el-radio__label,.el-radio--small.is-bordered .el-radio__label {
                        font-size:12px
                    }
                    .el-radio--medium.is-bordered .el-radio__inner {
                        height:14px;
                        width:14px
                    }
                    .el-radio--small.is-bordered {
                        padding:8px 15px 0 10px;
                        border-radius:3px;
                        height:32px
                    }
                    .el-radio--small.is-bordered .el-radio__inner {
                        height:12px;
                        width:12px
                    }
                    .el-radio--mini.is-bordered {
                        padding:6px 15px 0 10px;
                        border-radius:3px;
                        height:28px
                    }
                    .el-radio--mini.is-bordered .el-radio__inner {
                        height:12px;
                        width:12px
                    }
                    .el-radio__input {
                        white-space:nowrap;
                        cursor:pointer;
                        outline:0;
                        line-height:1;
                        vertical-align:middle
                    }
                    .el-radio__input.is-disabled .el-radio__inner {
                        cursor:not-allowed
                    }
                    .el-radio__input.is-disabled .el-radio__inner::after {
                        cursor:not-allowed;
                        background-color:#f5f7fa
                    }
                    .el-radio__input.is-disabled .el-radio__inner+.el-radio__label {
                        cursor:not-allowed
                    }
                    .el-radio__input.is-disabled.is-checked .el-radio__inner::after {
                        background-color:#c0c4cc
                    }
                    .el-radio__input.is-disabled+span.el-radio__label {
                        color:#c0c4cc;
                        cursor:not-allowed
                    }
                    .el-radio__input.is-checked .el-radio__inner {
                        border-color:#409eff;
                        background:#409eff
                    }
                    .el-radio__input.is-checked .el-radio__inner::after {
                        -webkit-transform:translate(-50%,-50%) scale(1);
                        transform:translate(-50%,-50%) scale(1)
                    }
                    .el-radio__input.is-checked+.el-radio__label {
                        color:#409eff
                    }
                    .el-radio__input.is-focus .el-radio__inner {
                        border-color:#409eff
                    }
                    .el-radio__inner {
                        border:1px solid #dcdfe6;
                        border-radius:100%;
                        width:14px;
                        height:14px;
                        background-color:#fff;
                        cursor:pointer;
                        box-sizing:border-box
                    }
                    .el-radio__inner:hover {
                        border-color:#409eff
                    }
                    .el-radio__inner::after {
                        width:4px;
                        height:4px;
                        border-radius:100%;
                        background-color:#fff;
                        content:"";
                        position:absolute;
                        left:50%;
                        top:50%;
                        -webkit-transform:translate(-50%,-50%) scale(0);
                        transform:translate(-50%,-50%) scale(0);
                        -webkit-transition:-webkit-transform .15s ease-in;
                        transition:-webkit-transform .15s ease-in;
                        transition:transform .15s ease-in;
                        transition:transform .15s ease-in,-webkit-transform .15s ease-in
                    }
                    .el-radio__original {
                        opacity:0;
                        outline:0;
                        position:absolute;
                        z-index:-1;
                        top:0;
                        left:0;
                        right:0;
                        bottom:0;
                        margin:0
                    }
                    .el-radio:focus:not(.is-focus):not(:active):not(.is-disabled) .el-radio__inner {
                        -webkit-box-shadow:0 0 2px 2px #409eff;
                        box-shadow:0 0 2px 2px #409eff
                    }
                    .el-radio__label {
                        padding-left:10px
                    }
                    .el-scrollbar {
                        overflow:hidden;
                        position:relative
                    }
                    .el-scrollbar:active>.el-scrollbar__bar,.el-scrollbar:focus>.el-scrollbar__bar,.el-scrollbar:hover>.el-scrollbar__bar {
                        opacity:1;
                        -webkit-transition:opacity 340ms ease-out;
                        transition:opacity 340ms ease-out
                    }
                    .el-scrollbar__wrap {
                        overflow:scroll;
                        height:100%
                    }
                    .el-scrollbar__wrap--hidden-default {
                        scrollbar-width:none
                    }
                    .el-scrollbar__wrap--hidden-default::-webkit-scrollbar {
                        width:0;
                        height:0
                    }
                    .el-scrollbar__thumb {
                        position:relative;
                        display:block;
                        width:0;
                        height:0;
                        cursor:pointer;
                        border-radius:inherit;
                        background-color:rgba(144,147,153,.3);
                        -webkit-transition:.3s background-color;
                        transition:.3s background-color
                    }
                    .el-scrollbar__thumb:hover {
                        background-color:rgba(144,147,153,.5)
                    }
                    .el-scrollbar__bar {
                        position:absolute;
                        right:2px;
                        bottom:2px;
                        z-index:1;
                        border-radius:4px;
                        opacity:0;
                        -webkit-transition:opacity 120ms ease-out;
                        transition:opacity 120ms ease-out
                    }
                    .el-scrollbar__bar.is-vertical {
                        width:6px;
                        top:2px
                    }
                    .el-scrollbar__bar.is-vertical>div {
                        width:100%
                    }
                    .el-scrollbar__bar.is-horizontal {
                        height:6px;
                        left:2px
                    }
                    .el-scrollbar__bar.is-horizontal>div {
                        height:100%
                    }
                    .el-cascader-panel {
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        border-radius:4px
                    }
                    .el-cascader-panel.is-bordered {
                        border:1px solid #e4e7ed;
                        border-radius:4px
                    }
                    .el-cascader-menu {
                        min-width:180px;
                        box-sizing:border-box;
                        color:#606266;
                        border-right:solid 1px #e4e7ed
                    }
                    .el-cascader-menu:last-child {
                        border-right:none
                    }
                    .el-cascader-menu__wrap {
                        height:204px
                    }
                    .el-cascader-menu__list {
                        position:relative;
                        min-height:100%;
                        margin:0;
                        padding:6px 0;
                        list-style:none;
                        box-sizing:border-box
                    }
                    .el-cascader-menu__hover-zone {
                        position:absolute;
                        top:0;
                        left:0;
                        width:100%;
                        height:100%;
                        pointer-events:none
                    }
                    .el-cascader-menu__empty-text {
                        position:absolute;
                        top:50%;
                        left:50%;
                        -webkit-transform:translate(-50%,-50%);
                        transform:translate(-50%,-50%);
                        text-align:center;
                        color:#c0c4cc
                    }
                    .el-cascader-node {
                        position:relative;
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        padding:0 30px 0 20px;
                        height:34px;
                        line-height:34px;
                        outline:0
                    }
                    .el-cascader-node.is-selectable.in-active-path {
                        color:#606266
                    }
                    .el-cascader-node.in-active-path,.el-cascader-node.is-active,.el-cascader-node.is-selectable.in-checked-path {
                        color:#409eff;
                        font-weight:700
                    }
                    .el-cascader-node:not(.is-disabled) {
                        cursor:pointer
                    }
                    .el-cascader-node:not(.is-disabled):focus,.el-cascader-node:not(.is-disabled):hover {
                        background:#f5f7fa
                    }
                    .el-cascader-node.is-disabled {
                        color:#c0c4cc;
                        cursor:not-allowed
                    }
                    .el-cascader-node__prefix {
                        position:absolute;
                        left:10px
                    }
                    .el-cascader-node__postfix {
                        position:absolute;
                        right:10px
                    }
                    .el-cascader-node__label {
                        -webkit-box-flex:1;
                        -ms-flex:1;
                        flex:1;
                        padding:0 10px;
                        white-space:nowrap;
                        overflow:hidden;
                        text-overflow:ellipsis
                    }
                    .el-cascader-node>.el-radio .el-radio__label {
                        padding-left:0
                    }
                    .el-avatar {
                        display:inline-block;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        text-align:center;
                        overflow:hidden;
                        color:#fff;
                        background:#c0c4cc;
                        width:40px;
                        height:40px;
                        line-height:40px
                    }
                    .el-drawer,.el-drawer__body>* {
                        -webkit-box-sizing:border-box
                    }
                    .el-avatar>img {
                        display:block;
                        height:100%;
                        vertical-align:middle
                    }
                    .el-empty__image img,.el-empty__image svg {
                        vertical-align:top;
                        height:100%;
                        width:100%
                    }
                    .el-avatar--circle {
                        border-radius:50%
                    }
                    .el-avatar--square {
                        border-radius:4px
                    }
                    .el-avatar--icon {
                        font-size:18px
                    }
                    .el-avatar--large {
                        width:40px;
                        height:40px;
                        line-height:40px
                    }
                    .el-avatar--medium {
                        width:36px;
                        height:36px;
                        line-height:36px
                    }
                    .el-avatar--small {
                        width:28px;
                        height:28px;
                        line-height:28px
                    }
                    @-webkit-keyframes el-drawer-fade-in {
                        0% {
                        opacity:0
                    }
                    100% {
                        opacity:1
                    }
                    }@keyframes el-drawer-fade-in {
                        0% {
                        opacity:0
                    }
                    100% {
                        opacity:1
                    }
                    }@-webkit-keyframes rtl-drawer-in {
                        0% {
                        -webkit-transform:translate(100%,0);
                        transform:translate(100%,0)
                    }
                    100% {
                        -webkit-transform:translate(0,0);
                        transform:translate(0,0)
                    }
                    }@keyframes rtl-drawer-in {
                        0% {
                        -webkit-transform:translate(100%,0);
                        transform:translate(100%,0)
                    }
                    100% {
                        -webkit-transform:translate(0,0);
                        transform:translate(0,0)
                    }
                    }@-webkit-keyframes rtl-drawer-out {
                        0% {
                        -webkit-transform:translate(0,0);
                        transform:translate(0,0)
                    }
                    100% {
                        -webkit-transform:translate(100%,0);
                        transform:translate(100%,0)
                    }
                    }@keyframes rtl-drawer-out {
                        0% {
                        -webkit-transform:translate(0,0);
                        transform:translate(0,0)
                    }
                    100% {
                        -webkit-transform:translate(100%,0);
                        transform:translate(100%,0)
                    }
                    }@-webkit-keyframes ltr-drawer-in {
                        0% {
                        -webkit-transform:translate(-100%,0);
                        transform:translate(-100%,0)
                    }
                    100% {
                        -webkit-transform:translate(0,0);
                        transform:translate(0,0)
                    }
                    }@keyframes ltr-drawer-in {
                        0% {
                        -webkit-transform:translate(-100%,0);
                        transform:translate(-100%,0)
                    }
                    100% {
                        -webkit-transform:translate(0,0);
                        transform:translate(0,0)
                    }
                    }@-webkit-keyframes ltr-drawer-out {
                        0% {
                        -webkit-transform:translate(0,0);
                        transform:translate(0,0)
                    }
                    100% {
                        -webkit-transform:translate(-100%,0);
                        transform:translate(-100%,0)
                    }
                    }@keyframes ltr-drawer-out {
                        0% {
                        -webkit-transform:translate(0,0);
                        transform:translate(0,0)
                    }
                    100% {
                        -webkit-transform:translate(-100%,0);
                        transform:translate(-100%,0)
                    }
                    }@-webkit-keyframes ttb-drawer-in {
                        0% {
                        -webkit-transform:translate(0,-100%);
                        transform:translate(0,-100%)
                    }
                    100% {
                        -webkit-transform:translate(0,0);
                        transform:translate(0,0)
                    }
                    }@keyframes ttb-drawer-in {
                        0% {
                        -webkit-transform:translate(0,-100%);
                        transform:translate(0,-100%)
                    }
                    100% {
                        -webkit-transform:translate(0,0);
                        transform:translate(0,0)
                    }
                    }@-webkit-keyframes ttb-drawer-out {
                        0% {
                        -webkit-transform:translate(0,0);
                        transform:translate(0,0)
                    }
                    100% {
                        -webkit-transform:translate(0,-100%);
                        transform:translate(0,-100%)
                    }
                    }@keyframes ttb-drawer-out {
                        0% {
                        -webkit-transform:translate(0,0);
                        transform:translate(0,0)
                    }
                    100% {
                        -webkit-transform:translate(0,-100%);
                        transform:translate(0,-100%)
                    }
                    }@-webkit-keyframes btt-drawer-in {
                        0% {
                        -webkit-transform:translate(0,100%);
                        transform:translate(0,100%)
                    }
                    100% {
                        -webkit-transform:translate(0,0);
                        transform:translate(0,0)
                    }
                    }@keyframes btt-drawer-in {
                        0% {
                        -webkit-transform:translate(0,100%);
                        transform:translate(0,100%)
                    }
                    100% {
                        -webkit-transform:translate(0,0);
                        transform:translate(0,0)
                    }
                    }@-webkit-keyframes btt-drawer-out {
                        0% {
                        -webkit-transform:translate(0,0);
                        transform:translate(0,0)
                    }
                    100% {
                        -webkit-transform:translate(0,100%);
                        transform:translate(0,100%)
                    }
                    }@keyframes btt-drawer-out {
                        0% {
                        -webkit-transform:translate(0,0);
                        transform:translate(0,0)
                    }
                    100% {
                        -webkit-transform:translate(0,100%);
                        transform:translate(0,100%)
                    }
                    }.el-drawer {
                        position:absolute;
                        box-sizing:border-box;
                        background-color:#fff;
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -ms-flex-direction:column;
                        flex-direction:column;
                        -webkit-box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12);
                        box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12);
                        overflow:hidden;
                        outline:0
                    }
                    .el-drawer.rtl {
                        -webkit-animation:rtl-drawer-out .3s;
                        animation:rtl-drawer-out .3s;
                        right:0
                    }
                    .el-drawer__open .el-drawer.rtl {
                        -webkit-animation:rtl-drawer-in .3s 1ms;
                        animation:rtl-drawer-in .3s 1ms
                    }
                    .el-drawer.ltr {
                        -webkit-animation:ltr-drawer-out .3s;
                        animation:ltr-drawer-out .3s;
                        left:0
                    }
                    .el-drawer__open .el-drawer.ltr {
                        -webkit-animation:ltr-drawer-in .3s 1ms;
                        animation:ltr-drawer-in .3s 1ms
                    }
                    .el-drawer.ttb {
                        -webkit-animation:ttb-drawer-out .3s;
                        animation:ttb-drawer-out .3s;
                        top:0
                    }
                    .el-drawer__open .el-drawer.ttb {
                        -webkit-animation:ttb-drawer-in .3s 1ms;
                        animation:ttb-drawer-in .3s 1ms
                    }
                    .el-drawer.btt {
                        -webkit-animation:btt-drawer-out .3s;
                        animation:btt-drawer-out .3s;
                        bottom:0
                    }
                    .el-drawer__open .el-drawer.btt {
                        -webkit-animation:btt-drawer-in .3s 1ms;
                        animation:btt-drawer-in .3s 1ms
                    }
                    .el-drawer__wrapper {
                        position:fixed;
                        top:0;
                        right:0;
                        bottom:0;
                        left:0;
                        overflow:hidden;
                        margin:0
                    }
                    .el-drawer__header {
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        color:#72767b;
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        margin-bottom:32px;
                        padding:20px 20px 0
                    }
                    .el-drawer__header>:first-child {
                        -webkit-box-flex:1;
                        -ms-flex:1;
                        flex:1
                    }
                    .el-drawer__title {
                        margin:0;
                        -webkit-box-flex:1;
                        -ms-flex:1;
                        flex:1;
                        line-height:inherit;
                        font-size:1rem
                    }
                    .el-drawer__close-btn {
                        border:none;
                        cursor:pointer;
                        font-size:20px;
                        color:inherit;
                        background-color:transparent
                    }
                    .el-drawer__body {
                        -webkit-box-flex:1;
                        -ms-flex:1;
                        flex:1;
                        overflow:auto
                    }
                    .el-drawer__body>* {
                        box-sizing:border-box
                    }
                    .el-drawer.ltr,.el-drawer.rtl {
                        height:100%;
                        top:0;
                        bottom:0
                    }
                    .el-drawer.btt,.el-drawer.ttb {
                        width:100%;
                        left:0;
                        right:0
                    }
                    .el-drawer__container {
                        position:relative;
                        left:0;
                        right:0;
                        top:0;
                        bottom:0;
                        height:100%;
                        width:100%
                    }
                    .el-drawer-fade-enter-active {
                        -webkit-animation:el-drawer-fade-in .3s;
                        animation:el-drawer-fade-in .3s
                    }
                    .el-drawer-fade-leave-active {
                        animation:el-drawer-fade-in .3s reverse
                    }
                    .el-statistic {
                        width:100%;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        margin:0;
                        padding:0;
                        color:#000;
                        font-variant:tabular-nums;
                        list-style:none;
                        -webkit-font-feature-settings:"tnum";
                        font-feature-settings:"tnum";
                        text-align:center
                    }
                    .el-statistic .head {
                        margin-bottom:4px;
                        color:#606266;
                        font-size:13px
                    }
                    .el-statistic .con {
                        font-family:Sans-serif;
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -webkit-box-pack:center;
                        -ms-flex-pack:center;
                        justify-content:center;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        color:#303133
                    }
                    .el-statistic .con .number {
                        font-size:20px;
                        padding:0 4px
                    }
                    .el-statistic .con span {
                        display:inline-block;
                        margin:0;
                        line-height:100%
                    }
                    .el-popconfirm__main,.el-skeleton__image {
                        display:-ms-flexbox;
                        -webkit-box-align:center;
                        display:-webkit-box
                    }
                    .el-popconfirm__main {
                        display:flex;
                        -ms-flex-align:center;
                        align-items:center
                    }
                    .el-popconfirm__icon {
                        margin-right:5px
                    }
                    .el-popconfirm__action {
                        text-align:right;
                        margin:0
                    }
                    @-webkit-keyframes el-skeleton-loading {
                        0% {
                        background-position:100% 50%
                    }
                    100% {
                        background-position:0 50%
                    }
                    }@keyframes el-skeleton-loading {
                        0% {
                        background-position:100% 50%
                    }
                    100% {
                        background-position:0 50%
                    }
                    }.el-skeleton {
                        width:100%
                    }
                    .el-skeleton__first-line,.el-skeleton__paragraph {
                        height:16px;
                        margin-top:16px;
                        background:#f2f2f2
                    }
                    .el-skeleton.is-animated .el-skeleton__item {
                        background:-webkit-gradient(linear,left top,right top,color-stop(25%,#f2f2f2),color-stop(37%,#e6e6e6),color-stop(63%,#f2f2f2));
                        background:linear-gradient(90deg,#f2f2f2 25%,#e6e6e6 37%,#f2f2f2 63%);
                        background-size:400% 100%;
                        -webkit-animation:el-skeleton-loading 1.4s ease infinite;
                        animation:el-skeleton-loading 1.4s ease infinite
                    }
                    .el-skeleton__item {
                        background:#f2f2f2;
                        display:inline-block;
                        height:16px;
                        border-radius:4px;
                        width:100%
                    }
                    .el-skeleton__circle {
                        border-radius:50%;
                        width:36px;
                        height:36px;
                        line-height:36px
                    }
                    .el-skeleton__circle--lg {
                        width:40px;
                        height:40px;
                        line-height:40px
                    }
                    .el-skeleton__circle--md {
                        width:28px;
                        height:28px;
                        line-height:28px
                    }
                    .el-skeleton__button {
                        height:40px;
                        width:64px;
                        border-radius:4px
                    }
                    .el-skeleton__p {
                        width:100%
                    }
                    .el-skeleton__p.is-last {
                        width:61%
                    }
                    .el-skeleton__p.is-first {
                        width:33%
                    }
                    .el-skeleton__text {
                        width:100%;
                        height:13px
                    }
                    .el-skeleton__caption {
                        height:12px
                    }
                    .el-skeleton__h1 {
                        height:20px
                    }
                    .el-skeleton__h3 {
                        height:18px
                    }
                    .el-skeleton__h5 {
                        height:16px
                    }
                    .el-skeleton__image {
                        width:unset;
                        display:flex;
                        -ms-flex-align:center;
                        align-items:center;
                        -webkit-box-pack:center;
                        -ms-flex-pack:center;
                        justify-content:center;
                        border-radius:0
                    }
                    .el-skeleton__image svg {
                        fill:#dcdde0;
                        width:22%;
                        height:22%
                    }
                    .el-empty {
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -webkit-box-pack:center;
                        -ms-flex-pack:center;
                        justify-content:center;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        -ms-flex-direction:column;
                        flex-direction:column;
                        text-align:center;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        padding:40px 0
                    }
                    .el-empty__image {
                        width:160px
                    }
                    .el-empty__image img {
                        user-select:none;
                        -o-object-fit:contain;
                        object-fit:contain
                    }
                    .el-empty__image svg {
                        fill:#dcdde0
                    }
                    .el-empty__description {
                        margin-top:20px
                    }
                    .el-empty__description p {
                        margin:0;
                        font-size:14px;
                        color:#909399
                    }
                    .el-empty__bottom,.el-result__title {
                        margin-top:20px
                    }
                    .el-descriptions {
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        font-size:14px;
                        color:#303133
                    }
                    .el-descriptions__header {
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -webkit-box-pack:justify;
                        -ms-flex-pack:justify;
                        justify-content:space-between;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        margin-bottom:20px
                    }
                    .el-descriptions__title {
                        font-size:16px;
                        font-weight:700
                    }
                    .el-descriptions--mini,.el-descriptions--small {
                        font-size:12px
                    }
                    .el-descriptions__body {
                        color:#606266;
                        background-color:#fff
                    }
                    .el-descriptions__body .el-descriptions__table {
                        border-collapse:collapse;
                        width:100%;
                        table-layout:fixed
                    }
                    .el-descriptions__body .el-descriptions__table .el-descriptions-item__cell {
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        text-align:left;
                        font-weight:400;
                        line-height:1.5
                    }
                    .el-descriptions__body .el-descriptions__table .el-descriptions-item__cell.is-left {
                        text-align:left
                    }
                    .el-descriptions__body .el-descriptions__table .el-descriptions-item__cell.is-center {
                        text-align:center
                    }
                    .el-descriptions__body .el-descriptions__table .el-descriptions-item__cell.is-right {
                        text-align:right
                    }
                    .el-descriptions .is-bordered {
                        table-layout:auto
                    }
                    .el-descriptions .is-bordered .el-descriptions-item__cell {
                        border:1px solid #ebeef5;
                        padding:12px 10px
                    }
                    .el-descriptions:not(.is-bordered) .el-descriptions-item__cell {
                        padding-bottom:12px
                    }
                    .el-descriptions--medium.is-bordered .el-descriptions-item__cell {
                        padding:10px
                    }
                    .el-descriptions--medium:not(.is-bordered) .el-descriptions-item__cell {
                        padding-bottom:10px
                    }
                    .el-descriptions--small.is-bordered .el-descriptions-item__cell {
                        padding:8px 10px
                    }
                    .el-descriptions--small:not(.is-bordered) .el-descriptions-item__cell {
                        padding-bottom:8px
                    }
                    .el-descriptions--mini.is-bordered .el-descriptions-item__cell {
                        padding:6px 10px
                    }
                    .el-descriptions--mini:not(.is-bordered) .el-descriptions-item__cell {
                        padding-bottom:6px
                    }
                    .el-descriptions-item {
                        vertical-align:top
                    }
                    .el-descriptions-item__container {
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex
                    }
                    .el-descriptions-item__container .el-descriptions-item__content,.el-descriptions-item__container .el-descriptions-item__label {
                        display:-webkit-inline-box;
                        display:-ms-inline-flexbox;
                        display:inline-flex;
                        -webkit-box-align:baseline;
                        -ms-flex-align:baseline;
                        align-items:baseline
                    }
                    .el-descriptions-item__container .el-descriptions-item__content {
                        -webkit-box-flex:1;
                        -ms-flex:1;
                        flex:1
                    }
                    .el-descriptions-item__label.has-colon::after {
                        content:':';
                        position:relative;
                        top:-.5px
                    }
                    .el-descriptions-item__label.is-bordered-label {
                        font-weight:700;
                        color:#909399;
                        background:#fafafa
                    }
                    .el-descriptions-item__label:not(.is-bordered-label) {
                        margin-right:10px
                    }
                    .el-descriptions-item__content {
                        word-break:break-word;
                        overflow-wrap:break-word
                    }
                    .el-result {
                        display:-webkit-box;
                        display:-ms-flexbox;
                        display:flex;
                        -webkit-box-pack:center;
                        -ms-flex-pack:center;
                        justify-content:center;
                        -webkit-box-align:center;
                        -ms-flex-align:center;
                        align-items:center;
                        -ms-flex-direction:column;
                        flex-direction:column;
                        text-align:center;
                        -webkit-box-sizing:border-box;
                        box-sizing:border-box;
                        padding:40px 30px
                    }
                    .el-result__icon svg {
                        width:64px;
                        height:64px
                    }
                    .el-result__title p {
                        margin:0;
                        font-size:20px;
                        color:#303133;
                        line-height:1.3
                    }
                    .el-result__subtitle {
                        margin-top:10px
                    }
                    .el-result__subtitle p {
                        margin:0;
                        font-size:14px;
                        color:#606266;
                        line-height:1.3
                    }
                    .el-result__extra {
                        margin-top:30px
                    }
                    .el-result .icon-success {
                        fill:#67c23a
                    }
                    .el-result .icon-error {
                        fill:#f56c6c
                    }
                    .el-result .icon-info {
                        fill:#909399
                    }
                    .el-result .icon-warning {
                        fill:#e6a23c
                    }
                    html {
                        font-family:Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,"\5FAE \8F6F\96C5 \9ED1 ",微软雅黑,Arial,sans-serif
                    }
                    #app,body,html {
                        height:100%
                    }
                    body {
                        margin:0;
                        background-color:#f6f8fa
                    }
                    a,a:focus,a:hover {
                        text-decoration:none
                    }
                    canvas.yt-img-shadow,caption.yt-img-shadow,center.yt-img-shadow,cite.yt-img-shadow,code.yt-img-shadow,dd.yt-img-shadow,del.yt-img-shadow,dfn.yt-img-shadow,div.yt-img-shadow,dl.yt-img-shadow,dt.yt-img-shadow,em.yt-img-shadow,embed.yt-img-shadow,fieldset.yt-img-shadow,font.yt-img-shadow,form.yt-img-shadow,h1.yt-img-shadow,h2.yt-img-shadow,h3.yt-img-shadow,h4.yt-img-shadow,h5.yt-img-shadow,h6.yt-img-shadow,hr.yt-img-shadow,i.yt-img-shadow,iframe.yt-img-shadow,img.yt-img-shadow,ins.yt-img-shadow,kbd.yt-img-shadow,label.yt-img-shadow,legend.yt-img-shadow,li.yt-img-shadow,menu.yt-img-shadow,object.yt-img-shadow,ol.yt-img-shadow,p.yt-img-shadow,pre.yt-img-shadow,q.yt-img-shadow,s.yt-img-shadow,samp.yt-img-shadow,small.yt-img-shadow,span.yt-img-shadow,strike.yt-img-shadow,strong.yt-img-shadow,sub.yt-img-shadow,sup.yt-img-shadow,table.yt-img-shadow,tbody.yt-img-shadow,td.yt-img-shadow,tfoot.yt-img-shadow,th.yt-img-shadow,thead.yt-img-shadow,tr.yt-img-shadow,tt.yt-img-shadow,u.yt-img-shadow,ul.yt-img-shadow,var.yt-img-shadow {
                        margin:0;
                        padding:0;
                        border:0;
                        background:transparent
                    }
                    .yt-img-shadow[hidden] {
                        display:none!important
                    }
                    yt-img-shadow {
                        display:inline-block;
                        opacity:0;
                        transition:opacity .2s;
                        flex:none
                    }
                    yt-img-shadow.no-transition {
                        opacity:1;
                        transition:none
                    }
                    yt-img-shadow.with-placeholder {
                        background-color:transparent;
                        min-height:unset;
                        min-width:unset
                    }
                    yt-img-shadow[loaded] {
                        opacity:1
                    }
                    yt-img-shadow.empty img.yt-img-shadow {
                        visibility:hidden
                    }
                    yt-img-shadow[fit] img.yt-img-shadow,yt-img-shadow[object-fit=FILL] img.yt-img-shadow {
                        width:100%;
                        height:100%
                    }
                    yt-img-shadow[object-fit=COVER] img.yt-img-shadow {
                        width:100%;
                        height:100%;
                        -o-object-fit:cover;
                        object-fit:cover
                    }
                    yt-img-shadow[object-fit=CONTAIN] img.yt-img-shadow {
                        width:100%;
                        height:100%;
                        -o-object-fit:contain;
                        object-fit:contain
                    }
                    yt-img-shadow[object-position=LEFT] img.yt-img-shadow {
                        -o-object-position:left;
                        object-position:left
                    }
                    img.yt-img-shadow {
                        display:block;
                        margin-left:auto;
                        margin-right:auto;
                        max-height:none;
                        max-width:100%;
                        border-radius:none
                    }
                    canvas.yt-live-chat-author-badge-renderer,caption.yt-live-chat-author-badge-renderer,center.yt-live-chat-author-badge-renderer,cite.yt-live-chat-author-badge-renderer,code.yt-live-chat-author-badge-renderer,dd.yt-live-chat-author-badge-renderer,del.yt-live-chat-author-badge-renderer,dfn.yt-live-chat-author-badge-renderer,div.yt-live-chat-author-badge-renderer,dl.yt-live-chat-author-badge-renderer,dt.yt-live-chat-author-badge-renderer,em.yt-live-chat-author-badge-renderer,embed.yt-live-chat-author-badge-renderer,fieldset.yt-live-chat-author-badge-renderer,font.yt-live-chat-author-badge-renderer,form.yt-live-chat-author-badge-renderer,h1.yt-live-chat-author-badge-renderer,h2.yt-live-chat-author-badge-renderer,h3.yt-live-chat-author-badge-renderer,h4.yt-live-chat-author-badge-renderer,h5.yt-live-chat-author-badge-renderer,h6.yt-live-chat-author-badge-renderer,hr.yt-live-chat-author-badge-renderer,i.yt-live-chat-author-badge-renderer,iframe.yt-live-chat-author-badge-renderer,img.yt-live-chat-author-badge-renderer,ins.yt-live-chat-author-badge-renderer,kbd.yt-live-chat-author-badge-renderer,label.yt-live-chat-author-badge-renderer,legend.yt-live-chat-author-badge-renderer,li.yt-live-chat-author-badge-renderer,menu.yt-live-chat-author-badge-renderer,object.yt-live-chat-author-badge-renderer,ol.yt-live-chat-author-badge-renderer,p.yt-live-chat-author-badge-renderer,pre.yt-live-chat-author-badge-renderer,q.yt-live-chat-author-badge-renderer,s.yt-live-chat-author-badge-renderer,samp.yt-live-chat-author-badge-renderer,small.yt-live-chat-author-badge-renderer,span.yt-live-chat-author-badge-renderer,strike.yt-live-chat-author-badge-renderer,strong.yt-live-chat-author-badge-renderer,sub.yt-live-chat-author-badge-renderer,sup.yt-live-chat-author-badge-renderer,table.yt-live-chat-author-badge-renderer,tbody.yt-live-chat-author-badge-renderer,td.yt-live-chat-author-badge-renderer,tfoot.yt-live-chat-author-badge-renderer,th.yt-live-chat-author-badge-renderer,thead.yt-live-chat-author-badge-renderer,tr.yt-live-chat-author-badge-renderer,tt.yt-live-chat-author-badge-renderer,u.yt-live-chat-author-badge-renderer,ul.yt-live-chat-author-badge-renderer,var.yt-live-chat-author-badge-renderer {
                        margin:0;
                        padding:0;
                        border:0;
                        background:transparent
                    }
                    .yt-live-chat-author-badge-renderer[hidden] {
                        display:none!important
                    }
                    yt-live-chat-author-badge-renderer {
                        display:inline-block
                    }
                    yt-live-chat-author-badge-renderer[type=moderator] {
                        color:var(--yt-live-chat-moderator-color,#5e84f1)
                    }
                    yt-live-chat-author-badge-renderer[type=owner] {
                        color:var(--yt-live-chat-owner-color,#ffd600)
                    }
                    yt-live-chat-author-badge-renderer[type=member] {
                        color:var(--yt-live-chat-sponsor-color,#107516)
                    }
                    yt-live-chat-author-badge-renderer[type=verified] {
                        color:#999
                    }
                    img.yt-live-chat-author-badge-renderer,yt-icon.yt-live-chat-author-badge-renderer {
                        display:block;
                        width:16px;
                        height:16px
                    }
                    canvas.yt-icon,caption.yt-icon,center.yt-icon,cite.yt-icon,code.yt-icon,dd.yt-icon,del.yt-icon,dfn.yt-icon,div.yt-icon,dl.yt-icon,dt.yt-icon,em.yt-icon,embed.yt-icon,fieldset.yt-icon,font.yt-icon,form.yt-icon,h1.yt-icon,h2.yt-icon,h3.yt-icon,h4.yt-icon,h5.yt-icon,h6.yt-icon,hr.yt-icon,i.yt-icon,iframe.yt-icon,img.yt-icon,ins.yt-icon,kbd.yt-icon,label.yt-icon,legend.yt-icon,li.yt-icon,menu.yt-icon,object.yt-icon,ol.yt-icon,p.yt-icon,pre.yt-icon,q.yt-icon,s.yt-icon,samp.yt-icon,small.yt-icon,span.yt-icon,strike.yt-icon,strong.yt-icon,sub.yt-icon,sup.yt-icon,table.yt-icon,tbody.yt-icon,td.yt-icon,tfoot.yt-icon,th.yt-icon,thead.yt-icon,tr.yt-icon,tt.yt-icon,u.yt-icon,ul.yt-icon,var.yt-icon {
                        margin:0;
                        padding:0;
                        border:0;
                        background:transparent
                    }
                    .yt-icon[hidden] {
                        display:none!important
                    }
                    .yt-icon-container.yt-icon,yt-icon {
                        display:inline-flex;
                        align-items:center;
                        justify-content:center;
                        position:relative;
                        vertical-align:middle;
                        fill:currentcolor;
                        stroke:none;
                        width:var(--iron-icon-width,24px);
                        height:var(--iron-icon-height,24px)
                    }
                    yt-icon.external-container {
                        display:none!important
                    }
                    canvas.yt-live-chat-author-chip,caption.yt-live-chat-author-chip,center.yt-live-chat-author-chip,cite.yt-live-chat-author-chip,code.yt-live-chat-author-chip,dd.yt-live-chat-author-chip,del.yt-live-chat-author-chip,dfn.yt-live-chat-author-chip,div.yt-live-chat-author-chip,dl.yt-live-chat-author-chip,dt.yt-live-chat-author-chip,em.yt-live-chat-author-chip,embed.yt-live-chat-author-chip,fieldset.yt-live-chat-author-chip,font.yt-live-chat-author-chip,form.yt-live-chat-author-chip,h1.yt-live-chat-author-chip,h2.yt-live-chat-author-chip,h3.yt-live-chat-author-chip,h4.yt-live-chat-author-chip,h5.yt-live-chat-author-chip,h6.yt-live-chat-author-chip,hr.yt-live-chat-author-chip,i.yt-live-chat-author-chip,iframe.yt-live-chat-author-chip,img.yt-live-chat-author-chip,ins.yt-live-chat-author-chip,kbd.yt-live-chat-author-chip,label.yt-live-chat-author-chip,legend.yt-live-chat-author-chip,li.yt-live-chat-author-chip,menu.yt-live-chat-author-chip,object.yt-live-chat-author-chip,ol.yt-live-chat-author-chip,p.yt-live-chat-author-chip,pre.yt-live-chat-author-chip,q.yt-live-chat-author-chip,s.yt-live-chat-author-chip,samp.yt-live-chat-author-chip,small.yt-live-chat-author-chip,span.yt-live-chat-author-chip,strike.yt-live-chat-author-chip,strong.yt-live-chat-author-chip,sub.yt-live-chat-author-chip,sup.yt-live-chat-author-chip,table.yt-live-chat-author-chip,tbody.yt-live-chat-author-chip,td.yt-live-chat-author-chip,tfoot.yt-live-chat-author-chip,th.yt-live-chat-author-chip,thead.yt-live-chat-author-chip,tr.yt-live-chat-author-chip,tt.yt-live-chat-author-chip,u.yt-live-chat-author-chip,ul.yt-live-chat-author-chip,var.yt-live-chat-author-chip {
                        margin:0;
                        padding:0;
                        border:0;
                        background:transparent
                    }
                    .yt-live-chat-author-chip[hidden] {
                        display:none!important
                    }
                    yt-live-chat-author-chip {
                        display:inline-flex;
                        align-items:baseline
                    }
                    #author-name.yt-live-chat-author-chip {
                        box-sizing:border-box;
                        border-radius:2px;
                        color:var(--yt-live-chat-secondary-text-color);
                        font-weight:500
                    }
                    yt-live-chat-author-chip[is-highlighted] #author-name.yt-live-chat-author-chip {
                        padding:2px 4px;
                        color:var(--yt-live-chat-author-chip-verified-text-color);
                        background-color:var(--yt-live-chat-author-chip-verified-background-color)
                    }
                    #author-name.yt-live-chat-author-chip[type=moderator] {
                        color:var(--yt-live-chat-moderator-color)
                    }
                    #author-name.yt-live-chat-author-chip[type=owner],yt-live-chat-author-chip[is-highlighted] #author-name.yt-live-chat-author-chip[type=owner] {
                        background-color:#ffd600;
                        color:var(--yt-live-chat-author-chip-owner-text-color)
                    }
                    #author-name.yt-live-chat-author-chip[type=member] {
                        color:var(--yt-live-chat-sponsor-color)
                    }
                    #chip-badges.yt-live-chat-author-chip:empty {
                        display:none
                    }
                    yt-live-chat-author-chip[is-highlighted] #chat-badges.yt-live-chat-author-chip:not(:empty) {
                        margin-left:1px
                    }
                    yt-live-chat-author-badge-renderer.yt-live-chat-author-chip {
                        margin:0 0 0 2px;
                        vertical-align:sub
                    }
                    yt-live-chat-author-chip[is-highlighted] #chip-badges.yt-live-chat-author-chip yt-live-chat-author-badge-renderer.yt-live-chat-author-chip {
                        color:inherit
                    }
                    #chip-badges.yt-live-chat-author-chip yt-live-chat-author-badge-renderer.yt-live-chat-author-chip:last-of-type {
                        margin-right:-2px
                    }
                    #timestamp.yt-live-chat-membership-item-renderer {
                        display:var(--yt-live-chat-item-timestamp-display,inline);
                        margin:var(--yt-live-chat-item-timestamp-margin,0 8px 0 0);
                        color:var(--yt-live-chat-tertiary-text-color);
                        font-size:11px
                    }
                    #author-photo.yt-live-chat-membership-item-renderer {
                        display:block;
                        margin-right:16px;
                        overflow:hidden;
                        border-radius:50%;
                        flex:var(--layout-flex-none_-_flex)
                    }
                    #menu-button.yt-live-chat-membership-item-renderer {
                        width:var(--yt-live-chat-32px-icon-button_-_width);
                        height:var(--yt-live-chat-32px-icon-button_-_height);
                        padding:var(--yt-live-chat-32px-icon-button_-_padding)
                    }
                    #menu.yt-live-chat-membership-item-renderer {
                        position:absolute;
                        top:0;
                        bottom:0;
                        right:0;
                        transform:translateX(100px)
                    }
                    yt-live-chat-membership-item-renderer:hover #menu.yt-live-chat-membership-item-renderer,yt-live-chat-membership-item-renderer[menu-visible] #menu.yt-live-chat-membership-item-renderer {
                        transform:none
                    }
                    yt-live-chat-membership-item-renderer:focus-within #menu.yt-live-chat-membership-item-renderer {
                        transform:none
                    }
                    #inline-action-button-container.yt-live-chat-membership-item-renderer {
                        position:absolute;
                        top:-4px;
                        right:0;
                        bottom:-4px;
                        left:0;
                        background-color:var(--yt-live-chat-moderation-mode-hover-background-color);
                        display:none;
                        align-items:var(--layout-center-center_-_align-items);
                        justify-content:var(--layout-center-center_-_justify-content)
                    }
                    yt-live-chat-membership-item-renderer[has-inline-action-buttons]:hover #inline-action-button-container.yt-live-chat-membership-item-renderer {
                        display:var(--layout-horizontal_-_display);
                        flex-direction:var(--layout-horizontal_-_flex-direction);
                        display:var(--yt-live-chat-inline-action-button-container-display,none)
                    }
                    yt-live-chat-membership-item-renderer[has-inline-action-buttons][hide-inline-action-buttons]:hover #inline-action-button-container.yt-live-chat-membership-item-renderer {
                        display:none
                    }
                    yt-live-chat-membership-item-renderer[has-inline-action-buttons]:hover #menu.yt-live-chat-membership-item-renderer {
                        display:var(--yt-live-chat-item-with-inline-actions-context-menu-display,block)
                    }
                    #additional-inline-action-buttons.yt-live-chat-membership-item-renderer>.yt-live-chat-membership-item-renderer,#inline-action-buttons.yt-live-chat-membership-item-renderer>.yt-live-chat-membership-item-renderer {
                        --yt-button-icon-size:36px;
                        --yt-button-icon-padding:6px;
                        color:var(--yt-white);
                        border-radius:2px
                    }
                    #inline-action-buttons.yt-live-chat-membership-item-renderer>.yt-live-chat-membership-item-renderer {
                        background:var(--yt-luna-black-opacity-lighten-1)
                    }
                    #inline-action-buttons.yt-live-chat-membership-item-renderer>.yt-live-chat-membership-item-renderer:hover {
                        background:var(--yt-luna-black)
                    }
                    #additional-inline-action-buttons.yt-live-chat-membership-item-renderer>.yt-live-chat-membership-item-renderer {
                        color:var(--yt-live-chat-additional-inline-action-button-color);
                        background:var(--yt-live-chat-additional-inline-action-button-background-color)
                    }
                    #additional-inline-action-buttons.yt-live-chat-membership-item-renderer>.yt-live-chat-membership-item-renderer:hover {
                        background:var(--yt-live-chat-additional-inline-action-button-background-color-hover)
                    }
                    #additional-inline-action-buttons.yt-live-chat-membership-item-renderer:not(:empty) {
                        margin-left:32px
                    }
                    #additional-inline-action-buttons.yt-live-chat-membership-item-renderer>.yt-live-chat-membership-item-renderer:not(:first-child),#inline-action-buttons.yt-live-chat-membership-item-renderer>.yt-live-chat-membership-item-renderer:not(:first-child) {
                        margin-left:8px
                    }
                    yt-live-chat-membership-item-renderer {
                        position:relative;
                        display:block;
                        --yt-live-chat-sponsor-header-color:#0a8043;
                        --yt-live-chat-sponsor-color:#0f9d58;
                        --yt-live-chat-sponsor-text-color:#fff;
                        --yt-live-chat-item-timestamp-display:var(--yt-live-chat-paid-message-timestamp-display,none);
                        padding:4px 24px
                    }
                    yt-live-chat-membership-item-renderer[dashboard-money-feed] {
                        padding:0;
                        --yt-live-chat-item-timestamp-display:block
                    }
                    #card.yt-live-chat-membership-item-renderer {
                        overflow:hidden;
                        font-size:14px;
                        border-radius:4px;
                        display:var(--layout-vertical_-_display);
                        flex-direction:var(--layout-vertical_-_flex-direction);
                        box-shadow:var(--shadow-elevation-2dp_-_box-shadow)
                    }
                    yt-live-chat-membership-item-renderer[dashboard-money-feed] #card.yt-live-chat-membership-item-renderer {
                        border-radius:0;
                        box-shadow:none
                    }
                    #header.yt-live-chat-membership-item-renderer {
                        position:relative;
                        background-color:var(--yt-live-chat-sponsor-header-color);
                        padding:8px 16px;
                        color:#fff;
                        min-height:20px;
                        display:var(--layout-horizontal_-_display);
                        flex-direction:var(--layout-horizontal_-_flex-direction);
                        align-items:var(--layout-center_-_align-items)
                    }
                    yt-live-chat-membership-item-renderer[show-only-header] #header.yt-live-chat-membership-item-renderer {
                        background-color:var(--yt-live-chat-sponsor-color)
                    }
                    yt-live-chat-membership-item-renderer[dashboard-money-feed] #header.yt-live-chat-membership-item-renderer {
                        color:var(--yt-live-chat-secondary-text-color);
                        background-color:var(--yt-live-chat-background-color);
                        align-items:var(--layout-start_-_align-items)
                    }
                    #header-content.yt-live-chat-membership-item-renderer {
                        display:var(--layout-horizontal_-_display);
                        flex-direction:var(--layout-horizontal_-_flex-direction);
                        justify-content:var(--layout-justified_-_justify-content);
                        flex:var(--layout-flex_-_flex);
                        flex-basis:var(--layout-flex_-_flex-basis);
                        align-items:var(--layout-baseline_-_align-items)
                    }
                    yt-live-chat-membership-item-renderer[dashboard-money-feed] #header-content.yt-live-chat-membership-item-renderer {
                        display:var(--layout-vertical_-_display);
                        flex-direction:var(--layout-vertical_-_flex-direction)
                    }
                    yt-live-chat-membership-item-renderer[dashboard-money-feed] #header-content-inner-column.yt-live-chat-membership-item-renderer {
                        margin-bottom:4px;
                        display:var(--layout-horizontal_-_display);
                        flex-direction:var(--layout-horizontal_-_flex-direction);
                        align-items:var(--layout-center_-_align-items);
                        flex:var(--layout-flex-none_-_flex)
                    }
                    #author-photo.yt-live-chat-membership-item-renderer {
                        width:40px;
                        height:40px
                    }
                    yt-icon#author-photo.yt-live-chat-membership-item-renderer {
                        display:none
                    }
                    yt-live-chat-membership-item-renderer[dashboard-money-feed] yt-icon#author-photo.yt-live-chat-membership-item-renderer {
                        display:block
                    }
                    yt-live-chat-membership-item-renderer:not([dashboard-money-feed]) yt-live-chat-author-chip.yt-live-chat-membership-item-renderer {
                        --yt-live-chat-sponsor-color:var(--yt-live-chat-sponsor-text-color);
                        --yt-live-chat-secondary-text-color:var(--yt-live-chat-sponsor-text-color)
                    }
                    yt-live-chat-membership-item-renderer[dashboard-money-feed] yt-live-chat-author-chip.yt-live-chat-membership-item-renderer {
                        margin-right:8px;
                        font-weight:500;
                        --yt-live-chat-sponsor-color:var(--yt-live-chat-secondary-text-color)
                    }
                    #header-subtext.yt-live-chat-membership-item-renderer {
                        margin-top:2px;
                        color:hsla(0,0%,100%,.7);
                        font-weight:500;
                        font-size:15px
                    }
                    #header-subtext.yt-live-chat-membership-item-renderer:empty {
                        display:none
                    }
                    yt-live-chat-membership-item-renderer[dashboard-money-feed] #header-subtext.yt-live-chat-membership-item-renderer {
                        margin:4px 0 13px;
                        font-size:11px;
                        font-weight:400;
                        color:var(--yt-live-chat-secondary-text-color)
                    }
                    #header-primary-text.yt-live-chat-membership-item-renderer {
                        word-wrap:break-word;
                        word-break:break-word;
                        font-weight:500;
                        color:#fff
                    }
                    #header-primary-text.yt-live-chat-membership-item-renderer:empty {
                        display:none
                    }
                    yt-live-chat-membership-item-renderer[has-primary-header-text]:not([dashboard-money-feed]) #header-subtext.yt-live-chat-membership-item-renderer,yt-live-chat-membership-item-renderer[has-primary-header-text]:not([dashboard-money-feed]) yt-live-chat-author-chip.yt-live-chat-membership-item-renderer {
                        font-size:12px
                    }
                    yt-live-chat-membership-item-renderer[dashboard-money-feed] #header-primary-text.yt-live-chat-membership-item-renderer {
                        display:inline;
                        height:24px;
                        min-width:16px;
                        border-radius:12px;
                        margin-right:8px;
                        padding:0 12px;
                        background-color:var(--yt-live-chat-sponsor-color);
                        color:var(--yt-white);
                        display:var(--layout-inline_-_display,inline);
                        align-items:var(--layout-center-center_-_align-items);
                        justify-content:var(--layout-center-center_-_justify-content);
                        font-size:var(--ytd-badge_-_font-size);
                        font-weight:var(--ytd-badge_-_font-weight);
                        line-height:var(--ytd-badge_-_line-height)
                    }
                    #content.yt-live-chat-membership-item-renderer {
                        background-color:var(--yt-live-chat-sponsor-color);
                        color:var(--yt-live-chat-sponsor-text-color);
                        padding:8px 16px;
                        word-wrap:break-word;
                        word-break:break-word;
                        font-size:15px;
                        line-height:20px
                    }
                    yt-live-chat-membership-item-renderer[dashboard-money-feed] #content.yt-live-chat-membership-item-renderer {
                        background-color:unset;
                        font-size:unset;
                        color:var(--yt-live-chat-secondary-text-color);
                        padding:0 0 16px 72px
                    }
                    #content.yt-live-chat-membership-item-renderer img.yt-live-chat-membership-item-renderer {
                        width:auto;
                        height:var(--yt-live-chat-emoji-size);
                        margin:-1px 2px 1px 2px;
                        vertical-align:middle
                    }
                    #deleted-state.yt-live-chat-membership-item-renderer:empty,yt-live-chat-membership-item-renderer[show-only-header] #content.yt-live-chat-membership-item-renderer {
                        display:none
                    }
                    #deleted-state.yt-live-chat-membership-item-renderer {
                        display:block;
                        font-style:italic;
                        opacity:.7
                    }
                    a.yt-live-chat-membership-item-renderer {
                        display:inline;
                        text-decoration:underline
                    }
                    #message.yt-live-chat-membership-item-renderer a.yt-live-chat-membership-item-renderer {
                        word-break:break-all
                    }
                    #message.yt-live-chat-membership-item-renderer a.yt-live-chat-membership-item-renderer .mention.yt-live-chat-membership-item-renderer {
                        text-decoration:underline
                    }
                    #menu.yt-live-chat-membership-item-renderer {
                        background:linear-gradient(to right,transparent,var(--yt-live-chat-sponsor-header-color) 100%);
                        border-radius:0 4px 4px 0
                    }
                    yt-live-chat-membership-item-renderer[show-only-header] #menu.yt-live-chat-membership-item-renderer {
                        background:linear-gradient(to right,transparent,var(--yt-live-chat-sponsor-color) 100%)
                    }
                    yt-live-chat-membership-item-renderer[dashboard-money-feed] #menu.yt-live-chat-membership-item-renderer {
                        margin-top:8px;
                        background:linear-gradient(to right,transparent,var(--yt-live-chat-background-color) 40%)
                    }
                    canvas.yt-live-chat-paid-message-renderer,caption.yt-live-chat-paid-message-renderer,center.yt-live-chat-paid-message-renderer,cite.yt-live-chat-paid-message-renderer,code.yt-live-chat-paid-message-renderer,dd.yt-live-chat-paid-message-renderer,del.yt-live-chat-paid-message-renderer,dfn.yt-live-chat-paid-message-renderer,div.yt-live-chat-paid-message-renderer,dl.yt-live-chat-paid-message-renderer,dt.yt-live-chat-paid-message-renderer,em.yt-live-chat-paid-message-renderer,embed.yt-live-chat-paid-message-renderer,fieldset.yt-live-chat-paid-message-renderer,font.yt-live-chat-paid-message-renderer,form.yt-live-chat-paid-message-renderer,h1.yt-live-chat-paid-message-renderer,h2.yt-live-chat-paid-message-renderer,h3.yt-live-chat-paid-message-renderer,h4.yt-live-chat-paid-message-renderer,h5.yt-live-chat-paid-message-renderer,h6.yt-live-chat-paid-message-renderer,hr.yt-live-chat-paid-message-renderer,i.yt-live-chat-paid-message-renderer,iframe.yt-live-chat-paid-message-renderer,img.yt-live-chat-paid-message-renderer,ins.yt-live-chat-paid-message-renderer,kbd.yt-live-chat-paid-message-renderer,label.yt-live-chat-paid-message-renderer,legend.yt-live-chat-paid-message-renderer,li.yt-live-chat-paid-message-renderer,menu.yt-live-chat-paid-message-renderer,object.yt-live-chat-paid-message-renderer,ol.yt-live-chat-paid-message-renderer,p.yt-live-chat-paid-message-renderer,pre.yt-live-chat-paid-message-renderer,q.yt-live-chat-paid-message-renderer,s.yt-live-chat-paid-message-renderer,samp.yt-live-chat-paid-message-renderer,small.yt-live-chat-paid-message-renderer,span.yt-live-chat-paid-message-renderer,strike.yt-live-chat-paid-message-renderer,strong.yt-live-chat-paid-message-renderer,sub.yt-live-chat-paid-message-renderer,sup.yt-live-chat-paid-message-renderer,table.yt-live-chat-paid-message-renderer,tbody.yt-live-chat-paid-message-renderer,td.yt-live-chat-paid-message-renderer,tfoot.yt-live-chat-paid-message-renderer,th.yt-live-chat-paid-message-renderer,thead.yt-live-chat-paid-message-renderer,tr.yt-live-chat-paid-message-renderer,tt.yt-live-chat-paid-message-renderer,u.yt-live-chat-paid-message-renderer,ul.yt-live-chat-paid-message-renderer,var.yt-live-chat-paid-message-renderer {
                        margin:0;
                        padding:0;
                        border:0;
                        background:transparent
                    }
                    .yt-live-chat-paid-message-renderer[hidden] {
                        display:none!important
                    }
                    #timestamp.yt-live-chat-paid-message-renderer {
                        display:var(--yt-live-chat-item-timestamp-display,inline);
                        margin:var(--yt-live-chat-item-timestamp-margin,0 8px 0 0);
                        color:var(--yt-live-chat-tertiary-text-color);
                        font-size:11px
                    }
                    #author-photo.yt-live-chat-paid-message-renderer {
                        display:block;
                        margin-right:16px;
                        overflow:hidden;
                        border-radius:50%;
                        flex:none
                    }
                    #menu-button.yt-live-chat-paid-message-renderer {
                        width:40px;
                        height:40px;
                        padding:8px
                    }
                    #menu.yt-live-chat-paid-message-renderer {
                        position:absolute;
                        top:0;
                        bottom:0;
                        right:0;
                        transform:translateX(100px)
                    }
                    yt-live-chat-paid-message-renderer:hover #menu.yt-live-chat-paid-message-renderer,yt-live-chat-paid-message-renderer[menu-visible] #menu.yt-live-chat-paid-message-renderer {
                        transform:none
                    }
                    yt-live-chat-paid-message-renderer:focus-within #menu.yt-live-chat-paid-message-renderer {
                        transform:none
                    }
                    #inline-action-button-container.yt-live-chat-paid-message-renderer {
                        position:absolute;
                        top:-4px;
                        right:0;
                        bottom:-4px;
                        left:0;
                        background-color:var(--yt-live-chat-moderation-mode-hover-background-color);
                        display:none;
                        align-items:center;
                        justify-content:center
                    }
                    yt-live-chat-paid-message-renderer[has-inline-action-buttons]:hover #inline-action-button-container.yt-live-chat-paid-message-renderer {
                        display:flex;
                        flex-direction:row;
                        display:var(--yt-live-chat-inline-action-button-container-display,none)
                    }
                    yt-live-chat-paid-message-renderer[has-inline-action-buttons][hide-inline-action-buttons]:hover #inline-action-button-container.yt-live-chat-paid-message-renderer {
                        display:none
                    }
                    yt-live-chat-paid-message-renderer[has-inline-action-buttons]:hover #menu.yt-live-chat-paid-message-renderer {
                        display:var(--yt-live-chat-item-with-inline-actions-context-menu-display,block)
                    }
                    #additional-inline-action-buttons.yt-live-chat-paid-message-renderer>.yt-live-chat-paid-message-renderer,#inline-action-buttons.yt-live-chat-paid-message-renderer>.yt-live-chat-paid-message-renderer {
                        --yt-button-icon-size:36px;
                        --yt-button-icon-padding:6px;
                        color:#fff;
                        border-radius:2px
                    }
                    #inline-action-buttons.yt-live-chat-paid-message-renderer>.yt-live-chat-paid-message-renderer {
                        background:hsla(0,0%,7%,.8)
                    }
                    #inline-action-buttons.yt-live-chat-paid-message-renderer>.yt-live-chat-paid-message-renderer:hover {
                        background:#111
                    }
                    #additional-inline-action-buttons.yt-live-chat-paid-message-renderer>.yt-live-chat-paid-message-renderer {
                        color:var(--yt-live-chat-additional-inline-action-button-color);
                        background:var(--yt-live-chat-additional-inline-action-button-background-color)
                    }
                    #additional-inline-action-buttons.yt-live-chat-paid-message-renderer>.yt-live-chat-paid-message-renderer:hover {
                        background:var(--yt-live-chat-additional-inline-action-button-background-color-hover)
                    }
                    #additional-inline-action-buttons.yt-live-chat-paid-message-renderer:not(:empty) {
                        margin-left:32px
                    }
                    #additional-inline-action-buttons.yt-live-chat-paid-message-renderer>.yt-live-chat-paid-message-renderer:not(:first-child),#inline-action-buttons.yt-live-chat-paid-message-renderer>.yt-live-chat-paid-message-renderer:not(:first-child) {
                        margin-left:8px
                    }
                    yt-live-chat-paid-message-renderer {
                        position:relative;
                        display:block;
                        padding:4px 24px;
                        font-size:15px;
                        --yt-live-chat-paid-message-background-color:var(--yt-live-chat-paid-message-primary-color);
                        --yt-live-chat-paid-message-header-background-color:var(--yt-live-chat-paid-message-secondary-color);
                        --yt-live-chat-text-input-field-placeholder-color:var(--yt-live-chat-paid-message-color);
                        --yt-live-chat-item-timestamp-display:var(--yt-live-chat-paid-message-timestamp-display,none)
                    }
                    yt-live-chat-paid-message-renderer[dashboard-money-feed] {
                        padding:0;
                        padding-bottom:8px;
                        --yt-live-chat-paid-message-background-color:transparent;
                        --yt-live-chat-paid-message-header-background-color:transparent;
                        --yt-live-chat-item-timestamp-display:block
                    }
                    #card.yt-live-chat-paid-message-renderer {
                        border-radius:4px;
                        display:flex;
                        flex-direction:column;
                        box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2)
                    }
                    yt-live-chat-paid-message-renderer[dashboard-money-feed] #card.yt-live-chat-paid-message-renderer {
                        border-radius:0;
                        box-shadow:none
                    }
                    #header.yt-live-chat-paid-message-renderer {
                        position:relative;
                        background-color:var(--yt-live-chat-paid-message-header-background-color,#125aac);
                        color:var(--yt-live-chat-paid-message-header-color,#fff);
                        font-weight:500;
                        padding:8px 16px;
                        min-height:20px;
                        display:flex;
                        flex-direction:row;
                        align-items:center;
                        border-top-left-radius:4px;
                        border-top-right-radius:4px
                    }
                    yt-live-chat-paid-message-renderer[show-only-header] #header.yt-live-chat-paid-message-renderer {
                        border-bottom-left-radius:4px;
                        border-bottom-right-radius:4px
                    }
                    yt-live-chat-paid-message-renderer[dashboard-money-feed] #header.yt-live-chat-paid-message-renderer {
                        color:var(--yt-live-chat-secondary-text-color);
                        padding-bottom:0
                    }
                    #author-photo.yt-live-chat-paid-message-renderer {
                        width:40px;
                        height:40px
                    }
                    yt-icon#author-photo.yt-live-chat-paid-message-renderer {
                        display:none
                    }
                    yt-live-chat-paid-message-renderer[dashboard-money-feed] yt-icon#author-photo.yt-live-chat-paid-message-renderer {
                        display:block
                    }
                    #header-content.yt-live-chat-paid-message-renderer {
                        display:flex;
                        flex-direction:row;
                        justify-content:space-between;
                        flex:1;
                        flex-basis:0.000000001px;
                        align-items:baseline
                    }
                    yt-live-chat-paid-message-renderer[dashboard-money-feed] #header-content.yt-live-chat-paid-message-renderer {
                        display:flex;
                        flex-direction:column
                    }
                    #header-content-primary-column.yt-live-chat-paid-message-renderer {
                        display:flex;
                        flex-direction:column;
                        justify-content:space-between;
                        flex:1;
                        flex-basis:0.000000001px
                    }
                    yt-live-chat-paid-message-renderer[dashboard-money-feed] #header-content-primary-column.yt-live-chat-paid-message-renderer {
                        margin-bottom:4px;
                        display:flex;
                        flex-direction:row;
                        align-items:baseline;
                        flex:none
                    }
                    #author-name.yt-live-chat-paid-message-renderer {
                        color:var(--yt-live-chat-paid-message-author-name-color,hsla(0,0%,100%,.7));
                        font-size:14px
                    }
                    yt-live-chat-paid-message-renderer[dashboard-money-feed] #author-name.yt-live-chat-paid-message-renderer {
                        margin-right:8px
                    }
                    yt-live-chat-paid-message-renderer[dashboard-money-feed] #purchase-amount.yt-live-chat-paid-message-renderer {
                        display:inline;
                        height:24px;
                        min-width:16px;
                        border-radius:12px;
                        margin-right:8px;
                        padding:0 12px;
                        background-color:var(--yt-live-chat-paid-message-primary-color);
                        color:var(--yt-live-chat-paid-message-color);
                        display:inline-flex;
                        align-items:center;
                        justify-content:center;
                        font-size:1.2rem;
                        font-weight:500;
                        line-height:1.2rem
                    }
                    yt-live-chat-paid-message-renderer[dashboard-money-feed] #author-name.yt-live-chat-paid-message-renderer {
                        display:block;
                        color:var(--yt-live-chat-secondary-text-color)
                    }
                    yt-live-chat-paid-message-renderer[dashboard-money-feed] #author-name.yt-live-chat-paid-message-renderer[is-deleted] {
                        margin:4px 0 0;
                        order:1
                    }
                    yt-live-chat-paid-message-renderer[dashboard-money-feed] #author-name.yt-live-chat-paid-message-renderer[is-deleted].yt-live-chat-paid-message-renderer:before {
                        content:"â€‹";
                        display:inline;
                        width:0
                    }
                    #menu.yt-live-chat-paid-message-renderer {
                        background:linear-gradient(to right,transparent,var(--yt-live-chat-paid-message-header-background-color,#125aac) 100%);
                        border-radius:0 4px 4px 0
                    }
                    yt-live-chat-paid-message-renderer[dashboard-money-feed] #menu.yt-live-chat-paid-message-renderer {
                        margin-top:8px;
                        background:linear-gradient(to right,transparent,var(--yt-live-chat-background-color) 40%)
                    }
                    yt-live-chat-paid-message-renderer[allow-animations] #content.yt-live-chat-paid-message-renderer,yt-live-chat-paid-message-renderer[allow-animations] #header.yt-live-chat-paid-message-renderer {
                        transition-property:background-color,color;
                        transition-duration:.2s
                    }
                    #content.yt-live-chat-paid-message-renderer {
                        background-color:var(--yt-live-chat-paid-message-background-color,#1565c0);
                        color:var(--yt-live-chat-paid-message-color,#fff);
                        padding:8px 16px;
                        word-wrap:break-word;
                        word-break:break-word;
                        border-bottom-left-radius:4px;
                        border-bottom-right-radius:4px
                    }
                    #content.yt-live-chat-paid-message-renderer img.yt-live-chat-paid-message-renderer {
                        width:auto;
                        height:var(--yt-live-chat-emoji-size);
                        margin:-1px 2px 1px 2px;
                        vertical-align:middle
                    }
                    yt-live-chat-paid-message-renderer[dashboard-money-feed] #content.yt-live-chat-paid-message-renderer {
                        padding:0;
                        padding-left:72px;
                        color:var(--yt-live-chat-secondary-text-color)
                    }
                    yt-live-chat-paid-message-renderer[show-only-header] #content.yt-live-chat-paid-message-renderer {
                        visibility:hidden;
                        padding:0
                    }
                    a.yt-live-chat-paid-message-renderer {
                        display:inline;
                        text-decoration:underline
                    }
                    #message.yt-live-chat-paid-message-renderer a.yt-live-chat-paid-message-renderer {
                        word-break:break-all
                    }
                    yt-live-chat-paid-message-renderer[dashboard-money-feed] #message.yt-live-chat-paid-message-renderer {
                        margin-top:4px
                    }
                    #message.yt-live-chat-paid-message-renderer a.yt-live-chat-paid-message-renderer .mention.yt-live-chat-paid-message-renderer {
                        text-decoration:underline
                    }
                    #author-name.yt-live-chat-paid-message-renderer:empty:not([is-deleted]).yt-live-chat-paid-message-renderer,#deleted-state.yt-live-chat-paid-message-renderer:empty,#message.yt-live-chat-paid-message-renderer:empty {
                        display:none
                    }
                    #deleted-state.yt-live-chat-paid-message-renderer {
                        display:block;
                        font-style:italic;
                        opacity:.7
                    }
                    yt-live-chat-paid-message-renderer[dashboard-money-feed] #deleted-state.yt-live-chat-paid-message-renderer[is-deleted] {
                        margin-top:4px
                    }
                    yt-live-chat-paid-message-renderer[dashboard-money-feed] #author-name.yt-live-chat-paid-message-renderer {
                        flex:none
                    }
                    yt-live-chat-paid-message-renderer[show-footer-divider] #footer.yt-live-chat-paid-message-renderer:before {
                        content:"";
                        display:flex;
                        border-top:1px solid rgba(0,0,0,.12);
                        margin:8px 0
                    }
                    yt-live-chat-paid-message-renderer[is-user-editable] #footer.yt-live-chat-paid-message-renderer:not(:empty) {
                        padding-top:8px
                    }
                    canvas.yt-live-chat-ticker-renderer,caption.yt-live-chat-ticker-renderer,center.yt-live-chat-ticker-renderer,cite.yt-live-chat-ticker-renderer,code.yt-live-chat-ticker-renderer,dd.yt-live-chat-ticker-renderer,del.yt-live-chat-ticker-renderer,dfn.yt-live-chat-ticker-renderer,div.yt-live-chat-ticker-renderer,dl.yt-live-chat-ticker-renderer,dt.yt-live-chat-ticker-renderer,em.yt-live-chat-ticker-renderer,embed.yt-live-chat-ticker-renderer,fieldset.yt-live-chat-ticker-renderer,font.yt-live-chat-ticker-renderer,form.yt-live-chat-ticker-renderer,h1.yt-live-chat-ticker-renderer,h2.yt-live-chat-ticker-renderer,h3.yt-live-chat-ticker-renderer,h4.yt-live-chat-ticker-renderer,h5.yt-live-chat-ticker-renderer,h6.yt-live-chat-ticker-renderer,hr.yt-live-chat-ticker-renderer,i.yt-live-chat-ticker-renderer,iframe.yt-live-chat-ticker-renderer,img.yt-live-chat-ticker-renderer,ins.yt-live-chat-ticker-renderer,kbd.yt-live-chat-ticker-renderer,label.yt-live-chat-ticker-renderer,legend.yt-live-chat-ticker-renderer,li.yt-live-chat-ticker-renderer,menu.yt-live-chat-ticker-renderer,object.yt-live-chat-ticker-renderer,ol.yt-live-chat-ticker-renderer,p.yt-live-chat-ticker-renderer,pre.yt-live-chat-ticker-renderer,q.yt-live-chat-ticker-renderer,s.yt-live-chat-ticker-renderer,samp.yt-live-chat-ticker-renderer,small.yt-live-chat-ticker-renderer,span.yt-live-chat-ticker-renderer,strike.yt-live-chat-ticker-renderer,strong.yt-live-chat-ticker-renderer,sub.yt-live-chat-ticker-renderer,sup.yt-live-chat-ticker-renderer,table.yt-live-chat-ticker-renderer,tbody.yt-live-chat-ticker-renderer,td.yt-live-chat-ticker-renderer,tfoot.yt-live-chat-ticker-renderer,th.yt-live-chat-ticker-renderer,thead.yt-live-chat-ticker-renderer,tr.yt-live-chat-ticker-renderer,tt.yt-live-chat-ticker-renderer,u.yt-live-chat-ticker-renderer,ul.yt-live-chat-ticker-renderer,var.yt-live-chat-ticker-renderer {
                        margin:0;
                        padding:0;
                        border:0;
                        background:transparent
                    }
                    .yt-live-chat-ticker-renderer[hidden] {
                        display:none!important
                    }
                    yt-live-chat-ticker-renderer {
                        display:block;
                        background-color:var(--yt-live-chat-header-background-color)
                    }
                    #container.yt-live-chat-ticker-renderer {
                        position:relative
                    }
                    #items.yt-live-chat-ticker-renderer {
                        height:32px;
                        overflow:hidden;
                        white-space:nowrap;
                        padding:0 24px 8px 24px
                    }
                    #items.yt-live-chat-ticker-renderer>.yt-live-chat-ticker-renderer {
                        margin-right:8px
                    }
                    #left-arrow-container.yt-live-chat-ticker-renderer {
                        background:linear-gradient(to right,var(--yt-live-chat-ticker-arrow-background) 0,var(--yt-live-chat-ticker-arrow-background) 52px,transparent 60px);
                        left:0;
                        padding:0 16px 0 12px
                    }
                    #right-arrow-container.yt-live-chat-ticker-renderer {
                        background:linear-gradient(to left,var(--yt-live-chat-ticker-arrow-background) 0,var(--yt-live-chat-ticker-arrow-background) 52px,transparent 60px);
                        right:0;
                        padding:0 12px 0 16px
                    }
                    #container.yt-live-chat-ticker-renderer:hover #left-arrow-container.yt-live-chat-ticker-renderer,#container.yt-live-chat-ticker-renderer:hover #right-arrow-container.yt-live-chat-ticker-renderer {
                        opacity:1
                    }
                    #left-arrow-container.yt-live-chat-ticker-renderer,#right-arrow-container.yt-live-chat-ticker-renderer {
                        height:32px;
                        opacity:0;
                        position:absolute;
                        text-align:center;
                        top:0;
                        transition:opacity .3s .1s
                    }
                    yt-icon.yt-live-chat-ticker-renderer {
                        background-color:#2196f3;
                        border-radius:999px;
                        color:#fff;
                        cursor:pointer;
                        height:24px;
                        padding:4px;
                        width:24px
                    }
                    canvas.yt-live-chat-ticker-paid-message-item-renderer,caption.yt-live-chat-ticker-paid-message-item-renderer,center.yt-live-chat-ticker-paid-message-item-renderer,cite.yt-live-chat-ticker-paid-message-item-renderer,code.yt-live-chat-ticker-paid-message-item-renderer,dd.yt-live-chat-ticker-paid-message-item-renderer,del.yt-live-chat-ticker-paid-message-item-renderer,dfn.yt-live-chat-ticker-paid-message-item-renderer,div.yt-live-chat-ticker-paid-message-item-renderer,dl.yt-live-chat-ticker-paid-message-item-renderer,dt.yt-live-chat-ticker-paid-message-item-renderer,em.yt-live-chat-ticker-paid-message-item-renderer,embed.yt-live-chat-ticker-paid-message-item-renderer,fieldset.yt-live-chat-ticker-paid-message-item-renderer,font.yt-live-chat-ticker-paid-message-item-renderer,form.yt-live-chat-ticker-paid-message-item-renderer,h1.yt-live-chat-ticker-paid-message-item-renderer,h2.yt-live-chat-ticker-paid-message-item-renderer,h3.yt-live-chat-ticker-paid-message-item-renderer,h4.yt-live-chat-ticker-paid-message-item-renderer,h5.yt-live-chat-ticker-paid-message-item-renderer,h6.yt-live-chat-ticker-paid-message-item-renderer,hr.yt-live-chat-ticker-paid-message-item-renderer,i.yt-live-chat-ticker-paid-message-item-renderer,iframe.yt-live-chat-ticker-paid-message-item-renderer,img.yt-live-chat-ticker-paid-message-item-renderer,ins.yt-live-chat-ticker-paid-message-item-renderer,kbd.yt-live-chat-ticker-paid-message-item-renderer,label.yt-live-chat-ticker-paid-message-item-renderer,legend.yt-live-chat-ticker-paid-message-item-renderer,li.yt-live-chat-ticker-paid-message-item-renderer,menu.yt-live-chat-ticker-paid-message-item-renderer,object.yt-live-chat-ticker-paid-message-item-renderer,ol.yt-live-chat-ticker-paid-message-item-renderer,p.yt-live-chat-ticker-paid-message-item-renderer,pre.yt-live-chat-ticker-paid-message-item-renderer,q.yt-live-chat-ticker-paid-message-item-renderer,s.yt-live-chat-ticker-paid-message-item-renderer,samp.yt-live-chat-ticker-paid-message-item-renderer,small.yt-live-chat-ticker-paid-message-item-renderer,span.yt-live-chat-ticker-paid-message-item-renderer,strike.yt-live-chat-ticker-paid-message-item-renderer,strong.yt-live-chat-ticker-paid-message-item-renderer,sub.yt-live-chat-ticker-paid-message-item-renderer,sup.yt-live-chat-ticker-paid-message-item-renderer,table.yt-live-chat-ticker-paid-message-item-renderer,tbody.yt-live-chat-ticker-paid-message-item-renderer,td.yt-live-chat-ticker-paid-message-item-renderer,tfoot.yt-live-chat-ticker-paid-message-item-renderer,th.yt-live-chat-ticker-paid-message-item-renderer,thead.yt-live-chat-ticker-paid-message-item-renderer,tr.yt-live-chat-ticker-paid-message-item-renderer,tt.yt-live-chat-ticker-paid-message-item-renderer,u.yt-live-chat-ticker-paid-message-item-renderer,ul.yt-live-chat-ticker-paid-message-item-renderer,var.yt-live-chat-ticker-paid-message-item-renderer {
                        margin:0;
                        padding:0;
                        border:0;
                        background:transparent
                    }
                    .yt-live-chat-ticker-paid-message-item-renderer[hidden] {
                        display:none!important
                    }
                    yt-live-chat-ticker-paid-message-item-renderer {
                        display:inline-block;
                        font-size:14px;
                        outline:none;
                        transition:width .2s;
                        vertical-align:top;
                        cursor:pointer;
                        -moz-user-select:none;
                        -webkit-user-select:none;
                        user-select:none
                    }
                    #container.yt-live-chat-ticker-paid-message-item-renderer {
                        border-radius:999px;
                        padding:4px
                    }
                    yt-live-chat-ticker-paid-message-item-renderer.sliding-down #container.yt-live-chat-ticker-paid-message-item-renderer {
                        opacity:.5;
                        transform:translateY(44px);
                        transition:opacity .2s,transform .2s cubic-bezier(.4,0,1,1)
                    }
                    yt-live-chat-ticker-paid-message-item-renderer.collapsing {
                        margin-right:0;
                        transition:margin-right .2s cubic-bezier(.4,0,.2,1),width .2s cubic-bezier(.4,0,.2,1)
                    }
                    yt-live-chat-ticker-paid-message-item-renderer[dimmed] {
                        opacity:.5
                    }
                    yt-img-shadow.yt-live-chat-ticker-paid-message-item-renderer {
                        margin-right:-4px;
                        overflow:hidden;
                        border-radius:50%
                    }
                    #content.yt-live-chat-ticker-paid-message-item-renderer {
                        height:24px;
                        display:flex;
                        flex-direction:row;
                        align-items:center
                    }
                    #text.yt-live-chat-ticker-paid-message-item-renderer {
                        margin:0 8px;
                        font-weight:500
                    }
                    yt-live-chat-ticker-paid-message-item-renderer[is-deleted] #author-photo.yt-live-chat-ticker-paid-message-item-renderer {
                        display:none
                    }
                    canvas.yt-live-chat-text-message-renderer,caption.yt-live-chat-text-message-renderer,center.yt-live-chat-text-message-renderer,cite.yt-live-chat-text-message-renderer,code.yt-live-chat-text-message-renderer,dd.yt-live-chat-text-message-renderer,del.yt-live-chat-text-message-renderer,dfn.yt-live-chat-text-message-renderer,div.yt-live-chat-text-message-renderer,dl.yt-live-chat-text-message-renderer,dt.yt-live-chat-text-message-renderer,em.yt-live-chat-text-message-renderer,embed.yt-live-chat-text-message-renderer,fieldset.yt-live-chat-text-message-renderer,font.yt-live-chat-text-message-renderer,form.yt-live-chat-text-message-renderer,h1.yt-live-chat-text-message-renderer,h2.yt-live-chat-text-message-renderer,h3.yt-live-chat-text-message-renderer,h4.yt-live-chat-text-message-renderer,h5.yt-live-chat-text-message-renderer,h6.yt-live-chat-text-message-renderer,hr.yt-live-chat-text-message-renderer,i.yt-live-chat-text-message-renderer,iframe.yt-live-chat-text-message-renderer,img.yt-live-chat-text-message-renderer,ins.yt-live-chat-text-message-renderer,kbd.yt-live-chat-text-message-renderer,label.yt-live-chat-text-message-renderer,legend.yt-live-chat-text-message-renderer,li.yt-live-chat-text-message-renderer,menu.yt-live-chat-text-message-renderer,object.yt-live-chat-text-message-renderer,ol.yt-live-chat-text-message-renderer,p.yt-live-chat-text-message-renderer,pre.yt-live-chat-text-message-renderer,q.yt-live-chat-text-message-renderer,s.yt-live-chat-text-message-renderer,samp.yt-live-chat-text-message-renderer,small.yt-live-chat-text-message-renderer,span.yt-live-chat-text-message-renderer,strike.yt-live-chat-text-message-renderer,strong.yt-live-chat-text-message-renderer,sub.yt-live-chat-text-message-renderer,sup.yt-live-chat-text-message-renderer,table.yt-live-chat-text-message-renderer,tbody.yt-live-chat-text-message-renderer,td.yt-live-chat-text-message-renderer,tfoot.yt-live-chat-text-message-renderer,th.yt-live-chat-text-message-renderer,thead.yt-live-chat-text-message-renderer,tr.yt-live-chat-text-message-renderer,tt.yt-live-chat-text-message-renderer,u.yt-live-chat-text-message-renderer,ul.yt-live-chat-text-message-renderer,var.yt-live-chat-text-message-renderer {
                        margin:0;
                        padding:0;
                        border:0;
                        background:transparent
                    }
                    .yt-live-chat-text-message-renderer[hidden] {
                        display:none!important
                    }
                    #timestamp.yt-live-chat-text-message-renderer {
                        display:var(--yt-live-chat-item-timestamp-display,inline);
                        margin:var(--yt-live-chat-item-timestamp-margin,0 8px 0 0);
                        color:var(--yt-live-chat-tertiary-text-color);
                        font-size:11px
                    }
                    #author-photo.yt-live-chat-text-message-renderer {
                        display:block;
                        margin-right:16px;
                        overflow:hidden;
                        border-radius:50%;
                        flex:none
                    }
                    #menu-button.yt-live-chat-text-message-renderer {
                        width:40px;
                        height:40px;
                        padding:8px
                    }
                    #menu.yt-live-chat-text-message-renderer {
                        position:absolute;
                        top:0;
                        bottom:0;
                        right:0;
                        transform:translateX(100px)
                    }
                    yt-live-chat-text-message-renderer:hover #menu.yt-live-chat-text-message-renderer,yt-live-chat-text-message-renderer[menu-visible] #menu.yt-live-chat-text-message-renderer {
                        transform:none
                    }
                    yt-live-chat-text-message-renderer:focus-within #menu.yt-live-chat-text-message-renderer {
                        transform:none
                    }
                    #inline-action-button-container.yt-live-chat-text-message-renderer {
                        position:absolute;
                        top:-4px;
                        right:0;
                        bottom:-4px;
                        left:0;
                        background-color:var(--yt-live-chat-moderation-mode-hover-background-color);
                        display:none;
                        align-items:center;
                        justify-content:center
                    }
                    yt-live-chat-text-message-renderer[has-inline-action-buttons]:hover #inline-action-button-container.yt-live-chat-text-message-renderer {
                        display:flex;
                        flex-direction:row;
                        display:var(--yt-live-chat-inline-action-button-container-display,none)
                    }
                    yt-live-chat-text-message-renderer[has-inline-action-buttons][hide-inline-action-buttons]:hover #inline-action-button-container.yt-live-chat-text-message-renderer {
                        display:none
                    }
                    yt-live-chat-text-message-renderer[has-inline-action-buttons]:hover #menu.yt-live-chat-text-message-renderer {
                        display:var(--yt-live-chat-item-with-inline-actions-context-menu-display,block)
                    }
                    #additional-inline-action-buttons.yt-live-chat-text-message-renderer>.yt-live-chat-text-message-renderer,#inline-action-buttons.yt-live-chat-text-message-renderer>.yt-live-chat-text-message-renderer {
                        --yt-button-icon-size:36px;
                        --yt-button-icon-padding:6px;
                        color:#fff;
                        border-radius:2px
                    }
                    #inline-action-buttons.yt-live-chat-text-message-renderer>.yt-live-chat-text-message-renderer {
                        background:hsla(0,0%,7%,.8)
                    }
                    #inline-action-buttons.yt-live-chat-text-message-renderer>.yt-live-chat-text-message-renderer:hover {
                        background:#111
                    }
                    #additional-inline-action-buttons.yt-live-chat-text-message-renderer>.yt-live-chat-text-message-renderer {
                        color:var(--yt-live-chat-additional-inline-action-button-color);
                        background:var(--yt-live-chat-additional-inline-action-button-background-color)
                    }
                    #additional-inline-action-buttons.yt-live-chat-text-message-renderer>.yt-live-chat-text-message-renderer:hover {
                        background:var(--yt-live-chat-additional-inline-action-button-background-color-hover)
                    }
                    #additional-inline-action-buttons.yt-live-chat-text-message-renderer:not(:empty) {
                        margin-left:32px
                    }
                    #additional-inline-action-buttons.yt-live-chat-text-message-renderer>.yt-live-chat-text-message-renderer:not(:first-child),#inline-action-buttons.yt-live-chat-text-message-renderer>.yt-live-chat-text-message-renderer:not(:first-child) {
                        margin-left:8px
                    }
                    yt-live-chat-text-message-renderer {
                        position:relative;
                        font-size:13px;
                        padding:4px 24px;
                        overflow:hidden;
                        --yt-endpoint-color:var(--yt-live-chat-primary-text-color,#111);
                        --yt-endpoint-hover-color:var(--yt-live-chat-primary-text-color,var(--yt-endpoint-color));
                        display:flex;
                        flex-direction:row;
                        align-items:flex-start
                    }
                    yt-live-chat-text-message-renderer:hover {
                        overflow:initial
                    }
                    yt-live-chat-text-message-renderer[author-is-owner] {
                        background-color:var(--yt-live-chat-message-highlight-background-color)
                    }
                    #content.yt-live-chat-text-message-renderer {
                        -ms-align-self:center;
                        align-self:center;
                        min-width:0
                    }
                    yt-live-chat-author-chip.yt-live-chat-text-message-renderer {
                        margin-right:8px
                    }
                    #message.yt-live-chat-text-message-renderer {
                        color:var(--yt-live-chat-primary-text-color,var(--yt-primary-text-color));
                        line-height:16px;
                        overflow:hidden;
                        overflow-wrap:break-word;
                        word-wrap:break-word;
                        word-break:break-word;
                        font-style:var(--yt-live-chat-text-message-renderer-message-message-style_-_font-style);
                        opacity:var(--yt-live-chat-text-message-renderer-message-message-style_-_opacity)
                    }
                    #message.yt-live-chat-text-message-renderer .emoji.yt-live-chat-text-message-renderer {
                        width:auto;
                        height:var(--yt-live-chat-emoji-size);
                        margin:-1px 2px 1px 2px;
                        vertical-align:middle
                    }
                    a.yt-live-chat-text-message-renderer {
                        display:inline;
                        text-decoration:underline
                    }
                    #message.yt-live-chat-text-message-renderer a.yt-live-chat-text-message-renderer {
                        display:inline;
                        text-decoration:underline;
                        word-break:break-all
                    }
                    #message.yt-live-chat-text-message-renderer a.yt-live-chat-text-message-renderer .mention.yt-live-chat-text-message-renderer {
                        text-decoration:underline
                    }
                    #show-original.yt-live-chat-text-message-renderer {
                        margin-left:2px
                    }
                    #deleted-state.yt-live-chat-text-message-renderer:empty,#message.yt-live-chat-text-message-renderer:empty,#show-original.yt-live-chat-text-message-renderer:empty,yt-live-chat-text-message-renderer[is-deleted]:not([show-original]) #message.yt-live-chat-text-message-renderer,yt-live-chat-text-message-renderer[show-original] #deleted-state.yt-live-chat-text-message-renderer,yt-live-chat-text-message-renderer[show-original] #show-original.yt-live-chat-text-message-renderer {
                        display:none
                    }
                    #menu.yt-live-chat-text-message-renderer {
                        color:var(--yt-live-chat-secondary-text-color);
                        background:linear-gradient(to right,transparent,var(--yt-live-chat-background-color,#fff) 100%)
                    }
                    .mention.yt-live-chat-text-message-renderer {
                        background:var(--yt-live-chat-mention-background-color);
                        color:var(--yt-live-chat-mention-text-color);
                        padding:2px 4px;
                        border-radius:2px
                    }
                    #deleted-state.yt-live-chat-text-message-renderer,#show-original.yt-live-chat-text-message-renderer,yt-live-chat-text-message-renderer[is-deleted] #message.yt-live-chat-text-message-renderer {
                        font-style:italic;
                        color:var(--yt-live-chat-deleted-message-color,rgba(0,0,0,.5))
                    }
                    yt-live-chat-text-message-renderer[show-bar]:before {
                        content:"";
                        position:absolute;
                        display:block;
                        left:8px;
                        top:4px;
                        bottom:4px;
                        width:4px;
                        box-sizing:border-box;
                        border-radius:2px
                    }
                    yt-live-chat-text-message-renderer[is-deleted]:before {
                        background:var(--yt-live-chat-deleted-message-bar-color,rgba(0,0,0,.5))
                    }
                    yt-live-chat-text-message-renderer[is-dimmed] #message.yt-live-chat-text-message-renderer {
                        opacity:.25
                    }
                    yt-live-chat-text-message-renderer[is-dimmed]:before {
                        background:var(--yt-live-chat-error-message-color,#f44336)
                    }
                    html:not(.style-scope) {
                        --yt-live-chat-background-color:#fff;
                        --yt-live-chat-action-panel-background-color:hsla(0,0%,93%,.4);
                        --yt-live-chat-action-panel-background-color-transparent:hsla(0,0%,97%,.8);
                        --yt-live-chat-mode-change-background-color:hsla(0,0%,93%,.4);
                        --yt-live-chat-primary-text-color:#111;
                        --yt-live-chat-secondary-text-color:hsla(0,0%,7%,.6);
                        --yt-live-chat-tertiary-text-color:hsla(0,0%,7%,.4);
                        --yt-live-chat-text-input-field-inactive-underline-color:#b8b8b8;
                        --yt-live-chat-text-input-field-placeholder-color:hsla(0,0%,7%,.6);
                        --yt-live-chat-icon-button-color:hsla(0,0%,7%,.4);
                        --yt-live-chat-enabled-send-button-color:#4285f4;
                        --yt-live-chat-disabled-icon-button-color:hsla(0,0%,7%,.2);
                        --yt-live-chat-picker-button-color:hsla(0,0%,7%,.4);
                        --yt-live-chat-picker-button-active-color:hsla(0,0%,7%,.8);
                        --yt-live-chat-picker-button-disabled-color:var(--yt-live-chat-disabled-icon-button-color);
                        --yt-live-chat-picker-button-hover-color:hsla(0,0%,7%,.6);
                        --yt-live-chat-mention-background-color:#ff5722;
                        --yt-live-chat-mention-text-color:#fff;
                        --yt-live-chat-deleted-message-color:rgba(0,0,0,.5);
                        --yt-live-chat-deleted-message-bar-color:hsla(0,0%,4%,.2);
                        --yt-live-chat-disabled-button-background-color:#eee;
                        --yt-live-chat-disabled-button-text-color:hsla(0,0%,7%,.4);
                        --yt-live-chat-sub-panel-background-color:#eee;
                        --yt-live-chat-sub-panel-background-color-transparent:hsla(0,0%,93%,.7);
                        --yt-live-chat-header-background-color:hsla(0,0%,93%,.4);
                        --yt-live-chat-header-button-color:#111;
                        --yt-live-chat-error-message-color:#bd523d;
                        --yt-live-chat-reconnect-message-color:hsla(0,0%,7%,.2);
                        --yt-live-chat-moderator-color:#5f84f1;
                        --yt-live-chat-owner-color:#e3a935;
                        --yt-live-chat-author-chip-owner-text-color:rgba(0,0,0,.87);
                        --yt-live-chat-author-chip-verified-background-color:#ccc;
                        --yt-live-chat-author-chip-verified-text-color:#606060;
                        --yt-live-chat-message-highlight-background-color:#f8f8f8;
                        --yt-live-chat-sponsor-color:#107516;
                        --yt-live-chat-overlay-color:rgba(0,0,0,.6);
                        --yt-live-chat-dialog-background-color:#fff;
                        --yt-live-chat-dialog-text-color:hsla(0,0%,7%,.6);
                        --yt-live-chat-poll-choice-text-color:var(--yt-spec-text-secondary);
                        --yt-live-chat-poll-choice-border-color:var(--yt-spec-10-percent-layer);
                        --yt-live-chat-poll-choice-vote-bar-background-color:hsla(0,0%,93%,.8);
                        --yt-live-chat-poll-choice-vote-bar-background-color-selected:#f2f8ff;
                        --yt-live-chat-poll-choice-color-selected:#065fd4;
                        --yt-live-chat-moderation-mode-hover-background-color:hsla(0,0%,7%,.2);
                        --yt-live-chat-additional-inline-action-button-color:#fff;
                        --yt-live-chat-additional-inline-action-button-background-color:rgba(66,66,66,.8);
                        --yt-live-chat-additional-inline-action-button-background-color-hover:#424242;
                        --yt-formatted-string-emoji-size:24px;
                        --yt-live-chat-emoji-size:24px;
                        --yt-live-chat-text-input-field-suggestion-background-color:#fff;
                        --yt-live-chat-text-input-field-suggestion-background-color-hover:#eee;
                        --yt-live-chat-text-input-field-suggestion-text-color:#666;
                        --yt-live-chat-text-input-field-suggestion-text-color-hover:#333;
                        --yt-live-chat-ticker-arrow-background:#f8f8f8;
                        --yt-emoji-picker-category-background-color:var(--yt-live-chat-action-panel-background-color-transparent);
                        --yt-emoji-picker-category-color:var(--yt-live-chat-secondary-text-color);
                        --yt-emoji-picker-category-button-color:var(--yt-live-chat-picker-button-color);
                        --yt-emoji-picker-search-background-color:hsla(0,0%,100%,.6);
                        --yt-emoji-picker-search-color:hsla(0,0%,7%,.8);
                        --yt-emoji-picker-search-placeholder-color:hsla(0,0%,7%,.6);
                        --yt-live-chat-slider-active-color:#2196f3;
                        --yt-live-chat-slider-container-color:#c8c8c8;
                        --yt-live-chat-slider-markers-color:#505050;
                        --yt-live-chat-toast-background-color:#333;
                        --yt-live-chat-toast-text-color:#fff;
                        --yt-live-chat-automod-button-background-color:#eee;
                        --yt-live-chat-automod-button-background-color-hover:hsla(0,0%,7%,.2);
                        --yt-live-chat-countdown-opacity:0.3;
                        --yt-live-chat-shimmer-background-color:hsla(0,0%,53%,.2);
                        --yt-live-chat-shimmer-linear-gradient:linear-gradient(0deg,hsla(0,0%,100%,0) 40%,hsla(0,0%,100%,.5) 50%,hsla(0,0%,100%,0) 65%);
                        --yt-live-chat-vem-background-color:#eee;
                        --yt-live-chat-upsell-dialog-renderer-button-padding:10px 16px;
                        --yt-live-chat-product-picker-icon-color:hsla(0,0%,7%,.6);
                        --yt-live-chat-product-picker-hover-color:rgba(17,17,16,.1);
                        --yt-live-chat-product-picker-disabled-icon-color:hsla(0,0%,7%,.4);
                        --yt-pdg-paid-stickers-tab-selection-bar-color:#065fd4;
                        --yt-pdg-paid-stickers-author-name-font-size:13px;
                        --yt-pdg-paid-stickers-margin-left:38px;
                        --layout_-_display:flex;
                        --layout-inline_-_display:inline-flex;
                        --layout-horizontal_-_display:var(--layout_-_display);
                        --layout-horizontal_-_-ms-flex-direction:row;
                        --layout-horizontal_-_-webkit-flex-direction:row;
                        --layout-horizontal_-_flex-direction:row;
                        --layout-horizontal-reverse_-_display:var(--layout_-_display);
                        --layout-horizontal-reverse_-_-ms-flex-direction:row-reverse;
                        --layout-horizontal-reverse_-_-webkit-flex-direction:row-reverse;
                        --layout-horizontal-reverse_-_flex-direction:row-reverse;
                        --layout-vertical_-_display:var(--layout_-_display);
                        --layout-vertical_-_-ms-flex-direction:column;
                        --layout-vertical_-_-webkit-flex-direction:column;
                        --layout-vertical_-_flex-direction:column;
                        --layout-vertical-reverse_-_display:var(--layout_-_display);
                        --layout-vertical-reverse_-_-ms-flex-direction:column-reverse;
                        --layout-vertical-reverse_-_-webkit-flex-direction:column-reverse;
                        --layout-vertical-reverse_-_flex-direction:column-reverse;
                        --layout-wrap_-_-ms-flex-wrap:wrap;
                        --layout-wrap_-_-webkit-flex-wrap:wrap;
                        --layout-wrap_-_flex-wrap:wrap;
                        --layout-wrap-reverse_-_-ms-flex-wrap:wrap-reverse;
                        --layout-wrap-reverse_-_-webkit-flex-wrap:wrap-reverse;
                        --layout-wrap-reverse_-_flex-wrap:wrap-reverse;
                        --layout-flex-auto_-_-ms-flex:1 1 auto;
                        --layout-flex-auto_-_-webkit-flex:1 1 auto;
                        --layout-flex-auto_-_flex:1 1 auto;
                        --layout-flex-none_-_-ms-flex:none;
                        --layout-flex-none_-_-webkit-flex:none;
                        --layout-flex-none_-_flex:none;
                        --layout-flex_-_-ms-flex:1 1 0.000000001px;
                        --layout-flex_-_-webkit-flex:1;
                        --layout-flex_-_flex:1;
                        --layout-flex_-_-webkit-flex-basis:0.000000001px;
                        --layout-flex_-_flex-basis:0.000000001px;
                        --layout-flex-2_-_-ms-flex:2;
                        --layout-flex-2_-_-webkit-flex:2;
                        --layout-flex-2_-_flex:2;
                        --layout-flex-3_-_-ms-flex:3;
                        --layout-flex-3_-_-webkit-flex:3;
                        --layout-flex-3_-_flex:3;
                        --layout-flex-4_-_-ms-flex:4;
                        --layout-flex-4_-_-webkit-flex:4;
                        --layout-flex-4_-_flex:4;
                        --layout-flex-5_-_-ms-flex:5;
                        --layout-flex-5_-_-webkit-flex:5;
                        --layout-flex-5_-_flex:5;
                        --layout-flex-6_-_-ms-flex:6;
                        --layout-flex-6_-_-webkit-flex:6;
                        --layout-flex-6_-_flex:6;
                        --layout-flex-7_-_-ms-flex:7;
                        --layout-flex-7_-_-webkit-flex:7;
                        --layout-flex-7_-_flex:7;
                        --layout-flex-8_-_-ms-flex:8;
                        --layout-flex-8_-_-webkit-flex:8;
                        --layout-flex-8_-_flex:8;
                        --layout-flex-9_-_-ms-flex:9;
                        --layout-flex-9_-_-webkit-flex:9;
                        --layout-flex-9_-_flex:9;
                        --layout-flex-10_-_-ms-flex:10;
                        --layout-flex-10_-_-webkit-flex:10;
                        --layout-flex-10_-_flex:10;
                        --layout-flex-11_-_-ms-flex:11;
                        --layout-flex-11_-_-webkit-flex:11;
                        --layout-flex-11_-_flex:11;
                        --layout-flex-12_-_-ms-flex:12;
                        --layout-flex-12_-_-webkit-flex:12;
                        --layout-flex-12_-_flex:12;
                        --layout-start_-_-ms-flex-align:start;
                        --layout-start_-_-webkit-align-items:flex-start;
                        --layout-start_-_align-items:flex-start;
                        --layout-center_-_-ms-flex-align:center;
                        --layout-center_-_-webkit-align-items:center;
                        --layout-center_-_align-items:center;
                        --layout-end_-_-ms-flex-align:end;
                        --layout-end_-_-webkit-align-items:flex-end;
                        --layout-end_-_align-items:flex-end;
                        --layout-baseline_-_-ms-flex-align:baseline;
                        --layout-baseline_-_-webkit-align-items:baseline;
                        --layout-baseline_-_align-items:baseline;
                        --layout-start-justified_-_-ms-flex-pack:start;
                        --layout-start-justified_-_-webkit-justify-content:flex-start;
                        --layout-start-justified_-_justify-content:flex-start;
                        --layout-center-justified_-_-ms-flex-pack:center;
                        --layout-center-justified_-_-webkit-justify-content:center;
                        --layout-center-justified_-_justify-content:center;
                        --layout-end-justified_-_-ms-flex-pack:end;
                        --layout-end-justified_-_-webkit-justify-content:flex-end;
                        --layout-end-justified_-_justify-content:flex-end;
                        --layout-around-justified_-_-ms-flex-pack:distribute;
                        --layout-around-justified_-_-webkit-justify-content:space-around;
                        --layout-around-justified_-_justify-content:space-around;
                        --layout-justified_-_-ms-flex-pack:justify;
                        --layout-justified_-_-webkit-justify-content:space-between;
                        --layout-justified_-_justify-content:space-between;
                        --layout-center-center_-_-ms-flex-align:var(--layout-center_-_-ms-flex-align);
                        --layout-center-center_-_-webkit-align-items:var(--layout-center_-_-webkit-align-items);
                        --layout-center-center_-_align-items:var(--layout-center_-_align-items);
                        --layout-center-center_-_-ms-flex-pack:var(--layout-center-justified_-_-ms-flex-pack);
                        --layout-center-center_-_-webkit-justify-content:var(--layout-center-justified_-_-webkit-justify-content);
                        --layout-center-center_-_justify-content:var(--layout-center-justified_-_justify-content);
                        --layout-self-start_-_-ms-align-self:flex-start;
                        --layout-self-start_-_-webkit-align-self:flex-start;
                        --layout-self-start_-_align-self:flex-start;
                        --layout-self-center_-_-ms-align-self:center;
                        --layout-self-center_-_-webkit-align-self:center;
                        --layout-self-center_-_align-self:center;
                        --layout-self-end_-_-ms-align-self:flex-end;
                        --layout-self-end_-_-webkit-align-self:flex-end;
                        --layout-self-end_-_align-self:flex-end;
                        --layout-self-stretch_-_-ms-align-self:stretch;
                        --layout-self-stretch_-_-webkit-align-self:stretch;
                        --layout-self-stretch_-_align-self:stretch;
                        --layout-self-baseline_-_-ms-align-self:baseline;
                        --layout-self-baseline_-_-webkit-align-self:baseline;
                        --layout-self-baseline_-_align-self:baseline;
                        --layout-start-aligned_-_-ms-flex-line-pack:start;
                        --layout-start-aligned_-_-ms-align-content:flex-start;
                        --layout-start-aligned_-_-webkit-align-content:flex-start;
                        --layout-start-aligned_-_align-content:flex-start;
                        --layout-end-aligned_-_-ms-flex-line-pack:end;
                        --layout-end-aligned_-_-ms-align-content:flex-end;
                        --layout-end-aligned_-_-webkit-align-content:flex-end;
                        --layout-end-aligned_-_align-content:flex-end;
                        --layout-center-aligned_-_-ms-flex-line-pack:center;
                        --layout-center-aligned_-_-ms-align-content:center;
                        --layout-center-aligned_-_-webkit-align-content:center;
                        --layout-center-aligned_-_align-content:center;
                        --layout-between-aligned_-_-ms-flex-line-pack:justify;
                        --layout-between-aligned_-_-ms-align-content:space-between;
                        --layout-between-aligned_-_-webkit-align-content:space-between;
                        --layout-between-aligned_-_align-content:space-between;
                        --layout-around-aligned_-_-ms-flex-line-pack:distribute;
                        --layout-around-aligned_-_-ms-align-content:space-around;
                        --layout-around-aligned_-_-webkit-align-content:space-around;
                        --layout-around-aligned_-_align-content:space-around;
                        --layout-block_-_display:block;
                        --layout-invisible_-_visibility:hidden!important;
                        --layout-relative_-_position:relative;
                        --layout-fit_-_position:absolute;
                        --layout-fit_-_top:0;
                        --layout-fit_-_right:0;
                        --layout-fit_-_bottom:0;
                        --layout-fit_-_left:0;
                        --layout-scroll_-_-webkit-overflow-scrolling:touch;
                        --layout-scroll_-_overflow:auto;
                        --layout-fullbleed_-_margin:0;
                        --layout-fullbleed_-_height:100vh;
                        --layout-fixed-top_-_position:fixed;
                        --layout-fixed-top_-_top:0;
                        --layout-fixed-top_-_left:0;
                        --layout-fixed-top_-_right:0;
                        --layout-fixed-right_-_position:fixed;
                        --layout-fixed-right_-_top:0;
                        --layout-fixed-right_-_right:0;
                        --layout-fixed-right_-_bottom:0;
                        --layout-fixed-bottom_-_position:fixed;
                        --layout-fixed-bottom_-_right:0;
                        --layout-fixed-bottom_-_bottom:0;
                        --layout-fixed-bottom_-_left:0;
                        --layout-fixed-left_-_position:fixed;
                        --layout-fixed-left_-_top:0;
                        --layout-fixed-left_-_bottom:0;
                        --layout-fixed-left_-_left:0
                    }
                    yt-live-chat-item-list-renderer #item-scroller,yt-live-chat-renderer {
                        height:100%
                    }
                    yt-live-chat-renderer::-webkit-scrollbar {
                        content:""
                    }
                    yt-live-chat-renderer::-webkit-scrollbar-thumb {
                        background-color:hsla(0,0%,53%,.2);
                        border:2px solid #fcfcfc;
                        min-height:30px
                    }
                    yt-live-chat-renderer::-webkit-scrollbar-track {
                        background-color:#fcfcfc
                    }
                    canvas.yt-live-chat-renderer,caption.yt-live-chat-renderer,center.yt-live-chat-renderer,cite.yt-live-chat-renderer,code.yt-live-chat-renderer,dd.yt-live-chat-renderer,del.yt-live-chat-renderer,dfn.yt-live-chat-renderer,div.yt-live-chat-renderer,dl.yt-live-chat-renderer,dt.yt-live-chat-renderer,em.yt-live-chat-renderer,embed.yt-live-chat-renderer,fieldset.yt-live-chat-renderer,font.yt-live-chat-renderer,form.yt-live-chat-renderer,h1.yt-live-chat-renderer,h2.yt-live-chat-renderer,h3.yt-live-chat-renderer,h4.yt-live-chat-renderer,h5.yt-live-chat-renderer,h6.yt-live-chat-renderer,hr.yt-live-chat-renderer,i.yt-live-chat-renderer,iframe.yt-live-chat-renderer,img.yt-live-chat-renderer,ins.yt-live-chat-renderer,kbd.yt-live-chat-renderer,label.yt-live-chat-renderer,legend.yt-live-chat-renderer,li.yt-live-chat-renderer,menu.yt-live-chat-renderer,object.yt-live-chat-renderer,ol.yt-live-chat-renderer,p.yt-live-chat-renderer,pre.yt-live-chat-renderer,q.yt-live-chat-renderer,s.yt-live-chat-renderer,samp.yt-live-chat-renderer,small.yt-live-chat-renderer,span.yt-live-chat-renderer,strike.yt-live-chat-renderer,strong.yt-live-chat-renderer,sub.yt-live-chat-renderer,sup.yt-live-chat-renderer,table.yt-live-chat-renderer,tbody.yt-live-chat-renderer,td.yt-live-chat-renderer,tfoot.yt-live-chat-renderer,th.yt-live-chat-renderer,thead.yt-live-chat-renderer,tr.yt-live-chat-renderer,tt.yt-live-chat-renderer,u.yt-live-chat-renderer,ul.yt-live-chat-renderer,var.yt-live-chat-renderer {
                        margin:0;
                        padding:0;
                        border:0;
                        background:transparent
                    }
                    .yt-live-chat-renderer[hidden] {
                        display:none!important
                    }
                    yt-live-chat-renderer {
                        font-size:13px;
                        --yt-emoji-picker-renderer-height:180px;
                        --yt-button-default-text-color:var(--yt-live-chat-button-default-text-color);
                        --yt-button-default-background-color:var(--yt-live-chat-button-default-background-color);
                        --yt-button-dark-text-color:var(--yt-live-chat-button-dark-text-color);
                        --yt-button-dark-background-color:var(--yt-live-chat-button-dark-background-color);
                        --yt-button-payment-background-color:var(--yt-live-chat-sponsor-color);
                        position:relative;
                        background:var(--yt-live-chat-background-color);
                        color:var(--yt-live-chat-primary-text-color);
                        overflow:hidden;
                        z-index:0;
                        display:flex;
                        flex-direction:column
                    }
                    yt-live-chat-renderer[hide-timestamps] {
                        --yt-live-chat-item-timestamp-display:none
                    }
                    #separator.yt-live-chat-renderer {
                        border-bottom:var(--yt-live-chat-header-bottom-border,none)
                    }
                    #content-pages.yt-live-chat-renderer {
                        display:flex;
                        flex-direction:column;
                        flex:1;
                        flex-basis:0.000000001px
                    }
                    #panel-pages.yt-live-chat-renderer {
                        max-height:100%;
                        overflow-x:hidden;
                        overflow-y:auto
                    }
                    #contents.yt-live-chat-renderer {
                        overflow:hidden;
                        position:relative;
                        z-index:0
                    }
                    #chat-messages.yt-live-chat-renderer,#contents.yt-live-chat-renderer,#item-list.yt-live-chat-renderer {
                        display:flex;
                        flex-direction:column;
                        flex:1;
                        flex-basis:0.000000001px
                    }
                    #ticker.yt-live-chat-renderer {
                        z-index:1
                    }
                    #chat.yt-live-chat-renderer {
                        position:relative;
                        display:flex;
                        flex-direction:column;
                        flex:1;
                        flex-basis:0.000000001px
                    }
                    #chat.yt-live-chat-renderer:after {
                        content:"";
                        display:none;
                        animation:gradient-slide 1.2s ease infinite;
                        animation-name:gradient-slide;
                        background-color:var(--yt-live-chat-shimmer-background-color);
                        background-image:var(--yt-live-chat-shimmer-linear-gradient);
                        background-size:300% 300%;
                        transform:rotateX(180deg);
                        position:absolute;
                        top:0;
                        right:0;
                        bottom:0;
                        left:0
                    }
                    yt-live-chat-renderer[loading] #chat.yt-live-chat-renderer:after {
                        display:block
                    }
                    yt-live-chat-pinned-message-renderer.yt-live-chat-renderer {
                        bottom:0;
                        left:0;
                        position:absolute;
                        right:0;
                        top:0
                    }
                    yt-live-chat-item-list-renderer.yt-live-chat-renderer,yt-live-chat-ninja-message-renderer.yt-live-chat-renderer {
                        flex:1;
                        flex-basis:0.000000001px
                    }
                    #action-panel.yt-live-chat-renderer {
                        position:absolute;
                        bottom:0;
                        left:0;
                        right:0;
                        overflow:hidden
                    }
                    yt-live-chat-renderer[has-action-panel-renderer] yt-live-chat-action-panel-renderer.yt-live-chat-renderer {
                        animation:slideUp cubic-bezier(.05,0,0,1) forwards;
                        animation-duration:.5s
                    }
                    #action-panel-backdrop.yt-live-chat-renderer {
                        position:absolute;
                        top:0;
                        right:0;
                        bottom:0;
                        left:0;
                        visibility:hidden
                    }
                    yt-live-chat-renderer[has-action-panel-renderer] #action-panel-backdrop.yt-live-chat-renderer {
                        visibility:visible;
                        animation:fadeIn cubic-bezier(.05,0,0,1) forwards;
                        animation-duration:.5s
                    }
                    #input-panel.yt-live-chat-renderer {
                        flex:none
                    }
                    #input-panel.yt-live-chat-renderer:not(:empty) {
                        border-top:var(--yt-live-chat-action-panel-top-border,none)
                    }
                    .hide-on-collapse.yt-live-chat-renderer {
                        transition:opacity .3s
                    }
                    yt-live-chat-renderer[collapsed] .hide-on-collapse.yt-live-chat-renderer {
                        opacity:0
                    }
                    #loading.yt-live-chat-renderer {
                        height:387px;
                        background-color:var(--yt-live-chat-action-panel-background-color);
                        display:flex;
                        flex-direction:column;
                        align-items:center;
                        justify-content:center
                    }
                    #loading.yt-live-chat-renderer>paper-spinner-lite.yt-live-chat-renderer {
                        --paper-spinner-color:var(--yt-live-chat-primary-text-color)
                    }
                    #nitrate-promo.yt-live-chat-renderer>.yt-live-chat-renderer {
                        background:var(--yt-live-chat-overlay-color);
                        z-index:3;
                        position:absolute;
                        top:0;
                        right:0;
                        bottom:0;
                        left:0
                    }
                    @keyframes gradient-slide {
                        0% {
                        background-position:100% 100%
                    }
                    to {
                        background-position:0 0
                    }
                    }@keyframes slideUp {
                        0% {
                        transform:translateY(15%);
                        opacity:0
                    }
                    to {
                        transform:translateY(0);
                        opacity:1
                    }
                    }@keyframes fadeIn {
                        0% {
                        background-color:transparent
                    }
                    to {
                        background-color:rgba(0,0,0,.6)
                    }
                    }canvas.yt-live-chat-item-list-renderer,caption.yt-live-chat-item-list-renderer,center.yt-live-chat-item-list-renderer,cite.yt-live-chat-item-list-renderer,code.yt-live-chat-item-list-renderer,dd.yt-live-chat-item-list-renderer,del.yt-live-chat-item-list-renderer,dfn.yt-live-chat-item-list-renderer,div.yt-live-chat-item-list-renderer,dl.yt-live-chat-item-list-renderer,dt.yt-live-chat-item-list-renderer,em.yt-live-chat-item-list-renderer,embed.yt-live-chat-item-list-renderer,fieldset.yt-live-chat-item-list-renderer,font.yt-live-chat-item-list-renderer,form.yt-live-chat-item-list-renderer,h1.yt-live-chat-item-list-renderer,h2.yt-live-chat-item-list-renderer,h3.yt-live-chat-item-list-renderer,h4.yt-live-chat-item-list-renderer,h5.yt-live-chat-item-list-renderer,h6.yt-live-chat-item-list-renderer,hr.yt-live-chat-item-list-renderer,i.yt-live-chat-item-list-renderer,iframe.yt-live-chat-item-list-renderer,img.yt-live-chat-item-list-renderer,ins.yt-live-chat-item-list-renderer,kbd.yt-live-chat-item-list-renderer,label.yt-live-chat-item-list-renderer,legend.yt-live-chat-item-list-renderer,li.yt-live-chat-item-list-renderer,menu.yt-live-chat-item-list-renderer,object.yt-live-chat-item-list-renderer,ol.yt-live-chat-item-list-renderer,p.yt-live-chat-item-list-renderer,pre.yt-live-chat-item-list-renderer,q.yt-live-chat-item-list-renderer,s.yt-live-chat-item-list-renderer,samp.yt-live-chat-item-list-renderer,small.yt-live-chat-item-list-renderer,span.yt-live-chat-item-list-renderer,strike.yt-live-chat-item-list-renderer,strong.yt-live-chat-item-list-renderer,sub.yt-live-chat-item-list-renderer,sup.yt-live-chat-item-list-renderer,table.yt-live-chat-item-list-renderer,tbody.yt-live-chat-item-list-renderer,td.yt-live-chat-item-list-renderer,tfoot.yt-live-chat-item-list-renderer,th.yt-live-chat-item-list-renderer,thead.yt-live-chat-item-list-renderer,tr.yt-live-chat-item-list-renderer,tt.yt-live-chat-item-list-renderer,u.yt-live-chat-item-list-renderer,ul.yt-live-chat-item-list-renderer,var.yt-live-chat-item-list-renderer {
                        margin:0;
                        padding:0;
                        border:0;
                        background:transparent
                    }
                    .yt-live-chat-item-list-renderer[hidden] {
                        display:none!important
                    }
                    yt-live-chat-item-list-renderer {
                        position:relative;
                        display:block;
                        overflow:hidden;
                        z-index:0
                    }
                    yt-live-chat-item-list-renderer[moderation-mode-enabled] {
                        --yt-live-chat-item-with-inline-actions-context-menu-display:none;
                        --yt-live-chat-inline-action-button-container-display:flex
                    }
                    #contents.yt-live-chat-item-list-renderer,#empty-state-message.yt-live-chat-item-list-renderer {
                        position:absolute;
                        top:0;
                        right:0;
                        bottom:0;
                        left:0;
                        display:flex;
                        flex-direction:column
                    }
                    #empty-state-message.yt-live-chat-item-list-renderer {
                        justify-content:center
                    }
                    #empty-state-message.yt-live-chat-item-list-renderer>yt-live-chat-message-renderer.yt-live-chat-item-list-renderer {
                        color:var(--yt-live-chat-tertiary-text-color);
                        background:transparent;
                        font-size:18px;
                        --yt-live-chat-message-renderer-text-align:center
                    }
                    yt-icon-button.yt-live-chat-item-list-renderer {
                        background-color:#2196f3;
                        border-radius:999px;
                        bottom:0;
                        color:#fff;
                        cursor:pointer;
                        width:32px;
                        height:32px;
                        margin:0 calc(50% - 16px) 8px calc(50% - 16px);
                        padding:4px;
                        position:absolute;
                        transition-property:bottom;
                        transition-timing-function:cubic-bezier(0,0,.2,1);
                        transition-duration:.15s;
                        box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2)
                    }
                    yt-icon-button.yt-live-chat-item-list-renderer[disabled] {
                        bottom:-42px;
                        color:#fff;
                        transition-timing-function:cubic-bezier(.4,0,1,1)
                    }
                    #item-scroller.yt-live-chat-item-list-renderer {
                        flex:1;
                        flex-basis:0.000000001px;
                        overflow-x:hidden;
                        overflow-y:hidden;
                        padding-right:var(--scrollbar-width)
                    }
                    yt-live-chat-item-list-renderer[allow-scroll] #item-scroller.yt-live-chat-item-list-renderer {
                        overflow-y:scroll;
                        padding-right:0
                    }
                    #item-offset.yt-live-chat-item-list-renderer {
                        position:relative
                    }
                    #item-scroller.animated.yt-live-chat-item-list-renderer #item-offset.yt-live-chat-item-list-renderer {
                        overflow:hidden
                    }
                    #items.yt-live-chat-item-list-renderer {
                        flex:1;
                        flex-basis:0.000000001px;
                        padding:var(--yt-live-chat-item-list-renderer-padding,4px 0)
                    }
                    #items.yt-live-chat-item-list-renderer>.yt-live-chat-item-list-renderer:not(:first-child) {
                        border-top:var(--yt-live-chat-item-list-item-border,none)
                    }
                    #item-scroller.animated.yt-live-chat-item-list-renderer #items.yt-live-chat-item-list-renderer {
                        bottom:0;
                        left:0;
                        position:absolute;
                        right:0;
                        transform:translateY(0)
                    }
                    #docked-messages.yt-live-chat-item-list-renderer {
                        z-index:1;
                        position:absolute;
                        left:0;
                        right:0;
                        top:0
                    }
                    yt-live-chat-paid-sticker-renderer.yt-live-chat-item-list-renderer {
                        padding:4px 24px
                    }
                    yt-live-chat-paid-sticker-renderer.yt-live-chat-item-list-renderer[dashboard-money-feed] {
                        padding:8px 16px
                    }
                </style>
        <!--        <link href="./BliveChatJoiLike.css" rel="stylesheet">-->
        <!--        <link href="./BliveChatlegacy.css" rel="stylesheet">-->
        <!--        <link href="./BliveChatWeixin.css" rel="stylesheet">-->
        <!--        <link href="./openlivechat.css" rel="stylesheet">-->
                <style></style>
            </head>
            <body inject_video_svd="true">
                <div id="app">
                    <yt-live-chat-renderer class="style-scope yt-live-chat-app" hide-timestamps="" style="--scrollbar-width: 11px;">
                        <!---->
                        <yt-live-chat-ticker-renderer class="style-scope yt-live-chat-renderer">
                            <div class="style-scope yt-live-chat-ticker-renderer" dir="ltr" id="container">
                                <div class="style-scope yt-live-chat-ticker-renderer" id="items">
                                    <!-- 付费消息将在这里动态添加 -->
                                </div>
                            </div><!---->
                        </yt-live-chat-ticker-renderer>
                        <yt-live-chat-item-list-renderer allow-scroll="" class="style-scope yt-live-chat-renderer">
                            <div class="style-scope yt-live-chat-item-list-renderer animated" id="item-scroller">
                                <div class="style-scope yt-live-chat-item-list-renderer" id="item-offset" style="height: 4733px;">
                                    <div class="style-scope yt-live-chat-item-list-renderer" id="items" style="overflow: hidden; transform: translateY(0px);">
                                        <!-- 弹幕消息将在这里动态添加 -->
                                    </div>
                                </div>
                            </div>
                        </yt-live-chat-item-list-renderer>
                    </yt-live-chat-renderer>
                </div>
        <!--        <script src="./obsbilidanmu.js">-->
                <script>
                    const tickerContainer = document.querySelector('.style-scope.yt-live-chat-ticker-renderer#items');
                    const itemContainer = document.querySelector('.style-scope.yt-live-chat-item-list-renderer#items');
                    const scrollableContainer = document.querySelector('.style-scope.yt-live-chat-item-list-renderer.animated#item-scroller');
                    class PaidMessageTicker {
                        constructor(options = {}) {
                            this.config = {
                                tickerMessage: 'CN¥39.00',
                                facePicture: './blivechat_files/noface.gif',
                                messagePrimaryColor: 'rgb(29, 233, 182)',
                                messageSecondaryColor: 'rgb(0, 191, 165)',
                                initialPercentage: 100,
                                countdownDuration: 10000,
                                countdownInterval: 50,
                                onRemove: null,
                                onUpdate: null,

                                ...options
                            };

                            this.currentPercentage = this.config.initialPercentage;
                            this.countdownInterval = null;
                            this.startTime = null;
                            this.element = null;

                            this.init();
                        }

                        init() {
                            this.createElement();
                            this.startCountdown();
                        }

                        createElement() {
                            this.element = document.createElement('yt-live-chat-ticker-paid-message-item-renderer');
                            this.element.className = 'style-scope yt-live-chat-ticker-renderer';
                            this.element.style.overflow = 'hidden';
                            this.element.style.width = "fit-content";
                            this.element.tabIndex = 0;

                            this.updateElement();
                        }

                        updateElement() {
                            const gradientStyle = `linear-gradient(90deg, ${this.config.messagePrimaryColor}, ${this.config.messagePrimaryColor} ${this.currentPercentage}%, ${this.config.messageSecondaryColor} ${this.currentPercentage}%, ${this.config.messageSecondaryColor})`;

                            this.element.innerHTML = `
                                <div class="style-scope yt-live-chat-ticker-paid-message-item-renderer" dir="ltr" id="container"
                                     style="background: ${gradientStyle};">
                                    <div class="style-scope yt-live-chat-ticker-paid-message-item-renderer" id="content" style="color: ${this.getTextColor()}; border: 3px solid ${this.config.messageSecondaryColor}; background: ${this.config.messagePrimaryColor} !important; border-radius: 50px !important; width: fit-content; padding: 0 0 0 5px;">
                                        <yt-img-shadow class="no-transition style-scope yt-live-chat-ticker-paid-message-item-renderer" height="24" id="author-photo" loaded="" style="background-color: transparent;" width="24">
                                            <img alt="" class="style-scope yt-img-shadow" height="24" id="img" src="${this.config.facePicture}" width="24">
                                        </yt-img-shadow>
                                        <span class="style-scope yt-live-chat-ticker-paid-message-item-renderer" dir="ltr"
                                              id="text">${this.config.tickerMessage}</span>
                                    </div>
                                </div>
                            `;
                        }

                        getTextColor() {
                            const primaryColor = this.config.messagePrimaryColor;
                            const rgbMatch = primaryColor.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);

                            if (rgbMatch) {
                                const r = parseInt(rgbMatch[1]);
                                const g = parseInt(rgbMatch[2]);
                                const b = parseInt(rgbMatch[3]);
                                const brightness = (r * 0.299 + g * 0.587 + b * 0.114) / 255;
                                return brightness > 0.5 ? 'rgb(0, 0, 0)' : 'rgb(255, 255, 255)';
                            }

                            return 'rgb(255, 255, 255)'; // 默认白色
                        }

                        startCountdown() {
                            this.startTime = Date.now();

                            this.countdownInterval = setInterval(() => {
                                const elapsed = Date.now() - this.startTime;
                                const progress = elapsed / this.config.countdownDuration;

                                this.currentPercentage = Math.max(1, this.config.initialPercentage - (progress * (this.config.initialPercentage - 1)));

                                this.updateElement();

                                if (this.config.onUpdate) {
                                    this.config.onUpdate(this.currentPercentage, this);
                                }

                                if (this.currentPercentage <= 1) {
                                    this.remove();
                                }
                            }, this.config.countdownInterval);
                        }

                        remove() {
                            if (this.countdownInterval) {
                                clearInterval(this.countdownInterval);
                                this.countdownInterval = null;
                            }

                            if (this.element && this.element.parentNode) {
                                this.element.parentNode.removeChild(this.element);
                            }

                            if (this.config.onRemove) {
                                this.config.onRemove(this);
                            }
                        }
                        setPercentage(percentage) {
                            this.currentPercentage = Math.max(1, Math.min(100, percentage));
                            this.updateElement();
                        }

                        getElement() {
                            return this.element;
                        }

                        destroy() {
                            this.remove();
                        }
                    }

                    class PaidMessageTickerManager {
                        constructor() {
                            this.tickers = new Set();
                        }


                        createTicker(options) {
                            const ticker = new PaidMessageTicker({
                                ...options,
                                onRemove: (removedTicker) => {
                                    this.tickers.delete(removedTicker);
                                    if (options.onRemove) {
                                        options.onRemove(removedTicker);
                                    }
                                }
                            });

                            this.tickers.add(ticker);

                            return ticker;
                        }

                        removeAll() {
                            this.tickers.forEach(ticker => ticker.destroy());
                            this.tickers.clear();
                        }

                        getCount() {
                            return this.tickers.size;
                        }
                    }

                    const manager = new PaidMessageTickerManager();

                    class YouTubeChatMessageBuilder {
                        constructor() {
                            this.TextMessages = new Set();
                            this.PaidMessages = new Set();
                            this.MembershipMessages = new Set();
                        }

                        createTextMessage(data) {
                            this.TextMessageData = {
                                uName: '', // 昵称
                                uId: '', // id
                                facePicture: 'https://static.hdslb.com/images/member/noface.gif',
                                facePictureX: '',  // 头像宽度px
                                facePictureY: '',  // 头像高度px
                                identityTitle: '', // 身份头衔：管理员 moderator，船员 member，主播 owner，普通为空
                                privilegeLevel: '0', // 特权级别 1,2,3,0
                                fleetTitle: '',  // 舰队称号
                                fanMedalName: '', // 粉丝勋章名称
                                fanMedalLevel: '0', //粉丝勋章等级
                                fanMedalColorStart: '', // 粉丝勋章开始颜色
                                fanMedalColorEnd: '', // 粉丝勋章结束颜色
                                fanMedalColorBorder: '', // 粉丝勋章边框颜色
                                fanMedalColorText: '', // 粉丝勋章文本色
                                fanMedalColorLevel: '', // 粉丝勋章等级颜色
                                fanMedalTextSize: '', // 粉丝勋章字体大小
                                fleetBadge: '',  // 舰队徽章
                                messageData: '',  // 消息数据
                                messageTextSize: '', //
                                sendTime: '00:00',  // 发送时间
                                timeTextSize: '',
                                isAdmin: false,  // 是否管理员
                                isFanGroup: false, // 是否有粉丝勋章或者是否有本直播间的粉丝勋章
                                lineBreakDisplay: false,
                                isTimestampDisplay: false,

                                ...data
                            };

                            const MainMessageWebPageElement = this.createTextMessageTemplate().cloneNode(true);
                            MainMessageWebPageElement.setAttribute('author-type', this.TextMessageData.identityTitle);
                            if (this.TextMessageData.isAdmin) MainMessageWebPageElement.setAttribute('is-admin', this.TextMessageData.isAdmin);
                            if (this.TextMessageData.isFanGroup) MainMessageWebPageElement.setAttribute('is-fan-group', this.TextMessageData.isFanGroup);
                            MainMessageWebPageElement.setAttribute('medal-level', this.TextMessageData.fanMedalLevel);
                            MainMessageWebPageElement.setAttribute('privilegetype', this.TextMessageData.privilegeLevel);
                            MainMessageWebPageElement.style.position = 'relative';
                            MainMessageWebPageElement.style.setProperty('font-size', `${this.TextMessageData.messageTextSize}px`);  // 字体大小
                            MainMessageWebPageElement.style.padding = '4px 24px';  // 上下间距 左右间距
                            MainMessageWebPageElement.style.display = 'flex';
                            MainMessageWebPageElement.style.setProperty('flex-direction', 'row');
                            MainMessageWebPageElement.style.setProperty('align-items', 'flex-start');

                            const cardElement = MainMessageWebPageElement.querySelector('#card');
                            cardElement.style.display = 'flex';
                            cardElement.style.setProperty('flex-direction', 'row !important');
                            cardElement.style.setProperty('align-items', 'flex-start');
                            cardElement.style.setProperty('width', '100%');

                            // 头像父元素
                            const authorPhotoElement = MainMessageWebPageElement.querySelector('#author-photo');
                            authorPhotoElement.height = `${this.TextMessageData.facePictureY}`;
                            authorPhotoElement.width = `${this.TextMessageData.facePictureX}`;
                            authorPhotoElement.style.setProperty('background-color', 'transparent');
                            authorPhotoElement.style.setProperty('overflow', 'visible');

                            // 头像
                            const imgElement = MainMessageWebPageElement.querySelector('#img');
                            imgElement.height = `${this.TextMessageData.facePictureY}`;
                            imgElement.width = `${this.TextMessageData.facePictureX}`;
                            imgElement.src = `${this.TextMessageData.facePicture}`;
                            imgElement.alt = `${this.TextMessageData.uId}`;
                            imgElement.style.setProperty('background-color', 'transparent');

                            if (this.TextMessageData.lineBreakDisplay) {
                                const contentElement = MainMessageWebPageElement.querySelector('#content');
                                contentElement.style.display = 'flex';
                                contentElement.style.setProperty('flex-direction', 'column');
                                contentElement.style.setProperty('align-items', 'flex-start');
                            }

                            // 时间戳
                            const timestamp = MainMessageWebPageElement.querySelector('#timestamp');
                            timestamp.textContent = data.sendTime || '00:00';
                            timestamp.style.setProperty('font-size', `${this.TextMessageData.timeTextSize}px`);  // 字体大小
                            if (this.TextMessageData.isTimestampDisplay) {
                                timestamp.style.display = "inline";
                            } else {
                                timestamp.style.display = "none";
                            }

                            const authorNameElement = MainMessageWebPageElement.querySelector('#author-name');
                            authorNameElement.setAttribute('type', this.TextMessageData.identityTitle);

                            // 用户名称
                            const authorNameText = MainMessageWebPageElement.querySelector('#author-name-text');
                            authorNameText.textContent = data.uName || '用户';

                            const imgMsg = MainMessageWebPageElement.querySelector('#image-and-message');
                            imgMsg.style.width = 'auto';
                            imgMsg.style.height = 'auto';


                            const repeatedElement = MainMessageWebPageElement.querySelector('.el-badge.style-scope.yt-live-chat-text-message-renderer');
                            repeatedElement.style.setProperty('--repeated-mark-color', 'hsl(210, 100%, 62.5%)');
                            repeatedElement.style.display = 'none';

                            // 消息内容
                            const messageContent = MainMessageWebPageElement.querySelector('#message');
                            this.buildMessageContent(messageContent, data.messageData);

                            // 徽章
                            this.updateBadges(MainMessageWebPageElement, this.TextMessageData);

                            return MainMessageWebPageElement;
                        }

                        // 创建付费消息
                        createPaidMessage(data) {
                            // 先初始化默认图片配置
                            this.paidMessageData = {
                                uName: '', // 昵称
                                uId: '',
                                facePicture: 'https://static.hdslb.com/images/member/noface.gif', // 头像位置
                                facePictureX: '40',  // 头像宽度px
                                facePictureY: '40',  // 头像高度px
                                sendTime: '00:00', // 时间
                                price: '0', // 显示金额（元）
                                priceLevel: '0',  // 金额等级
                                messagePrimaryColor: 'rgba(29,233,182,1)', // 文字区域颜色
                                messageSecondaryColor: 'rgba(0,191,165,1)', // 头像昵称金额区域颜色
                                messageData: '', // 文字内容
                                showOnlyHeader: false, // 是否不显示文字区域

                                ...data
                            };

                            const PaidMessageWebPageElement = this.createPaidMessageTemplate().cloneNode(true);
                            PaidMessageWebPageElement.setAttribute('price', data.price);
                            PaidMessageWebPageElement.setAttribute('price-level', data.priceLevel);
                            PaidMessageWebPageElement.style.setProperty('--yt-live-chat-paid-message-primary-color', this.paidMessageData.messagePrimaryColor);
                            PaidMessageWebPageElement.style.setProperty('--yt-live-chat-paid-message-secondary-color', this.paidMessageData.messageSecondaryColor);
                            if (this.paidMessageData.showOnlyHeader) PaidMessageWebPageElement.setAttribute('show-only-header', true);

                            const authorPhotoElement = PaidMessageWebPageElement.querySelector('#author-photo');
                            authorPhotoElement.height = this.paidMessageData.facePictureY;
                            authorPhotoElement.width = this.paidMessageData.facePictureX;
                            authorPhotoElement.loaded = "";
                            authorPhotoElement.style.setProperty('background-color', 'transparent');

                            const img = PaidMessageWebPageElement.querySelector('#img');
                            img.height = "40";
                            img.width = "40";
                            img.alt = this.paidMessageData.uId
                            img.src = this.paidMessageData.facePicture

                            const authorName = PaidMessageWebPageElement.querySelector('#author-name');
                            if (authorName) authorName.textContent = this.paidMessageData.uName;

                            const purchaseAmount = PaidMessageWebPageElement.querySelector('#purchase-amount');
                            if (purchaseAmount) purchaseAmount.textContent = `CN¥${this.paidMessageData.price}`;

                            const timestamp = PaidMessageWebPageElement.querySelector('#timestamp');
                            if (timestamp) timestamp.textContent = this.paidMessageData.sendTime || '00:00';

                            const messageContent = PaidMessageWebPageElement.querySelector('#message');
                            if (messageContent) messageContent.textContent = this.paidMessageData.messageData;

                            const contentContent = PaidMessageWebPageElement.querySelector('#content');
                            if (this.paidMessageData.showOnlyHeader) {
                                if (contentContent) contentContent.style.visibility = 'hidden';
                                if (contentContent) contentContent.style.display = 'none';
                                if (contentContent) contentContent.style.padding = '0';
                            };
                            return PaidMessageWebPageElement;
                        }

                        // 创建会员加入消息
                        createMembershipMessage(data) {
                            // 先初始化默认图片配置
                            this.membershipMessageData = {
                                uName: '', // 昵称
                                uId: '', // id
                                facePicture: 'https://static.hdslb.com/images/member/noface.gif',  // 头像
                                facePictureX: '40',  // 头像宽度px
                                facePictureY: '40',  // 头像高度px
                                sendTime: '00:00', // 时间
                                messageData: '', // 文字内容
                                fleetBadge: '',  // 舰队徽章
                                membershipHeaderColor: "#820f9d",  // 背景颜色
                                identityTitle: '', // 身份头衔：管理员 moderator，船员 member，主播 owner，普通为空
                                privilegeLevel: '0', // 特权级别 1,2,3,0
                                fleetTitle: '',  // 舰队称号

                                ...data
                            };

                            const membershipMessageWebPageElement = this.createMembershipMessageTemplate().cloneNode(true);
                            membershipMessageWebPageElement.setAttribute('privilegetype', this.membershipMessageData.privilegeLevel || '0');
                            membershipMessageWebPageElement.setAttribute('show-only-header', "");
                            membershipMessageWebPageElement.style.setProperty('--yt-live-chat-sponsor-color', this.membershipMessageData.membershipHeaderColor);

                            const card = membershipMessageWebPageElement.querySelector('#card');
                            card.style.setProperty('background-color', this.membershipMessageData.membershipCardColor);

                            const authorPhoto = membershipMessageWebPageElement.querySelector('#author-photo');
                            authorPhoto.height = this.membershipMessageData.facePictureY;
                            authorPhoto.width = this.membershipMessageData.facePictureX;
                            authorPhoto.style.setProperty('background-color', 'transparent');
                            authorPhoto.loaded = '';

                            const img = membershipMessageWebPageElement.querySelector('#img');
                            img.height = this.membershipMessageData.facePictureY;
                            img.width = this.membershipMessageData.facePictureX;
                            img.alt = this.membershipMessageData.uId;
                            img.src = this.membershipMessageData.facePicture;

                            const authorName = membershipMessageWebPageElement.querySelector('#author-name');
                            if (authorName) authorName.textContent = this.membershipMessageData.uName;

                            const headerSubtext = membershipMessageWebPageElement.querySelector('#header-subtext');
                            if (headerSubtext) headerSubtext.textContent = this.membershipMessageData.messageData || '新会员';

                            const timestamp = membershipMessageWebPageElement.querySelector('#timestamp');
                            if (timestamp) timestamp.textContent = this.membershipMessageData.sendTime || '00:00';

                            this.updateBadges(membershipMessageWebPageElement, this.membershipMessageData);

                            return membershipMessageWebPageElement;
                        }
                        //-----------------//
                        // 构建消息内容（支持文本和表情）
                        buildMessageContent(container, content) {
                            container.innerHTML = '';

                            if (typeof content === 'string') {
                                container.innerHTML = content;
                            } else if (Array.isArray(content)) {
                                content.forEach(item => {
                                    if (item.type === 'text') {
                                        const span = document.createElement('span');
                                        span.textContent = item.text;
                                        if (item.color !== '') span.style.setProperty('color', item.color, 'important');
                                        if (item.shadow !== '') span.style.setProperty('text-shadow', `${item.shadow}`);
                                        container.appendChild(span);
                                    } else if (item.type === 'emoji') {
                                        const img = document.createElement('img');
                                        img.className = 'emoji yt-formatted-string style-scope yt-live-chat-text-message-renderer';
                                        img.alt = item.alt;
                                        img.src = item.src;
                                        img.width = item.width || 59;
                                        img.height = item.height || 59;
                                        container.appendChild(img);
                                    } else if (item.type === 'image') {
                                        const div = document.createElement('div');
                                        div.className = 'el-image content-img';
                                        div.style.width = item.width || '120px';
                                        console.log('大表情宽度:', parseInt(div.style.width));
                                        div.style.height = "auto"; // `${parseInt(item.height) * parseInt(div.style.width) / parseInt(item.width)}px`;
                                        console.log('大表情高度:', div.style.height);
                                        const img = document.createElement('img');
                                        img.className = 'el-image__inner';
                                        img.src = item.src;
                                        img.alt = item.alt;
                                        div.appendChild(img);
                                        container.appendChild(div);
                                    }
                                });
                            }
                        }
                        //-----------------//
                        // 更新用户徽章
                        updateBadges(element, data) {
                            const medalContainer = element.querySelector('#chat-medal');
                            if (!medalContainer) {
                            } else {
                                medalContainer.style.setProperty('font-size', `${data.fanMedalTextSize}px`);  // 字体大小
                                medalContainer.innerHTML = '';
                            }

                            // 粉丝徽章
                            if (data.isFanGroup) {
                                const badge = this.createMedal();
                                badge.setAttribute('is-fan-group', `${data.isFanGroup}`);
                                badge.setAttribute('medal-name', `${data.fanMedalName}`);
                                badge.setAttribute('medal-nevel', `${data.fanMedalLevel}`);
                                badge.style.setProperty('--yt-live-chat-medal-background-color', `linear-gradient(to right, ${data.fanMedalColorStart}, ${data.fanMedalColorEnd})`);
                                badge.style.setProperty('--yt-live-chat-medal-border-color', data.fanMedalColorBorder);
                                badge.style.setProperty('--yt-live-chat-medal-text-color', data.fanMedalColorLevel); // 粉丝勋章等级颜色
                                badge.style.margin = '0 0 0 4px'; // 上间隔 右间隔 下间隔 左间隔
                                badge.style.setProperty('text-shadow', '0px 0px 0px #000000'); // 水平阴影的位置 垂直阴影的位置 模糊的距离 阴影的颜色.
                                badge.style.display = 'inline-block';

                                const medalCard = badge.querySelector('#medal-card');
                                medalCard.style.position = 'relative';
                                medalCard.style.width = 'max-content';
                                medalCard.style.background = 'var(--yt-live-chat-medal-background-color,#222)';
                                medalCard.style.border = 'var(--yt-live-chat-medal-border-color,#222) solid 2px';
                                medalCard.style.border = 'relative';
                                medalCard.style.setProperty('border-radius', '4px');
                                medalCard.style.setProperty('display', 'flex');
                                medalCard.style.setProperty('-ms-flex-direction', 'row');
                                medalCard.style.setProperty('-webkit-flex-direction', 'row');
                                medalCard.style.setProperty('flex-direction', 'row');
                                medalCard.style.setProperty('-ms-flex-align', 'center');
                                medalCard.style.setProperty('-webkit-align-items', 'center');
                                medalCard.style.setProperty('align-items', 'center');
                                medalCard.style.setProperty('overflow', 'hidden');

                                const clsMedalRenderer = badge.querySelector('.yt-live-chat-author-medal-renderer');
                                clsMedalRenderer.style.setProperty('font-size', `${data.timeTextSize}px`);
                                clsMedalRenderer.style.setProperty('line-height', '14px');

                                const medalName = badge.querySelector('#medal-name');
                                medalName.style.setProperty('text-shadow', 'none');
                                medalName.style.padding = '2px 4px';  // 上下间距 左右间距
                                medalName.style.color = data.fanMedalColorText;
                                medalName.textContent = data.fanMedalName;

                                const medalLevel = badge.querySelector('#medal-level');
                                medalLevel.style.padding = '2px 4px';  // 上下间距 左右间距
                                medalLevel.style.setProperty('font-weight', '700');
                                medalLevel.style.setProperty('text-shadow', 'none');
                                medalLevel.style.setProperty('text-align', 'center');
                                medalLevel.style.setProperty('background-color', '#FFFFFF');
                                medalLevel.style.color = 'var(--yt-live-chat-medal-text-color,#222)';
                                medalLevel.style.setProperty('border-top-right-radius', '2px');
                                medalLevel.style.setProperty('border-bottom-right-radius', '2px');
                                medalLevel.textContent = data.fanMedalLevel;

                                medalContainer.appendChild(badge);
                            }

                            const badgesContainer = element.querySelector('#chat-badges');
                            if (!badgesContainer) {
                            } else {
                                badgesContainer.innerHTML = '';
                            }

                            // 舰长徽章
                            if (data.privilegeLevel && data.privilegeLevel !== '0') {
                                const badge = this.createMemberBadge();
                                const img = badge.querySelector('img');
                                img.alt = data.fleetTitle;
                                img.src = data.fleetBadge;
                                badgesContainer.appendChild(badge);
                            }

                            // 房管徽章
                            if (data.isAdmin) {
                                const badge = this.createModeratorBadge();
                                badgesContainer.appendChild(badge);
                            }
                        }

                        // 创建粉丝勋章
                        createMedal() {
                            // 创建粉丝勋章
                            const badge = document.createElement('yt-live-chat-author-medal-renderer');
                            badge.className = 'style-scope yt-live-chat-author-chip';

                            badge.innerHTML = `
                                <div class="style-scope yt-live-chat-author-medal-renderer" id="medal-card">
                                    <div class="style-scope yt-live-chat-author-medal-renderer" id="medal-name">
                                        <!-粉丝勋章名称-->
                                    </div>
                                    <div class="style-scope yt-live-chat-author-medal-renderer" id="medal-level" >
                                        <!-粉丝勋章等级-->
                                    </div>
                                </div>
                            `;
                            return badge;
                        }
                        // 创建舰长徽章
                        createMemberBadge() {
                            // 创建舰长徽章
                            const badge = document.createElement('yt-live-chat-author-badge-renderer');
                            badge.className = 'style-scope yt-live-chat-author-chip';
                            badge.setAttribute('type', 'member');

                            badge.innerHTML = `
                                <div class="el-tooltip style-scope yt-live-chat-author-badge-renderer" id="image" tabindex="0">
                                    <img class="style-scope yt-live-chat-author-badge-renderer">
                                </div>
                            `;

                            return badge;
                        }
                        // 创建房管徽章SVG
                        createModeratorBadge() {
                            // 创建房管徽章SVG
                            const badge = document.createElement('yt-live-chat-author-badge-renderer');
                            badge.className = 'style-scope yt-live-chat-author-chip';
                            badge.setAttribute('type', 'moderator');

                            // SVG代码
                            badge.innerHTML = `
                                <div class="el-tooltip style-scope yt-live-chat-author-badge-renderer" id="image" tabindex="0">
                                    <yt-icon class="style-scope yt-live-chat-author-badge-renderer">
                                        <svg class="style-scope yt-icon" focusable="false" preserveAspectRatio="xMidYMid meet" style="pointer-events: none; display: block; width: 100%; height: 100%;" viewBox="0 0 16 16">
                                            <g class="style-scope yt-icon">
                                                <path class="style-scope yt-icon" d="M9.64589146,7.05569719 C9.83346524,6.562372 9.93617022,6.02722257 9.93617022,5.46808511 C9.93617022,3.00042984 7.93574038,1 5.46808511,1 C4.90894765,1 4.37379823,1.10270499 3.88047304,1.29027875 L6.95744681,4.36725249 L4.36725255,6.95744681 L1.29027875,3.88047305 C1.10270498,4.37379824 1,4.90894766 1,5.46808511 C1,7.93574038 3.00042984,9.93617022 5.46808511,9.93617022 C6.02722256,9.93617022 6.56237198,9.83346524 7.05569716,9.64589147 L12.4098057,15 L15,12.4098057 L9.64589146,7.05569719 Z"></path>
                                            </g>
                                        </svg>
                                    </yt-icon>
                                </div>
                            `;

                            return badge;
                        }

                        //-----------------//
                        // 模板创建方法
                        createTextMessageTemplate() {
                            const template = document.createElement('yt-live-chat-text-message-renderer');

                            // 这里应该包含完整的HTML结构，简化示例
                            template.innerHTML = `
                                <div class="style-scope yt-live-chat-text-message-renderer" id="card">
                                    <div id="author-border" style="display: none;"></div>
                                     <yt-img-shadow class="no-transition style-scope yt-live-chat-text-message-renderer" id="author-photo" loaded="">
                                        <!--用户头像-->
                                        <img alt="" class="style-scope yt-img-shadow" id="img">
                                    </yt-img-shadow>
                                    <div class="style-scope yt-live-chat-text-message-renderer" id="content">
                                        <yt-live-chat-author-chip class="style-scope yt-live-chat-text-message-renderer" style="vertical-align: top;">
                                            <span class="style-scope yt-live-chat-text-message-renderer" id="timestamp">
                                                <!--发送时间-->
                                            </span>
                                            <span class="style-scope yt-live-chat-author-chip" dir="auto" id="author-name">
                                                <span id="author-name-text">
                                                    <!--用户昵称-->
                                                </span>
                                                <span class="style-scope yt-live-chat-author-chip" id="chip-badges"></span>
                                            </span>
                                            <span class="style-scope yt-live-chat-author-chip" id="chat-medal">
                                                <!--粉丝徽章-->
                                            </span>
                                            <span class="style-scope yt-live-chat-author-chip" id="chat-badges">
                                                <!--舰长徽章-->
                                                <!--房管徽章-->
                                            </span>
                                        </yt-live-chat-author-chip>
                                        <span class="style-scope yt-live-chat-text-message-renderer" id="image-and-message">
                                            <span id="message" style="vertical-align: bottom;">
                                                <!--弹幕消息-->
                                            </span>
                                            <div class="el-badge style-scope yt-live-chat-text-message-renderer">
                                                <sup class="el-badge__content"></sup>
                                            </div>
                                        </span>
                                        <div id="content-plus" style="display: none;"></div>
                                    </div>
                                    <div class="joi-style" id="paw" style="display: none;"></div>
                                    <div class="joi-style" id="star" style="display: none;"></div>
                                </div>
                            `;

                            return template;
                        }
                        // 付费消息的HTML结构
                        createPaidMessageTemplate() {
                            const template = document.createElement('yt-live-chat-paid-message-renderer');
                            template.className = 'style-scope yt-live-chat-item-list-renderer style-scope yt-live-chat-item-list-renderer';

                            // 付费消息的HTML结构
                            template.innerHTML = `
                                <div class="style-scope yt-live-chat-paid-message-renderer" id="card">
                                    <div class="style-scope yt-live-chat-paid-message-renderer" id="header">
                                        <yt-img-shadow class="no-transition style-scope yt-live-chat-paid-message-renderer" id="author-photo">
                                            <img class="style-scope yt-img-shadow" id="img">
                                        </yt-img-shadow>
                                        <div class="style-scope yt-live-chat-paid-message-renderer" id="header-content">
                                            <div class="style-scope yt-live-chat-paid-message-renderer" id="header-content-primary-column">
                                                <div class="style-scope yt-live-chat-paid-message-renderer" id="author-name"></div>
                                                <div class="style-scope yt-live-chat-paid-message-renderer" id="purchase-amount"></div>
                                            </div>
                                            <span class="style-scope yt-live-chat-paid-message-renderer" id="timestamp"></span>
                                        </div>
                                    </div>
                                    <div class="style-scope yt-live-chat-paid-message-renderer" id="content">
                                        <div class="style-scope yt-live-chat-paid-message-renderer" dir="auto" id="message"></div>
                                    </div>
                                </div>
                            `;

                            return template;
                        }
                        // 会员消息的HTML结构
                        createMembershipMessageTemplate() {
                            const template = document.createElement('yt-live-chat-membership-item-renderer');
                            template.className = 'style-scope yt-live-chat-item-list-renderer style-scope yt-live-chat-item-list-renderer';

                            // 会员消息的HTML结构
                            template.innerHTML = `
                                <div class="style-scope yt-live-chat-membership-item-renderer" id="card">
                                    <div class="style-scope yt-live-chat-membership-item-renderer" id="header">
                                        <div id="author-border" style="display: none;"></div>
                                        <yt-img-shadow class="no-transition style-scope yt-live-chat-membership-item-renderer" id="author-photo">
                                            <img id="img" class="style-scope yt-img-shadow">
                                        </yt-img-shadow>
                                        <div class="style-scope yt-live-chat-membership-item-renderer" id="header-content">
                                            <div class="style-scope yt-live-chat-membership-item-renderer" id="header-content-primary-column">
                                                <div class="style-scope yt-live-chat-membership-item-renderer" id="header-content-inner-column">
                                                    <yt-live-chat-author-chip class="style-scope yt-live-chat-membership-item-renderer">
                                                        <span class="member style-scope yt-live-chat-author-chip" dir="auto" id="author-name">
                                                            <!--用户昵称-->
                                                            <span id="chip-badges" class="style-scope yt-live-chat-author-chip"></span>
                                                        </span>
                                                        <span class="style-scope yt-live-chat-author-chip" id="chat-badges">
                                                            <!--舰长徽章-->
                                                            <!--房管徽章-->
                                                        </span>
                                                    </yt-live-chat-author-chip>
                                                </div>
                                                <div class="style-scope yt-live-chat-membership-item-renderer" id="header-subtext">
                                                    <!--内容-->
                                                </div>
                                            </div>
                                            <div class="style-scope yt-live-chat-membership-item-renderer" id="timestamp">
                                                <!--时间-->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `;

                            return template;
                        }

                        getCount() {
                            return this.TextMessages.size;
                        }
                    }

                    const chatBuilder = new YouTubeChatMessageBuilder();

                    class DanmuWebSocketClient {
                        constructor() {
                            this.socket = null;
                            this.reconnectAttempts = 0;
                            this.maxReconnectAttempts = 10;
                            this.reconnectInterval = 3000; // 3秒
                            this.reconnectTimer = null;
                            this.maxMessages = 200; // 默认最大保留消息数

                            // 页面加载后自动连接
                            setTimeout(() => {
                                this.connect();
                            }, 1000);
                        }

                        // 添加清理函数
                        cleanupOldMessages(maxCount = null) {
                            if (maxCount !== null) {
                                this.maxMessages = maxCount;
                            }

                            const currentMessageCount = itemContainer.children.length;

                            if (currentMessageCount > this.maxMessages) {
                                const messagesToRemove = currentMessageCount - this.maxMessages;

                                // 移除最旧的消息（前面的消息）
                                for (let i = 0; i < messagesToRemove; i++) {
                                    if (itemContainer.firstChild) {
                                        itemContainer.removeChild(itemContainer.firstChild);
                                    }
                                }

                                console.log(`清理了 ${messagesToRemove} 条旧消息，当前保留 ${this.maxMessages} 条消息`);
                            }
                        }

                        connect() {
                            try {
                                // 如果已有连接，先关闭
                                if (this.socket) {
                                    this.socket.close();
                                }

                                this.socket = new WebSocket('ws://localhost:"""
        html_content += widget.TextBox.danmuWssProt.Text
        html_content +=  """');

                                this.socket.onopen = () => {
                                    this.reconnectAttempts = 0;
                                    this.addDanmuMessage({
                                        type: 'system',
                                        messageData: '成功连接到弹幕服务器',
                                        timestamp: Date.now() / 1000
                                    });
                                };

                                this.socket.onmessage = (event) => {
                                    try {
                                        const data = JSON.parse(event.data);
                                        this.handleMessage(data);
                                    } catch (error) {
                                        console.error('解析消息错误:', error);
                                        this.addDanmuMessage({
                                            type: 'system',
                                            messageData: '解析消息错误',
                                            timestamp: Date.now() / 1000
                                        });
                                    }
                                };

                                this.socket.onclose = (event) => {
                                    console.log('WebSocket连接关闭:', event);
                                    this.addDanmuMessage({
                                        type: 'system',
                                        messageData: `连接已断开 (代码: ${event.code})`,
                                        timestamp: Date.now() / 1000
                                    });
                                    this.handleReconnect();
                                };

                                this.socket.onerror = (error) => {
                                    console.error('WebSocket错误:', error);
                                    this.addDanmuMessage({
                                        type: 'system',
                                        messageData: '连接错误',
                                        timestamp: Date.now() / 1000
                                    });
                                };

                            } catch (error) {
                                console.error('创建连接错误:', error);
                                this.addDanmuMessage({
                                    type: 'system',
                                    messageData: '创建连接错误',
                                    timestamp: Date.now() / 1000
                                });
                                this.handleReconnect();
                            }
                        }

                        handleReconnect() {
                            if (this.reconnectAttempts >= this.maxReconnectAttempts) {
                                this.addDanmuMessage({
                                    type: 'system',
                                    messageData: `连接失败，已尝试 ${this.reconnectAttempts} 次`,
                                    timestamp: Date.now() / 1000
                                });
                                return;
                            }

                            this.reconnectAttempts++;
                            const delay = Math.min(this.reconnectInterval * Math.pow(1.5, this.reconnectAttempts - 1), 60000); // 最大60秒

                            this.addDanmuMessage({
                                type: 'system',
                                messageData: `连接断开，${Math.round(delay/1000)}秒后尝试重连 (${this.reconnectAttempts}/${this.maxReconnectAttempts})`,
                                timestamp: Date.now() / 1000
                            });
                            clearTimeout(this.reconnectTimer);
                            this.reconnectTimer = setTimeout(() => {
                                this.connect();
                            }, delay);
                        }

                        handleMessage(data) {
                            // 根据消息类型处理
                            switch (data.type) {
                                case 'cleanup': // 添加清理消息类型
                                    this.cleanupOldMessages(data.maxCount);
                                    break;

                                case 'user_toast_v2':
                                    this.addMembershipMessage(data);
                                    break;

                                case 'gift':
                                case 'red_pocket_v2_start':
                                case 'red_pocket_v2':
                                case 'super_chat':
                                case 'super_chat_jpn':
                                    this.addGiftMessage(data);
                                    break;

                                case 'red_pocket_winners':
                                case 'live_start':
                                case 'interact':
                                case 'danmu':
                                case 'system':
                                    this.addDanmuMessage(data);
                                    // 每次添加新消息后检查是否超过限制
                                    if (itemContainer.children.length > this.maxMessages * 1.2) {
                                        this.cleanupOldMessages();
                                    }
                                    break;

                                default:
                                    console.log('未知消息类型:', data.type);
                            }
                        }

                        // 弹幕消息
                        addDanmuMessage(data) {
                            const time = new Date(data.timestamp * 1000).toLocaleTimeString();
                            let textMessage;

                            switch(data.type) {
                                case 'live_start':
                                case 'system':
                                    const sysMessageInfo = {
                                        facePictureX: '40',  // 头像宽度px
                                        facePictureY: '40',  // 头像高度px
                                        authorType: 'moderator',
                                        privilegeType: '0',
                                        authorName: '系统消息',
                                        sendTime: time,
                                        messageData: data.messageData,
                                        isAdmin: true,
                                        lineBreakDisplay: true,
                                    }
                                    // 创建系统消息
                                    textMessage = chatBuilder.createTextMessage(sysMessageInfo);
                                    console.log('系统消息:', sysMessageInfo);
                                    break;
                                case 'red_pocket_winners':
                                case 'interact':
                                case 'danmu':
                                    const danmuMessageInfo = {
                                        uName: data.uName,
                                        facePicture: data.facePicture,
                                        facePictureX: data.facePictureX,
                                        facePictureY: data.facePictureY,
                                        uId: data.uId,
                                        identityTitle: data.identityTitle,
                                        privilegeLevel: data.privilegeLevel,
                                        fleetTitle: data.fleetTitle,
                                        fanMedalName: data.fanMedalName,
                                        fanMedalLevel: data.fanMedalLevel,
                                        fanMedalColorStart: data.fanMedalColorStart,
                                        fanMedalColorEnd: data.fanMedalColorEnd,
                                        fanMedalColorBorder: data.fanMedalColorBorder,
                                        fanMedalColorText: data.fanMedalColorText,
                                        fanMedalColorLevel: data.fanMedalColorLevel,
                                        fanMedalTextSize: data.fanMedalTextSize,
                                        fleetBadge: data.fleetBadge,
                                        messageData: data.messageData,
                                        messageTextSize: data.messageTextSize,
                                        sendTime: time,
                                        timeTextSize: data.timeTextSize,
                                        isAdmin: data.isAdmin,
                                        isFanGroup: data.isFanGroup,
                                        lineBreakDisplay: data.lineBreakDisplay,
                                        isTimestampDisplay: data.isTimestampDisplay,
                                    }
                                    // 创建普通消息
                                    textMessage = chatBuilder.createTextMessage(danmuMessageInfo);
                                    console.log('消息:', danmuMessageInfo);
                                    break;
                            }
                            itemContainer.appendChild(textMessage);
                            this.scrollToBottom();
                        }

                        // 礼物消息
                        addGiftMessage(data) {
                            const time = new Date(data.timestamp * 1000).toLocaleTimeString();

                            switch(data.type) {
                                case 'super_chat':
                                case 'super_chat_jpn':
                                case 'red_pocket_v2_start':
                                case 'red_pocket_v2':
                                case 'gift':
                                    if (!data.countdownDuration) {data.countdownDuration = 12000};
                                    const giftMessageInfo = {
                                        uName: data.uName, // 昵称
                                        uId: data.uId,
                                        facePicture: data.facePicture, // 头像位置
                                        facePictureX: data.facePictureX,  // 头像宽度px
                                        facePictureY: data.facePictureY,  // 头像高度px
                                        sendTime: time, // 时间
                                        price: data.price, // 显示金额（元）
                                        priceLevel: data.priceLevel,  // 金额等级
                                        messagePrimaryColor: data.messagePrimaryColor, // 文字区域颜色
                                        messageSecondaryColor: data.messageSecondaryColor, // 头像昵称金额区域颜色
                                        messageData: data.messageData, // 文字内容
                                        tickerMessage: `CN¥${data.price}`,
                                        showOnlyHeader: data.showOnlyHeader, // 是否不显示文字区域
                                        countdownDuration: data.countdownDuration, // 毫秒
                                    }
                                    console.log('礼物消息:', giftMessageInfo);
                                    // 创建付费消息
                                    itemContainer.appendChild(chatBuilder.createPaidMessage(giftMessageInfo));
                                    tickerContainer.appendChild(manager.createTicker(giftMessageInfo).getElement());
                                    break;
                            }
                            this.scrollToBottom();
                        }

                        // 舰长消息
                        addMembershipMessage(data) {
                            const time = new Date(data.timestamp * 1000).toLocaleTimeString();
                            let membershipMessage

                            switch(data.type) {
                                case 'user_toast_v2':
                                    const membershipMessageInfo = {
                                        uName: data.uName,
                                        uId: data.uId,
                                        facePicture: data.facePicture,
                                        facePictureX: data.facePictureX,
                                        facePictureY: data.facePictureY,
                                        sendTime: time,
                                        messageData: data.messageData,
                                        fleetBadge: data.fleetBadge,
                                        membershipHeaderColor: data.membershipHeaderColor,
                                        identityTitle: data.identityTitle,
                                        privilegeLevel: data.privilegeLevel,
                                        fleetTitle: data.fleetTitle,
                                    }
                                    // 创建付费消息
                                    membershipMessage = chatBuilder.createMembershipMessage(membershipMessageInfo);
                                    console.log('舰长消息:', membershipMessageInfo);
                                    break;
                            }
                            itemContainer.appendChild(membershipMessage);
                            this.scrollToBottom();
                        }

                        scrollToBottom() {
                            scrollableContainer.scrollTop = scrollableContainer.scrollHeight;
                        }
                    }

                    // 初始化客户端
                    document.addEventListener('DOMContentLoaded', () => {
                        new DanmuWebSocketClient();
                    });
                </script>
            </body>
        </html>
        """
        with open(GlobalVariableOfData.scriptsDataDirpath / "danmu.html", "w", encoding='UTF-8') as f:
            f.write(html_content)
        url = f"file:///{GlobalVariableOfData.scriptsDataDirpath / 'danmu.html'}"
        width = 600
        height = 1080
        source_name = "bilibili弹幕"
        # 创建浏览器源
        GlobalVariableOfData.browserSource = obs.obs_source_create(
            "browser_source", source_name, None, None
        )
        # 基本设置
        obs.obs_data_set_string(GlobalVariableOfData.script_settings, "url", url)
        obs.obs_data_set_string(GlobalVariableOfData.script_settings, "css", widget.TextBox.danmuWebCss.Text)
        obs.obs_data_set_int(GlobalVariableOfData.script_settings, "width", width)
        obs.obs_data_set_int(GlobalVariableOfData.script_settings, "height", height)
        obs.obs_data_set_bool(GlobalVariableOfData.script_settings, "shutdown", True)  # 隐藏时关闭源
        obs.obs_data_set_bool(GlobalVariableOfData.script_settings, "restart_when_active", False)  # 激活时不重启
        # 应用设置
        obs.obs_source_update(GlobalVariableOfData.browserSource, GlobalVariableOfData.script_settings)
        log_save(obs.LOG_INFO, f"浏览器源配置完成 - URL: {url}, 尺寸: {width}x{height}")
        if not GlobalVariableOfData.browserSource:
            log_save(obs.LOG_INFO, "错误: 未创建浏览器源")
            return False
        # 获取当前场景
        current_scene = obs.obs_frontend_get_current_scene()
        if not current_scene:
            log_save(obs.LOG_INFO, "无法获取当前场景")
            return False
        scene = obs.obs_scene_from_source(current_scene)
        if scene:
            # 添加到场景
            obs.obs_scene_add(scene, GlobalVariableOfData.browserSource)
            log_save(obs.LOG_INFO, f"已将浏览器源 '{source_name}' 添加到当前场景")

            # 释放引用（场景现在持有源的引用）
            obs.obs_source_release(GlobalVariableOfData.browserSource)
            GlobalVariableOfData.browserSource = None
        else:
            log_save(obs.LOG_INFO, "无法获取场景对象")
        # 释放场景源
        obs.obs_source_release(current_scene)
        return True

    @staticmethod
    def button_function_start_danmu(*args):
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        # -----------------------------------------------------------------------------------------------------------
        # 弹幕数据设置-------------------------------------------------------------------------------------------------
        ButtonFunction.button_function_setting_danmu_data()
        # -----------------------------------------------------------------------------------------------------------
        # 弹幕样式设置-------------------------------------------------------------------------------------------------
        ButtonFunction.button_function_apply_danmu_css()
        # -----------------------------------------------------------------------------------------------------------
        # 弹幕转发服务端口----------------------------------------------------------------------------------------------
        ButtonFunction.button_function_confirm_danmu_wss_port()
        # -----------------------------------------------------------------------------------------------------------
        # 确认直播间---------------------------------------------------------------------------------------------------
        if not ButtonFunction.button_function_add_danmu_roomid():
            return False
        # -----------------------------------------------------------------------------------------------------------
        # 启动弹幕服务-------------------------------------------------------------------------------------------------
        ButtonFunction.button_function_start_danmu_forwarding_service()
        # -----------------------------------------------------------------------------------------------------------
        # 添加网页源-------------------------------------------------------------------------------------------------
        # ButtonFunction.button_function_add_danmu_browser()
        
        return True
    
    @staticmethod
    def button_function_stop_danmu_forwarding_service(*args):
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        # -----------------------------------------------------------------------------------------------------------
        # 停止弹幕转发-------------------------------------------------------------------------------------------------
        if GlobalVariableOfData.danmu_run_status == 2:
            GlobalVariableOfData.danmu_running = False
            log_save(obs.LOG_INFO, "尝试关闭弹幕服务")
        elif GlobalVariableOfData.danmu_run_status == 1:
            log_save(obs.LOG_INFO, "弹幕服务关闭失败，弹幕服务正在启动中")
        else:
            log_save(obs.LOG_INFO, "弹幕服务关闭失败，弹幕服务未运行")
        # -----------------------------------------------------------------------------------------------------------
        # 更新脚本控制台中的控件-----------------------------------------------------------------------------------------
        GlobalVariableOfData.update_widget_for_props_dict = {
            "danmu_props": {
                widget.DigitalDisplay.danmuNumCommentsClient.Name,
                widget.DigitalDisplay.danmuIntervalNumCommentsClient.Name,
                widget.TextBox.danmuWssProt.Name,
            }
        }
        log_save(obs.LOG_INFO, f"更新控件配置信息")
        script_defaults(GlobalVariableOfData.script_settings)
        # 更新脚本用户小部件
        log_save(obs.LOG_INFO, f"更新控件UI")
        update_ui_interface_data()
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        return True

    @staticmethod
    def button_function_remove_danmu_browser(*args):
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        # -----------------------------------------------------------------------------------------------------------
        # 移除浏览器源-------------------------------------------------------------------------------------------------
        current_scene = obs.obs_frontend_get_current_scene()
        """当前场景"""
        if not current_scene:
            log_save(obs.LOG_WARNING, "无法获取当前场景")
            return False
        scene = obs.obs_scene_from_source(current_scene)
        if scene:
            # 获取场景中的所有场景项
            scene_items = obs.obs_scene_enum_items(scene)
            if scene_items:
                for item in scene_items:
                    source = obs.obs_sceneitem_get_source(item)
                    if source:
                        source_id = obs.obs_source_get_id(source)
                        # 检查是否为浏览器源
                        if source_id == "browser_source":
                            source_name = obs.obs_source_get_name(source)
                            if source_name:
                                log_save(obs.LOG_DEBUG, f"找到浏览器源: {source_name}")
                                if "bilibili弹幕" in source_name:
                                    log_save(obs.LOG_INFO, f"从场景中移除浏览器源: {source_name}")
                                    # 在场景中查找指定名称的源
                                    source = obs.obs_scene_find_source(scene, source_name)
                                    if source:
                                        # 从场景中移除源
                                        obs.obs_sceneitem_remove(source)
                                        log_save(obs.LOG_INFO, f"已从场景中移除浏览器源: {source_name}")
                                        break
                else:
                    log_save(obs.LOG_INFO, "bilibili弹幕源未创建")
                # 释放场景项列表
                obs.sceneitem_list_release(scene_items)
        else:
            log_save(obs.LOG_WARNING, "无法获取场景对象")
        # 释放场景源
        obs.obs_source_release(current_scene)
        return True

    @staticmethod
    def button_function_stop_danmu(*args):
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        # -----------------------------------------------------------------------------------------------------------
        # 停止弹幕转发-------------------------------------------------------------------------------------------------
        ButtonFunction.button_function_stop_danmu_forwarding_service()
        # -----------------------------------------------------------------------------------------------------------
        # 移除浏览器源-------------------------------------------------------------------------------------------------
        ButtonFunction.button_function_remove_danmu_browser()
        
        return True

    @staticmethod
    def button_function_merge_emoticons(*args):
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        danmu_emoticons = obs.obs_data_get_string(
            GlobalVariableOfData.script_settings, widget.ComboBox.danmuEmoticons.Name
        )
        send_danmu_t_source = obs.obs_data_get_string(
            GlobalVariableOfData.script_settings, widget.TextBox.danmuSendText.Name
        )
        obs.obs_data_set_string(
            GlobalVariableOfData.script_settings,
            widget.TextBox.danmuSendText.Name,
            send_danmu_t_source + json.loads(danmu_emoticons)["emoji"]
        )
        return True

    @staticmethod
    def button_function_danmu_send(*args):
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        send_danmu_t_source = obs.obs_data_get_string(
            GlobalVariableOfData.script_settings, widget.TextBox.danmuSendText.Name
        )
        # -----------------------------------------------------------------------------------------------------------
        # 确认直播间---------------------------------------------------------------------------------------------------
        if not ButtonFunction.button_function_add_danmu_roomid():
            return False
        # -----------------------------------------------------------------------------------------------------------
        # 发送弹幕----------------------------------------------------------------------------------------------------
        send_danmu_ts = [seg for seg in re.split("\n", send_danmu_t_source) if seg]
        emjio_list = list(widget.ComboBox.danmuEmoticons.Dictionary.keys())

        def run():
            def fastout(send_danmaku_return, send_danmu_t):
                log_save(obs.LOG_INFO, f"{send_danmaku_return['error']}")
                while send_danmaku_return["api_code"] == 10030:
                    time.sleep(0.3)
                    log_save(obs.LOG_INFO, f"再次尝试发送")
                    send_danmaku_return = get_w_s_a().send_danmu(
                        int(widget.ComboBox.danmuRoom.Value), send_danmu_t
                    )
                    if send_danmaku_return["success"]:
                        log_save(obs.LOG_INFO, f"发送成功")
                    elif send_danmaku_return["api_code"] == 1003212:
                        lenout(send_danmaku_return, send_danmu_t)

                    else:
                        log_save(obs.LOG_INFO, f"{send_danmaku_return['message']}{send_danmaku_return['error']}")
                        return False
                return True
            def lenout(send_danmaku_return, send_danmu_t):
                log_save(obs.LOG_INFO, f"{send_danmaku_return['error']}")
                str_len_max = 40

                # 使用正则分割，保留表情和普通文本
                pattern = r'(\[.*?\])'
                segments = re.split(pattern, send_danmu_t)
                segments = [seg for seg in segments if seg]  # 过滤空字符串

                # 处理分割后的片段
                processed_segments = []
                for seg in segments:
                    if seg.startswith("[") and seg.endswith("]") and len(seg) <= str_len_max:
                        # 表情或特殊标记，整体保留
                        processed_segments.append(seg)
                    else:
                        # 普通文本，按字符拆分
                        processed_segments.extend(list(seg))

                # 分组发送
                current_group = []
                current_length = 0

                for seg in processed_segments:
                    seg_length = 1 if seg in emjio_list else len(seg)

                    if current_length + seg_length <= str_len_max:
                        current_group.append(seg)
                        current_length += seg_length
                    else:
                        # 发送当前分组
                        if current_group:
                            log_save(obs.LOG_INFO, f"发送：{''.join(current_group)}")
                            send_danmaku_return = get_w_s_a().send_danmu(
                                int(widget.ComboBox.danmuRoom.Value),
                                ''.join(current_group)
                            )
                            if send_danmaku_return["success"]:
                                log_save(obs.LOG_INFO, f"发送成功")
                            elif send_danmaku_return["api_code"] == 10030:
                                if not fastout(send_danmaku_return, ''.join(current_group)):
                                    return False
                            else:
                                log_save(obs.LOG_INFO, f"{send_danmaku_return['message']}{send_danmaku_return['error']}")
                                return False
                        # 开始新分组
                        current_group = [seg]
                        current_length = seg_length

                # 发送最后一组
                if current_group:
                    log_save(obs.LOG_INFO, f"发送：{''.join(current_group)}")
                    send_danmaku_return = get_w_s_a().send_danmu(
                        int(widget.ComboBox.danmuRoom.Value),
                        ''.join(current_group)
                    )
                    if send_danmaku_return["success"]:
                        log_save(obs.LOG_INFO, f"发送成功")
                    elif send_danmaku_return["api_code"] == 10030:
                        if not fastout(send_danmaku_return, ''.join(current_group)):
                            return False
                    else:
                        log_save(obs.LOG_INFO, f"{send_danmaku_return['message']}{send_danmaku_return['error']}")
                        return False
                return True
            for send_danmu_t in send_danmu_ts:
                send_danmaku_return = get_w_s_a().send_danmu(int(widget.ComboBox.danmuRoom.Value), send_danmu_t)
                log_save(obs.LOG_INFO, f"发送：{send_danmu_t}")
                if send_danmaku_return["success"]:
                    log_save(obs.LOG_INFO, f"发送成功")
                elif send_danmaku_return["api_code"] == 10030:
                    if not fastout(send_danmaku_return, send_danmu_t):
                        return False
                elif send_danmaku_return["api_code"] == 1003212:
                    if not lenout(send_danmaku_return, send_danmu_t):
                        return False
                else:
                    log_save(obs.LOG_INFO, f"{send_danmaku_return['message']}{send_danmaku_return['error']}")
            clear_cache()
        ds = threading.Thread(target=run)
        ds.daemon = True
        ds.start()
        obs.obs_data_set_string(GlobalVariableOfData.script_settings, widget.TextBox.danmuSendText.Name, "")
        return True

    @staticmethod
    def button_function_set_widget_visibility(*args):
        if len(args) == 2:
            props = args[0]
            prop = args[1]
        if len(args) == 3:
            settings = args[2]
        widget_visibility_dict_old = get_c_d_m().get_data(get_b_u_c_m().get_default_user_id(), "widgetVisibility")
        # 兼容首次运行 / 没有历史记录 / 数据损坏的情况，避免 IndexError
        if widget_visibility_dict_old:
            try:
                widget_visibility_old_dict = json.loads(widget_visibility_dict_old[0]) or {}
                if not isinstance(widget_visibility_old_dict, dict):
                    widget_visibility_old_dict = {}
            except Exception:
                widget_visibility_old_dict = {}
        else:
            # 没有历史记录，就当作“之前全是默认值”
            widget_visibility_old_dict = {}
        widget_visibility_dict = {}
        for w in widget.get_sorted_controls():
            if w.ControlType == "Group":
                if w.Type == obs.OBS_GROUP_CHECKABLE:
                    widget_visibility_dict[w.GroupProps] = "1" if obs.obs_data_get_bool(GlobalVariableOfData.script_settings, w.Name) else "0"
        widget_visibility_dict_ = json.dumps(widget_visibility_dict, ensure_ascii=False)
        get_c_d_m().add_data(get_b_u_c_m().get_default_user_id(), "widgetVisibility", widget_visibility_dict_, 1)
        updata_ps_list = [key for key in widget_visibility_dict if key in widget_visibility_old_dict and widget_visibility_dict[key] != widget_visibility_old_dict[key]]

        clear_cache()

        # 更新脚本控制台中的控件
        GlobalVariableOfData.update_widget_for_props_dict = {}
        for updata_ps in updata_ps_list:
            GlobalVariableOfData.update_widget_for_props_dict[updata_ps] = widget.props_Collection[updata_ps]
        log_save(obs.LOG_INFO, f"更新控件配置信息")
        script_defaults(GlobalVariableOfData.script_settings)
        # 更新脚本用户小部件
        log_save(obs.LOG_INFO, f"更新控件UI")
        update_ui_interface_data()
        GlobalVariableOfData.update_widget_for_props_dict = widget.props_Collection
        return True


# 创建控件表单
widget = Widget()

widget.widget_Group_dict = {
    "props": {
        "account": {
            "Name": "account_group",
            "Description": "账号",
            "Type": obs.OBS_GROUP_CHECKABLE,
            "GroupProps": "account_props",
            "ModifiedIs": True
        },
        "room": {
            "Name": "room_group",
            "Description": "直播间",
            "Type": obs.OBS_GROUP_CHECKABLE,
            "GroupProps": "room_props",
            "ModifiedIs": True
        },
        "booking": {
            "Name": "booking_group",
            "Description": "直播预约",
            "Type": obs.OBS_GROUP_CHECKABLE,
            "GroupProps": "booking_props",
            "ModifiedIs": True
        },
        "danmu": {
            "Name": "danmu_group",
            "Description": "弹幕",
            "Type": obs.OBS_GROUP_CHECKABLE,
            "GroupProps": "danmu_props",
            "ModifiedIs": True
        },
    },
    "room_props": {
        "liveBroadcastCover": {
            "Name": "live_broadcast_cover_group",
            "Description": "直播封面",
            "Type": obs.OBS_GROUP_CHECKABLE,
            "GroupProps": "live_broadcast_cover_props",
            "ModifiedIs": True
        },
        "liveBroadcastTitle": {
            "Name": "live_broadcast_title_group",
            "Description": "直播标题",
            "Type": obs.OBS_GROUP_CHECKABLE,
            "GroupProps": "live_broadcast_title_props",
            "ModifiedIs": True
        },
        "liveBroadcastAnnouncement": {
            "Name": "live_broadcast_announcement_group",
            "Description": "直播公告",
            "Type": obs.OBS_GROUP_CHECKABLE,
            "GroupProps": "live_broadcast_announcement_props",
            "ModifiedIs": True
        },
        "liveStreamingSection": {
            "Name": "live_streaming_section_group",
            "Description": "直播分区",
            "Type": obs.OBS_GROUP_CHECKABLE,
            "GroupProps": "live_streaming_section_props",
            "ModifiedIs": True
        },
        "live": {
            "Name": "live_group",
            "Description": "直播",
            "Type": obs.OBS_GROUP_CHECKABLE,
            "GroupProps": "live_props",
            "ModifiedIs": True
        },
    },
    "booking_props": {
        "bookingSend": {
            "Name": "booking_send_group",
            "Description": "直播预约发送",
            "Type": obs.OBS_GROUP_NORMAL,
            "GroupProps": "booking_send_props",
            "ModifiedIs": False
        },
    },
    "danmu_props": {
        "danmuDisplayOptions": {
            "Name": "danmu_display_options_group",
            "Description": "显示选项",
            "Type": obs.OBS_GROUP_NORMAL,
            "GroupProps": "danmu_display_options_props",
            "ModifiedIs": False
        },
        "danmuOnOff": {
            "Name": "danmu_onoff_group",
            "Description": "弹幕显示开关",
            "Type": obs.OBS_GROUP_CHECKABLE,
            "GroupProps": "danmu_onoff_props",
            "ModifiedIs": True
        },
        "danmuSend": {
            "Name": "danmu_send_group",
            "Description": "弹幕发送",
            "Type": obs.OBS_GROUP_CHECKABLE,
            "GroupProps": "danmu_send_props",
            "ModifiedIs": True
        },
    },
}

widget.widget_TextBox_dict = {
    "account_props": {
        "loginStatus": {
            "Name": "login_status_textBox",
            "Description": "登录状态",
            "Type": obs.OBS_TEXT_INFO,
            "ModifiedIs": True
        },
    },
    "room_props": {
        "roomStatus": {
            "Name": "room_status_textBox",
            "Description": "状态",
            "Type": obs.OBS_TEXT_INFO,
            "ModifiedIs": False
        },
    },
    "live_broadcast_announcement_props": {
        "roomNews": {
            "Name": "room_news_textBox",
            "Description": "公告",
            "Type": obs.OBS_TEXT_MULTILINE,
            "ModifiedIs": True
        },
    },
    "booking_send_props": {
        "liveBookingsTitle": {
            "Name": "live_bookings_title_textBox",
            "Description": "直播预约标题",
            "Type": obs.OBS_TEXT_DEFAULT,
            "ModifiedIs": True
        },
    },
    "danmu_props": {
        "danmuWssProt": {
            "Name": "danmu_Web_socket_server_prot_textBox",
            "Description": "弹幕端口",
            "LongDescription": "弹幕服务端转发端口，如果冲突尽量更改，1024-49151之间",
            "Type": obs.OBS_TEXT_DEFAULT,
            "ModifiedIs": False
        },
        "danmuWebCss": {
            "Name": "danmu_Web_css_textBox",
            "Description": "弹幕样式",
            "LongDescription": "弹幕css",
            "Type": obs.OBS_TEXT_MULTILINE,
            "ModifiedIs": False
        },
    },
    "danmu_send_props": {
        "danmuSendText": {
            "Name": "danmu_send_text_textBox",
            "Description": "输入",
            "LongDescription": "弹幕发送文字",
            "Type": obs.OBS_TEXT_MULTILINE,
            "ModifiedIs": False
        },
    },
}

widget.widget_ComboBox_dict = {
    "account_props": {
        "uid": {
            "Name": "uid_comboBox",
            "Description": "用户",
            "Type": obs.OBS_COMBO_TYPE_LIST,
            "ModifiedIs": True
        },
    },
    "live_broadcast_title_props": {
        "roomCommonTitles": {
            "Name": "room_Titles_comboBox",
            "Description": "标题",
            "Type": obs.OBS_COMBO_TYPE_EDITABLE,
            "ModifiedIs": True
        },
    },
    "live_streaming_section_props": {
        "roomCommonAreas": {
            "Name": "room_commonAreas_comboBox",
            "Description": "分区",
            "Type": obs.OBS_COMBO_TYPE_LIST,
            "ModifiedIs": True
        },
        "roomParentArea": {
            "Name": "room_parentArea_comboBox",
            "Description": "一级",
            "Type": obs.OBS_COMBO_TYPE_LIST,
            "ModifiedIs": True
        },
        "roomSubArea": {
            "Name": "room_subArea_comboBox",
            "Description": "二级",
            "Type": obs.OBS_COMBO_TYPE_LIST,
            "ModifiedIs": True
        },
    },
    "live_props": {
        "liveStreamingPlatform": {
            "Name": "live_streaming_platform_comboBox",
            "Description": "平台",
            "Type": obs.OBS_COMBO_TYPE_LIST,
            "ModifiedIs": True
        },
    },
    "booking_props": {
        "liveBookings": {
            "Name": "live_bookings_comboBox",
            "Description": "直播预约列表",
            "Type": obs.OBS_COMBO_TYPE_LIST,
            "ModifiedIs": True
        },
    },
    "danmu_props": {
        "danmuRoom": {
            "Name": "danmu_room_comboBox",
            "Description": "目标直播间",
            "LongDescription": "发送和接收弹幕的直播间，输入房间号也可以添加",
            "Type": obs.OBS_COMBO_TYPE_EDITABLE,
            "ModifiedIs": True
        },
    },
    "danmu_send_props": {
        "danmuEmoticons": {
            "Name": "danmu_emoticons_comboBox",
            "Description": "表情",
            "Type": obs.OBS_COMBO_TYPE_LIST,
            "ModifiedIs": True
        },
    },
}

widget.widget_PathBox_dict = {
    "live_broadcast_cover_props": {
        "roomCover": {
            "Name": "room_cover_fileDialogBox",
            "Description": "封面",
            "Type": obs.OBS_PATH_FILE,
            "Filter": "图片(*.jpg *.jpeg *.png)",
            "StartPath": "",
            "ModifiedIs": False
        },
    },
}

widget.widget_DigitalDisplay_dict = {
    "booking_send_props": {
        "liveBookingsDay": {
            "Name": "live_bookings_day_digitalSlider",
            "Description": "预约天",
            "Type": "ThereIsASlider",
            "Suffix": "天",
            "ModifiedIs": True
        },
        "liveBookingsHour": {
            "Name": "live_bookings_hour_digitalSlider",
            "Description": "预约时",
            "Type": "ThereIsASlider",
            "Suffix": "时",
            "ModifiedIs": True
        },
        "liveBookingsMinute": {
            "Name": "live_bookings_minute_digitalSlider",
            "Description": "预约分",
            "Type": "ThereIsASlider",
            "Suffix": "分",
            "ModifiedIs": True
        },
    },
    "danmu_props": {
        "danmuNumCommentsClient": {
            "Name": "danmu_number_of_comments_client_digitalSlider",
            "Description": "弹幕客户端创建数",
            "Type": "ThereIsAUnSlider",
            "Suffix": "个",
            "ModifiedIs": True
        },
        "danmuIntervalNumCommentsClient": {
            "Name": "danmu_interval_number_of_comments_client_digitalSlider",
            "Description": "弹幕客户端创建间隔",
            "Type": "ThereIsAUnSlider",
            "Suffix": "毫秒",
            "ModifiedIs": True
        },
        "danmuNumCacheEntries": {
            "Name": "danmu_number_of_cache_entries_digitalSlider",
            "Description": "防重复的缓存条数",
            "Type": "ThereIsASlider",
            "Suffix": "条",
            "ModifiedIs": True
        },
        "danmuCacheDuration": {
            "Name": "danmu_cache_duration_digitalSlider",
            "Description": "防重复的缓存时长",
            "Type": "ThereIsASlider",
            "Suffix": "秒",
            "ModifiedIs": True
        },
        "danmuFacePictureSize": {
            "Name": "danmu_face_picture_size_digitalSlider",
            "Description": "头像大小",
            "Type": "ThereIsASlider",
            "Suffix": "px",
            "ModifiedIs": True
        },
        "danmuFanMedalTextSize": {
            "Name": "danmu_fan_medal_text_size_digitalSlider",
            "Description": "粉丝勋章文字大小",
            "Type": "ThereIsASlider",
            "Suffix": "px",
            "ModifiedIs": True
        },
        "danmuMessageTextSize": {
            "Name": "danmu_message_text_size_digitalSlider",
            "Description": "内容文字大小",
            "Type": "ThereIsASlider",
            "Suffix": "px",
            "ModifiedIs": True
        },
        "danmuTimeTextSize": {
            "Name": "danmu_time_text_size_digitalSlider",
            "Description": "时间文字大小",
            "Type": "ThereIsASlider",
            "Suffix": "px",
            "ModifiedIs": True
        },
    },
}

widget.widget_CheckBox_dict = {
    "booking_send_props": {
        "liveBookingsDynamic": {
            "Name": "live_bookings_dynamic_checkBox",
            "Description": "是否发直播预约动态",
            "ModifiedIs": True
        },
    },
    "danmu_display_options_props": {
        "enterRoomDisplay": {
            "Name": "enter_room_display_checkBox",
            "Description": "是否显示进房消息",
            "ModifiedIs": True
        },
        "medalDisplay": {
            "Name": "medal_display_checkBox",
            "Description": "是否显示粉丝徽章",
            "ModifiedIs": True
        },
        "medalOtherDisplay": {
            "Name": "medal_other_display_checkBox",
            "Description": "是否显示其他的粉丝徽章",
            "ModifiedIs": True
        },
        "medalUnLightDisplay": {
            "Name": "medal_un_light_display_checkBox",
            "Description": "是否显示未点亮的粉丝徽章",
            "ModifiedIs": True
        },
        "lineBreakDisplay": {
            "Name": "line_break_display_checkBox",
            "Description": "换行显示",
            "ModifiedIs": True
        },
        "tagAdministratorDisplay": {
            "Name": "tag_administrator_checkBox",
            "Description": "是否标记管理员，is_admin不受影响",
            "ModifiedIs": True
        },
        "timestampDisplay": {
            "Name": "timestamp_display_checkBox",
            "Description": "是否显示时间",
            "ModifiedIs": True
        },
    },
}

widget.widget_Button_dict = {
    "props": {
        "top": {
            "Name": "top_button",
            "Description": "Top",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": lambda ps, p: log_save(obs.LOG_INFO, f"【{'顶部'}】按钮被触发"),
            "ModifiedIs": True
        },
        "startScript": {
            "Name": "start_script_button",
            "Description": "启动脚本",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_start_script,
            "ModifiedIs": False
        },
        "setWidgetVisibility": {
            "Name": "set_widget_visibility_button",
            "Description": "设置控件组可见性",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_set_widget_visibility,
            "ModifiedIs": False
        },
        "bottom": {
            "Name": "bottom_button",
            "Description": "Bottom",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": lambda ps, p: log_save(obs.LOG_INFO, f"【{'底部'}】按钮被触发"),
            "ModifiedIs": True
        },
    },
    "account_props": {
        "login": {
            "Name": "login_button",
            "Description": "登录账号",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_login,
            "ModifiedIs": False
        },
        "accountListUpdate": {
            "Name": "account_list_update_button",
            "Description": "更新账号列表",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_update_account_list,
            "ModifiedIs": False
        },
        "qrAddAccount": {
            "Name": "qr_add_account_button",
            "Description": "二维码添加账户",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_qr_add_account,
            "ModifiedIs": False
        },
        "qrPictureDisplay": {
            "Name": "qr_picture_display_button",
            "Description": "显示二维码图片",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_show_qr_picture,
            "ModifiedIs": False
        },
        "accountDelete": {
            "Name": "account_delete_button",
            "Description": "删除账户",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_del_user,
            "ModifiedIs": False
        },
        "accountBackup": {
            "Name": "account_backup_button",
            "Description": "备份账户",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_backup_users,
            "ModifiedIs": False
        },
        "accountRestore": {
            "Name": "account_restore_button",
            "Description": "恢复账户",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_restore_user,
            "ModifiedIs": False
        },
        "logout": {
            "Name": "logout_button",
            "Description": "登出账号",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_logout,
            "ModifiedIs": False
        },
    },
    "room_props": {
        "roomOpened": {
            "Name": "room_opened_button",
            "Description": "开通直播间",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_opened_room,
            "ModifiedIs": False
        },
        "realNameAuthentication": {
            "Name": "real_name_authentication_button",
            "Description": "实名认证",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_real_name_authentication,
            "ModifiedIs": False
        },
        "bliveWebJump": {
            "Name": "blive_web_jump_button",
            "Description": "跳转直播间后台网页",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_jump_blive_web,
            "Url": "https://link.bilibili.com/p/center/index#/my-room/start-live",
            "ModifiedIs": False
        },
    },
    "live_broadcast_cover_props": {
        "roomCoverView": {
            "Name": "room_cover_view_button",
            "Description": "查看直播间封面",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_check_room_cover,
            "ModifiedIs": False
        },
        "roomCoverUpdate": {
            "Name": "room_cover_update_button",
            "Description": "上传直播间封面",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_update_room_cover,
            "ModifiedIs": False
        },
    },
    "live_broadcast_title_props": {
        "roomTitleChange": {
            "Name": "room_title_change_button",
            "Description": "更改直播间标题",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_change_live_room_title,
            "ModifiedIs": False
        },
    },
    "live_broadcast_announcement_props": {
        "roomNewsChange": {
            "Name": "room_news_change_button",
            "Description": "更改直播间公告",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_change_live_room_news,
            "ModifiedIs": False
        },
    },
    "live_streaming_section_props": {
        "roomCommonAreasTrue": {
            "Name": "room_commonAreas_true_button",
            "Description": "确认分区",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_true_live_room_common_area,
            "ModifiedIs": False
        },
        "roomParentAreaTrue": {
            "Name": "room_parentArea_true_button",
            "Description": "确认一级分区",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_start_parent_area,
            "ModifiedIs": False
        },
        "roomSubAreaTrue": {
            "Name": "room_subArea_true_button",
            "Description": "「确认分区」",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_start_sub_area,
            "ModifiedIs": False
        },
    },
    "live_props": {
        "liveFaceAuth": {
            "Name": "live_face_auth_button",
            "Description": "人脸认证",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_face_auth,
            "ModifiedIs": False
        },
        "liveStart": {
            "Name": "live_start_button",
            "Description": "开始直播并复制推流码",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_start_live,
            "ModifiedIs": False
        },
        "liveRtmpAddressCopy": {
            "Name": "live_rtmp_address_copy_button",
            "Description": "复制直播服务器",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_rtmp_address_copy,
            "ModifiedIs": False
        },
        "liveRtmpCodeCopy": {
            "Name": "live_rtmp_code_copy_button",
            "Description": "复制直播推流码",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_rtmp_stream_code_copy,
            "ModifiedIs": False
        },
        "liveStop": {
            "Name": "live_stop_button",
            "Description": "结束直播",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_stop_live,
            "ModifiedIs": False
        },
    },
    "booking_props": {
        "liveBookingsCancel": {
            "Name": "live_bookings_cancel_button",
            "Description": "取消直播预约",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_cancel_live_appointment,
            "ModifiedIs": False
        },
    },
    "booking_send_props": {
        "liveBookingsDayTrue": {
            "Name": "live_bookings_day_true_button",
            "Description": "确认预约天",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_true_live_appointment_day,
            "ModifiedIs": False
        },
        "liveBookingsHourTrue": {
            "Name": "live_bookings_hour_true_button",
            "Description": "确认预约时",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": lambda ps, p: log_save(obs.LOG_INFO, f"【{'确认预约时'}】按钮被触发"),
            "ModifiedIs": False
        },
        "liveBookingsMinuteTrue": {
            "Name": "live_bookings_minute_true_button",
            "Description": "确认预约分",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": lambda ps, p: log_save(obs.LOG_INFO, f"【{'确认预约分'}】按钮被触发"),
            "ModifiedIs": False
        },
        "liveBookingsCreate": {
            "Name": "live_bookings_create_button",
            "Description": "发布直播预约",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_creat_live_appointment,
            "ModifiedIs": False
        },
    },
    "danmu_props": {
        "settingDanmuData": {
            "Name": "setting_danmu_data_button",
            "Description": "弹幕数据设置",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_setting_danmu_data,
            "ModifiedIs": False
        },
        "applyDanmuCss": {
            "Name": "apply_danmu_css_button",
            "Description": "应用弹幕样式",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_apply_danmu_css,
            "ModifiedIs": False
        },
        "confirmDanmuWssPort": {
            "Name": "confirm_danmu_wss_port_button",
            "Description": "确认弹幕转发端口",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_confirm_danmu_wss_port,
            "ModifiedIs": False
        },
        "addDanmuRoomid": {
            "Name": "add_danmu_roomid_button",
            "Description": "添加直播间",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_add_danmu_roomid,
            "ModifiedIs": False
        },
        "delDanmuRoomid": {
            "Name": "del_danmu_roomid_button",
            "Description": "删除直播间",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_del_danmu_roomid,
            "ModifiedIs": False
        },
    },
    "danmu_onoff_props": {
        "startDanmuForwardingService": {
            "Name": "start_danmu_forwarding_service_button",
            "Description": "开启弹幕转发服务",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_start_danmu_forwarding_service,
            "ModifiedIs": False
        },
        "addDanmuBrowser": {
            "Name": "add_danmu_browser_button",
            "Description": "添加弹幕浏览器源",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_add_danmu_browser,
            "ModifiedIs": False
        },
        "startDanmu": {
            "Name": "start_danmu_button",
            "Description": "开启弹幕",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_start_danmu,
            "ModifiedIs": False
        },
        "stopDanmuForwardingService": {
            "Name": "stop_danmu_forwarding_service_button",
            "Description": "终止弹幕转发服务",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_stop_danmu_forwarding_service,
            "ModifiedIs": False
        },
        "removeDanmuBrowser": {
            "Name": "remove_danmu_browser_button",
            "Description": "移除弹幕浏览器源",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_remove_danmu_browser,
            "ModifiedIs": False
        },
        "stopDanmu": {
            "Name": "stop_danmu_button",
            "Description": "停止弹幕",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_stop_danmu,
            "ModifiedIs": False
        },
    },
    "danmu_send_props": {
        "mergeEmoticons": {
            "Name": "merge_emoticons_button",
            "Description": "输入表情",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_merge_emoticons,
            "ModifiedIs": False
        },
        "danmuSend": {
            "Name": "danmu_send_button",
            "Description": "发送",
            "Type": obs.OBS_BUTTON_DEFAULT,
            "Callback": ButtonFunction.button_function_danmu_send,
            "ModifiedIs": False
        },
    },
}

widget.widget_list = [
    "top_button",
    "start_script_button",
    "account_group",
    "login_status_textBox",
    "uid_comboBox",
    "login_button",
    "account_list_update_button",
    "qr_add_account_button",
    "qr_picture_display_button",
    "account_delete_button",
    "account_backup_button",
    "account_restore_button",
    "logout_button",
    "room_group",
    "room_status_textBox",
    "room_opened_button",
    "real_name_authentication_button",
    "live_broadcast_cover_group",
    "room_cover_view_button",
    "room_cover_fileDialogBox",
    "room_cover_update_button",
    "live_broadcast_title_group",
    "room_Titles_comboBox",
    "room_title_change_button",
    "live_broadcast_announcement_group",
    "room_news_textBox",
    "room_news_change_button",
    "live_streaming_section_group",
    "room_commonAreas_comboBox",
    "room_commonAreas_true_button",
    "room_parentArea_comboBox",
    "room_parentArea_true_button",
    "room_subArea_comboBox",
    "room_subArea_true_button",
    "live_group",
    "live_face_auth_button",
    "live_streaming_platform_comboBox",
    "live_start_button",
    "live_rtmp_address_copy_button",
    "live_rtmp_code_copy_button",
    "live_stop_button",
    "blive_web_jump_button",
    "booking_group",
    "booking_send_group",
    "live_bookings_day_digitalSlider",
    "live_bookings_day_true_button",
    "live_bookings_hour_digitalSlider",
    "live_bookings_hour_true_button",
    "live_bookings_minute_digitalSlider",
    "live_bookings_minute_true_button",
    "live_bookings_dynamic_checkBox",
    "live_bookings_title_textBox",
    "live_bookings_create_button",
    "live_bookings_comboBox",
    "live_bookings_cancel_button",
    "danmu_group",
    "danmu_number_of_comments_client_digitalSlider",
    "danmu_interval_number_of_comments_client_digitalSlider",
    "danmu_display_options_group",
    "enter_room_display_checkBox",
    "medal_display_checkBox",
    "medal_other_display_checkBox",
    "medal_un_light_display_checkBox",
    "line_break_display_checkBox",
    "tag_administrator_checkBox",
    "timestamp_display_checkBox",
    "danmu_number_of_cache_entries_digitalSlider",
    "danmu_cache_duration_digitalSlider",
    "danmu_face_picture_size_digitalSlider",
    "danmu_fan_medal_text_size_digitalSlider",
    "danmu_message_text_size_digitalSlider",
    "danmu_time_text_size_digitalSlider",
    "setting_danmu_data_button",
    "danmu_Web_css_textBox",
    "apply_danmu_css_button",
    "danmu_Web_socket_server_prot_textBox",
    "confirm_danmu_wss_port_button",
    "danmu_room_comboBox",
    "add_danmu_roomid_button",
    "del_danmu_roomid_button",
    "danmu_onoff_group",
    "start_danmu_forwarding_service_button",
    "add_danmu_browser_button",
    "start_danmu_button",
    "stop_danmu_forwarding_service_button",
    "remove_danmu_browser_button",
    "stop_danmu_button",
    "danmu_send_group",
    "danmu_emoticons_comboBox",
    "merge_emoticons_button",
    "danmu_send_text_textBox",
    "danmu_send_button",
    "set_widget_visibility_button",
    "bottom_button",
]

widget.preliminary_configuration_control()

if widget.verification_number_controls:
    log_save(obs.LOG_INFO, "控件数量检测通过")
else:
    log_save(obs.LOG_ERROR, "⚾控件数量检测不通过：设定控件载入顺序时的控件数量 和 创建的控件对象数量 不统一")
